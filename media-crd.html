
<!DOCTYPE html><html lang="en-us"><head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="generator" content="ReSpec 26.0.0">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<style>
span.example-title{text-transform:none}
aside.example,div.example,div.illegal-example{padding:.5em;margin:1em 0;position:relative;clear:both}
div.illegal-example{color:red}
div.illegal-example p{color:#000}
aside.example,div.example{padding:.5em;border-left-width:.5em;border-left-style:solid;border-color:#e0cb52;background:#fcfaee}
aside.example div.example{border-left-width:.1em;border-color:#999;background:#fff}
aside.example div.example span.example-title{color:#999}
</style>
<style>
.issue-label{text-transform:initial}
.warning>p:first-child{margin-top:0}
.warning{padding:.5em;border-left-width:.5em;border-left-style:solid}
span.warning{padding:.1em .5em .15em}
.issue.closed span.issue-number{text-decoration:line-through}
.warning{border-color:#f11;border-width:.2em;border-style:solid;background:#fbe9e9}
.warning-title:before{content:"⚠";font-size:1.3em;float:left;padding-right:.3em;margin-top:-.3em}
li.task-list-item{list-style:none}
input.task-list-item-checkbox{margin:0 .35em .25em -1.6em;vertical-align:middle}
.issue a.respec-gh-label{padding:5px;margin:0 2px 0 2px;font-size:10px;text-transform:none;text-decoration:none;font-weight:700;border-radius:4px;position:relative;bottom:2px;border:none;display:inline-block}
</style>
<style>
pre.idl{padding:1em;position:relative}
@media print{
pre.idl{white-space:pre-wrap}
}
.idlHeader{display:block;width:150px;background:#8ccbf2;color:#fff;font-family:sans-serif;font-weight:700;margin:-1em 0 1em -1em;height:28px;line-height:28px}
.idlHeader a.self-link{margin-left:.3cm;text-decoration:none;border-bottom:none}
.idlID{font-weight:700;color:#005a9c}
.idlType{color:#005a9c}
.idlName{color:#ff4500}
.idlName a{color:#ff4500;border-bottom:1px dotted #ff4500;text-decoration:none}
a.idlEnumItem{color:#000;border-bottom:1px dotted #ccc;text-decoration:none}
.idlSuperclass{font-style:italic;color:#005a9c}
.idlDefaultValue,.idlParamName{font-style:italic}
.extAttr{color:#666}
.idlSectionComment{color:gray}
.idlIncludes a{font-weight:700}
.respec-button-copy-paste:focus{text-decoration:none;border-color:#51a7e8;outline:0;box-shadow:0 0 5px rgba(81,167,232,.5)}
.respec-button-copy-paste.selected:focus,.respec-button-copy-paste:focus:hover{border-color:#51a7e8}
.respec-button-copy-paste.zeroclipboard-is-active,.respec-button-copy-paste.zeroclipboard-is-hover,.respec-button-copy-paste:active,.respec-button-copy-paste:hover{text-decoration:none;background-color:#ddd;background-image:linear-gradient(#eee,#ddd);border-color:#ccc}
.respec-button-copy-paste.selected,.respec-button-copy-paste.zeroclipboard-is-active,.respec-button-copy-paste:active{background-color:#dcdcdc;background-image:none;border-color:#b5b5b5;box-shadow:inset 0 2px 4px rgba(0,0,0,.15)}
.respec-button-copy-paste.selected:hover{background-color:#cfcfcf}
.respec-button-copy-paste.disabled,.respec-button-copy-paste.disabled:hover,.respec-button-copy-paste:disabled,.respec-button-copy-paste:disabled:hover{color:rgba(102,102,102,.5);cursor:default;background-color:rgba(229,229,229,.5);background-image:none;border-color:rgba(197,197,197,.5);box-shadow:none}
@media print{
.respec-button-copy-paste{visibility:hidden}
}
</style>
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font:small Helvetica Neue,sans-serif,Droid Sans Fallback;background:#fff;color:#000;box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;margin-top:.25em}
.dfn-panel ul a[href]{color:#333}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>
  
<link href="getusermedia.css" rel="stylesheet" type="text/css">
  
<title>Media Capture and Streams</title>
  
  
<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
.hljs{background:0 0!important}
a abbr,h1 abbr,h2 abbr,h3 abbr,h4 abbr,h5 abbr,h6 abbr{border:none}
dfn{font-weight:700}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
code{color:#c63501}
th code{color:inherit}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
.toc a,.tof a{text-decoration:none}
a .figno,a .secno{color:#000}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
table.simple{border-spacing:0;border-collapse:collapse;border-bottom:3px solid #005a9c}
.simple th{background:#005a9c;color:#fff;padding:3px 5px;text-align:left}
.simple th a{color:#fff;padding:3px 5px;text-align:left}
.simple th[scope=row]{background:inherit;color:inherit;border-top:1px solid #ddd}
.simple td{padding:3px 10px;border-top:1px solid #ddd}
.simple tr:nth-child(even){background:#f0f6ff}
.section dd>p:first-child{margin-top:0}
.section dd>p:last-child{margin-bottom:0}
.section dd{margin-bottom:1em}
.section dl.attrs dd,.section dl.eldef dd{margin-bottom:0}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
a[href].self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
h2,h3,h4,h5,h6{position:relative}
aside.example .marker>a.self-link{color:inherit}
h2>a.self-link,h3>a.self-link,h4>a.self-link,h5>a.self-link,h6>a.self-link{border:none;color:inherit;font-size:83%;height:2em;left:-1.6em;opacity:.5;position:absolute;text-align:center;text-decoration:none;top:0;transition:opacity .2s;width:2em}
h2>a.self-link::before,h3>a.self-link::before,h4>a.self-link::before,h5>a.self-link::before,h6>a.self-link::before{content:"§";display:block}
@media (max-width:767px){
dd{margin-left:0}
h2>a.self-link,h3>a.self-link,h4>a.self-link,h5>a.self-link,h6>a.self-link{left:auto;top:auto}
}
@media print{
.removeOnSave{display:none}
}
</style>
  

<meta name="description" content="This document defines a set of JavaScript APIs that allow local media,
    including audio and video, to be requested from a platform.">
<link rel="canonical" href="https://www.w3.org/TR/mediacapture-streams/">
<style>
.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}
.hljs-comment,.hljs-quote{color:#717277;font-style:italic}
.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}
.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#ca4706;font-weight:700}
.hljs-literal{color:#0b76c5}
.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#42803c}
.hljs-built_in,.hljs-class .hljs-title{color:#9a6a01}
.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}
.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#336ae3}
.hljs-emphasis{font-style:italic}
.hljs-strong{font-weight:700}
.hljs-link{text-decoration:underline}
</style>
<style>
var{position:relative;cursor:pointer}
var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#000}
var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#000;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}
</style>
<script id="initialUserConfig" type="application/json">{
  "specStatus": "CRD",
  "shortName": "mediacapture-streams",
  "edDraftURI": "https://w3c.github.io/mediacapture-main/",
  "formerEditors": [
    {
      "w3cid": "85118",
      "name": "Daniel C. Burnett",
      "company": "Invited Expert",
      "retiredDate": "2018-06-01"
    },
    {
      "w3cid": "45507",
      "name": "Adam Bergkvist",
      "company": "Ericsson",
      "retiredDate": "2018-06-01"
    },
    {
      "w3cid": "47326",
      "name": "Anant Narayanan",
      "company": "Mozilla",
      "retiredDate": "2012-11-30"
    }
  ],
  "editors": [
    {
      "w3cid": "25254",
      "name": "Cullen Jennings",
      "company": "Cisco"
    },
    {
      "w3cid": "65611",
      "name": "Bernard Aboba",
      "company": "Microsoft Corporation"
    },
    {
      "w3cid": "79152",
      "name": "Jan-Ivar Bruaroey",
      "company": "Mozilla"
    },
    {
      "w3cid": "96936",
      "name": "Henrik Boström",
      "company": "Google"
    }
  ],
  "group": "webrtc",
  "implementationReportURI": "https://wpt.fyi/mediacapture-streams",
  "wgPublicList": "public-webrtc",
  "github": "https://github.com/w3c/mediacapture-main/",
  "xref": [
    "dom",
    "html",
    "webidl",
    "permissions",
    "permissions-policy",
    "webaudio"
  ],
  "otherLinks": [
    {
      "key": "Participate",
      "data": [
        {
          "value": "GitHub w3c/mediacapture-main",
          "href": "https://github.com/w3c/mediacapture-main/"
        },
        {
          "value": "File a bug",
          "href": "https://github.com/w3c/mediacapture-main/issues/"
        },
        {
          "value": "Commit history",
          "href": "https://github.com/w3c/mediacapture-main/commits/gh-pages"
        },
        {
          "value": "Pull requests",
          "href": "https://github.com/w3c/mediacapture-main/pulls/"
        }
      ]
    },
    {
      "key": "Participate",
      "data": [
        {
          "value": "Mailing list",
          "href": "https://lists.w3.org/Archives/Public/public-webrtc/"
        }
      ]
    }
  ],
  "publishDate": "2020-12-10",
  "previousMaturity": "CRD",
  "previousPublishDate": "2020-12-03",
  "publishISODate": "2020-12-10T00:00:00.000Z",
  "generatedSubtitle": "Candidate Recommendation Draft 10 December 2020"
}</script>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-CRD"></head>
<body class="h-entry" data-cite="WebIDL dom html webidl permissions permissions-policy webaudio"><div class="head">
    <a class="logo" href="https://www.w3.org/"><img alt="W3C" width="72" height="48" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C"></a> <h1 id="title" class="title">Media Capture and Streams</h1>
    
    <h2>
      W3C Candidate Recommendation Draft
      <time class="dt-published" datetime="2020-12-10">10 December 2020</time>
    </h2>
    <dl>
      <dt>This version:</dt><dd>
              <a class="u-url" href="https://www.w3.org/TR/2020/CRD-mediacapture-streams-20201210/">https://www.w3.org/TR/2020/CRD-mediacapture-streams-20201210/</a>
            </dd><dt>Latest published version:</dt><dd>
              <a href="https://www.w3.org/TR/mediacapture-streams/">https://www.w3.org/TR/mediacapture-streams/</a>
            </dd>
      <dt>Latest editor's draft:</dt><dd><a href="https://w3c.github.io/mediacapture-main/">https://w3c.github.io/mediacapture-main/</a></dd>
      
      <dt>Implementation report:</dt><dd>
              <a href="https://wpt.fyi/mediacapture-streams">https://wpt.fyi/mediacapture-streams</a>
            </dd>
      
      <dt>Previous version:</dt><dd><a href="https://www.w3.org/TR/2020/CRD-mediacapture-streams-20201203/">https://www.w3.org/TR/2020/CRD-mediacapture-streams-20201203/</a></dd>
      
      <dt>Editors:</dt>
      <dd class="p-author h-card vcard" data-editor-id="25254"><span class="p-name fn">Cullen Jennings</span> (Cisco) </dd><dd class="p-author h-card vcard" data-editor-id="65611"><span class="p-name fn">Bernard Aboba</span> (Microsoft Corporation) </dd><dd class="p-author h-card vcard" data-editor-id="79152"><span class="p-name fn">Jan-Ivar Bruaroey</span> (Mozilla) </dd><dd class="p-author h-card vcard" data-editor-id="96936"><span class="p-name fn">Henrik Boström</span> (Google) </dd>
      <dt>
              Former editors:
            </dt><dd class="p-author h-card vcard" data-editor-id="85118"><span class="p-name fn">Daniel C. Burnett</span> (Invited Expert)  -  Until <time datetime="2018-06-01">01 June 2018</time></dd><dd class="p-author h-card vcard" data-editor-id="45507"><span class="p-name fn">Adam Bergkvist</span> (Ericsson)  -  Until <time datetime="2018-06-01">01 June 2018</time></dd><dd class="p-author h-card vcard" data-editor-id="47326"><span class="p-name fn">Anant Narayanan</span> (Mozilla)  -  Until <time datetime="2012-11-30">30 November 2012</time></dd>
      
      <dt>Participate:</dt><dd>
    <a href="https://github.com/w3c/mediacapture-main/">GitHub w3c/mediacapture-main</a>
  </dd><dd>
    <a href="https://github.com/w3c/mediacapture-main/issues/">File a bug</a>
  </dd><dd>
    <a href="https://github.com/w3c/mediacapture-main/commits/gh-pages">Commit history</a>
  </dd><dd>
    <a href="https://github.com/w3c/mediacapture-main/pulls/">Pull requests</a>
  </dd><dt>Participate:</dt><dd>
    <a href="https://lists.w3.org/Archives/Public/public-webrtc/">Mailing list</a>
  </dd>
    </dl>
    
    
    
    <p class="copyright">Initial Author of this Specification was Ian Hickson, Google Inc., with the following copyright statement:<br> © Copyright 2004-2011 Apple Computer, Inc., Mozilla Foundation, and Opera Software ASA. You are granted a license to use, reproduce and create derivative works of this document.</p>
    <hr title="Separator for header">
  </div>
   <p class="copyright">All subsequent changes since 26 July 2011 done by the <abbr title="World Wide Web Consortium">W3C</abbr> WebRTC Working Group (and previously the Device APIs Working Group) are under the following <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>:<br>© 2011-2020 <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="https://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="https://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>).  <abbr title="World Wide Web Consortium">W3C</abbr> <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a rel="license" href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">permissive document license</a> rules
    apply.
  </p><section id="abstract" class="introductory"><h2>Abstract</h2>
    <p>This document defines a set of JavaScript APIs that allow local media,
    including audio and video, to be requested from a platform.</p>
  </section>
  <section id="sotd" class="introductory"><h2>Status of This Document</h2><p><em>This section describes the status of this
      document at the time of its publication. Other documents may supersede
      this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision
      of this technical report can be found in the
      <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at
      https://www.w3.org/TR/.</em></p>
    <p>This document is not complete. It is subject to major changes and, while
    early experimentations are encouraged, it is therefore not intended for
    implementation. The API is based on preliminary work done in the
    WHATWG.</p>
  <p>
    This document was published by the <a href="https://www.w3.org/groups/wg/webrtc">Web Real-Time Communications Working Group</a> as a
    Candidate Recommendation Draft. 
    This document is intended to become a <abbr title="World Wide Web Consortium">W3C</abbr> Recommendation.
  </p><p>
    <a href="https://github.com/w3c/mediacapture-main/issues/">GitHub Issues</a> are preferred for
          discussion of this specification.
        
    Alternatively, you can send comments to our mailing list.
          Please send them to
          <a href="mailto:public-webrtc@w3.org">public-webrtc@w3.org</a>
          (<a href="https://lists.w3.org/Archives/Public/public-webrtc/">archives</a>).
        
  </p><p>
      Publication as a Candidate Recommendation does not imply endorsement
      by the <abbr title="World Wide Web Consortium">W3C</abbr> Membership. A Candidate Recommendation Draft integrates changes from the previous Candidate Recommendation that the Working Group intends to include in a subsequent Candidate Recommendation Snapshot.
    </p><p>This is a draft document and may be updated, replaced
  or obsoleted by other documents at any time. It is inappropriate to cite this
  document as other than work in progress.
  </p><p></p><p>
    
        This document was produced by a group
        operating under the
        <a href="https://www.w3.org/Consortium/Patent-Policy/"><abbr title="World Wide Web Consortium">W3C</abbr> Patent
          Policy</a>.
       
    
                <abbr title="World Wide Web Consortium">W3C</abbr> maintains a
                <a rel="disclosure" href="https://www.w3.org/2004/01/pp-impl/47318/status">public list of any patent disclosures</a>
          made in connection with the deliverables of
          the group; that page also includes
          instructions for disclosing a patent. An individual who has actual
          knowledge of a patent which the individual believes contains
          <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">Essential Claim(s)</a>
          must disclose the information in accordance with
          <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">section 6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
        
    
  </p><p>
                  This document is governed by the
                  <a id="w3c_process_revision" href="https://www.w3.org/2020/Process-20200915/">15 September 2020 <abbr title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
                </p></section><nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#intro"><bdi class="secno">1. </bdi>Introduction</a></li><li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">2. </bdi>Conformance</a></li><li class="tocline"><a class="tocxref" href="#terminology"><bdi class="secno">3. </bdi>Terminology</a></li><li class="tocline"><a class="tocxref" href="#stream-api"><bdi class="secno">4. </bdi>MediaStream API</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">4.1 </bdi>Introduction</a></li><li class="tocline"><a class="tocxref" href="#mediastream"><bdi class="secno">4.2 </bdi><span data-xref-type="_IDL_" data-link-type="idl" class="formerLink"><code><code>MediaStream</code></code></span></a></li><li class="tocline"><a class="tocxref" href="#mediastreamtrack"><bdi class="secno">4.3 </bdi><span data-xref-type="_IDL_" data-link-type="idl" class="formerLink"><code><code>MediaStreamTrack</code></code></span></a><ol class="toc"><li class="tocline"><a class="tocxref" href="#life-cycle-and-media-flow"><bdi class="secno">4.3.1 </bdi>Life-cycle and Media Flow</a></li><li class="tocline"><a class="tocxref" href="#tracks-and-constraints"><bdi class="secno">4.3.2 </bdi>Tracks and Constraints</a></li><li class="tocline"><a class="tocxref" href="#media-stream-track-interface-definition"><bdi class="secno">4.3.3 </bdi>Interface Definition</a></li><li class="tocline"><a class="tocxref" href="#media-track-supported-constraints"><bdi class="secno">4.3.4 </bdi><span data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="MediaTrackSupportedConstraints" data-dfn-for=""><code>MediaTrackSupportedConstraints</code></span></a></li><li class="tocline"><a class="tocxref" href="#media-track-capabilities"><bdi class="secno">4.3.5 </bdi><span data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="MediaTrackCapabilities" data-dfn-for=""><code>MediaTrackCapabilities</code></span></a></li><li class="tocline"><a class="tocxref" href="#media-track-constraints"><bdi class="secno">4.3.6 </bdi><span data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="MediaTrackConstraints" data-dfn-for=""><code>MediaTrackConstraints</code></span></a></li><li class="tocline"><a class="tocxref" href="#media-track-settings"><bdi class="secno">4.3.7 </bdi><span data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="MediaTrackSettings" data-dfn-for=""><code>MediaTrackSettings</code></span></a></li><li class="tocline"><a class="tocxref" href="#constrainable-properties"><bdi class="secno">4.3.8 </bdi>Constrainable Properties</a></li></ol></li><li class="tocline"><a class="tocxref" href="#mediastreamtrackevent"><bdi class="secno">4.4 </bdi><span data-xref-type="_IDL_" data-link-type="idl" class="formerLink"><code><code>MediaStreamTrackEvent</code></code></span></a></li></ol></li><li class="tocline"><a class="tocxref" href="#the-model-sources-sinks-constraints-and-settings"><bdi class="secno">5. </bdi>The model: sources, sinks, constraints, and settings</a></li><li class="tocline"><a class="tocxref" href="#mediastreams-in-media-elements"><bdi class="secno">6. </bdi>MediaStreams in Media Elements</a></li><li class="tocline"><a class="tocxref" href="#error-handling"><bdi class="secno">7. </bdi>Error Handling</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#overconstrainederror-interface"><bdi class="secno">7.1 </bdi>OverconstrainedError Interface</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#constructors"><bdi class="secno">7.1.1 </bdi>Constructors</a></li><li class="tocline"><a class="tocxref" href="#attributes"><bdi class="secno">7.1.2 </bdi>Attributes</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#event-summary"><bdi class="secno">8. </bdi>Event summary</a></li><li class="tocline"><a class="tocxref" href="#enumerating-devices"><bdi class="secno">9. </bdi>Enumerating Local Media Devices</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#navigator-interface-extensions"><bdi class="secno">9.1 </bdi><span data-idl="interface" data-title="Navigator" data-dfn-for=""><code>Navigator</code></span> Interface Extensions</a></li><li class="tocline"><a class="tocxref" href="#mediadevices"><bdi class="secno">9.2 </bdi><span data-xref-type="_IDL_" data-link-type="idl" class="formerLink"><code><code>MediaDevices</code></code></span></a><ol class="toc"><li class="tocline"><a class="tocxref" href="#access-control-model"><bdi class="secno">9.2.1 </bdi>Access control model</a></li><li class="tocline"><a class="tocxref" href="#device-information-exposure"><bdi class="secno">9.2.2 </bdi>Device information exposure</a></li><li class="tocline"><a class="tocxref" href="#set-device-information-exposure-0"><bdi class="secno">9.2.3 </bdi>Set device information exposure</a></li><li class="tocline"><a class="tocxref" href="#exposure-decision-algorithm-for-devices-other-than-camera-and-microphone"><bdi class="secno">9.2.4 </bdi>Exposure decision algorithm for devices other than camera and microphone</a></li></ol></li><li class="tocline"><a class="tocxref" href="#device-info"><bdi class="secno">9.3 </bdi>Device Info</a></li><li class="tocline"><a class="tocxref" href="#input-specific-device-info"><bdi class="secno">9.4 </bdi>Input-specific Device Info</a></li></ol></li><li class="tocline"><a class="tocxref" href="#local-content"><bdi class="secno">10. </bdi>Obtaining local multimedia content</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#legacy-interface-extensions"><bdi class="secno">10.1 </bdi>Legacy Interface Extensions</a></li><li class="tocline"><a class="tocxref" href="#mediadevices-interface-extensions"><bdi class="secno">10.2 </bdi><span data-xref-type="_IDL_" data-link-type="idl" class="formerLink"><code><code>MediaDevices</code></code></span> Interface Extensions</a></li><li class="tocline"><a class="tocxref" href="#mediastreamconstraints"><bdi class="secno">10.3 </bdi><span data-xref-type="_IDL_" data-link-type="idl" class="formerLink"><code><code>MediaStreamConstraints</code></code></span></a></li><li class="tocline"><a class="tocxref" href="#navigatorusermediasuccesscallback"><bdi class="secno">10.4 </bdi><span data-export="" data-dfn-type="callback" data-idl="callback" data-title="NavigatorUserMediaSuccessCallback" data-dfn-for=""><code>NavigatorUserMediaSuccessCallback</code></span></a></li><li class="tocline"><a class="tocxref" href="#navigatorusermediaerrorcallback"><bdi class="secno">10.5 </bdi><span data-export="" data-dfn-type="callback" data-idl="callback" data-title="NavigatorUserMediaErrorCallback" data-dfn-for=""><code>NavigatorUserMediaErrorCallback</code></span></a></li><li class="tocline"><a class="tocxref" href="#implementation-suggestions"><bdi class="secno">10.6 </bdi>Implementation Suggestions</a></li></ol></li><li class="tocline"><a class="tocxref" href="#constrainable-interface"><bdi class="secno">11. </bdi>Constrainable Pattern</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#interface-definition"><bdi class="secno">11.1 </bdi>Interface Definition</a></li><li class="tocline"><a class="tocxref" href="#types-for-constrainable-properties"><bdi class="secno">11.2 </bdi>Types for Constrainable Properties</a></li><li class="tocline"><a class="tocxref" href="#capabilities"><bdi class="secno">11.3 </bdi>Capabilities</a></li><li class="tocline"><a class="tocxref" href="#settings"><bdi class="secno">11.4 </bdi>Settings</a></li><li class="tocline"><a class="tocxref" href="#constraints"><bdi class="secno">11.5 </bdi><span>Constraints and ConstraintSet</span></a></li></ol></li><li class="tocline"><a class="tocxref" href="#examples"><bdi class="secno">12. </bdi>Examples</a></li><li class="tocline"><a class="tocxref" href="#permissions-policy-integration"><bdi class="secno">13. </bdi>Permissions Policy Integration</a></li><li class="tocline"><a class="tocxref" href="#privacy-indicator-requirements"><bdi class="secno">14. </bdi>Privacy Indicator Requirements</a></li><li class="tocline"><a class="tocxref" href="#privacy-and-security-considerations"><bdi class="secno">15. </bdi>Privacy and Security Considerations</a></li><li class="tocline"><a class="tocxref" href="#extensibility"><bdi class="secno">16. </bdi>Extensibility</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#defining-a-new-media-type-beyond-the-existing-audio-and-video-types"><bdi class="secno">16.1 </bdi>Defining a new media type (beyond the existing Audio and Video
      types)</a></li><li class="tocline"><a class="tocxref" href="#defining-a-new-constrainable-property"><bdi class="secno">16.2 </bdi>Defining a new constrainable property</a></li><li class="tocline"><a class="tocxref" href="#defining-new-consumers-of-mediastreams-and-mediastreamtracks"><bdi class="secno">16.3 </bdi>Defining new consumers of <span data-xref-type="_IDL_" data-link-type="idl" class="formerLink"><code><code>MediaStream</code></code></span>s and <span data-xref-type="_IDL_" data-link-type="idl" class="formerLink"><code><code>MediaStreamTrack</code></code></span>s</a></li></ol></li><li class="tocline"><a class="tocxref" href="#acknowledgements"><bdi class="secno">A. </bdi>Acknowledgements</a></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">B. </bdi>References</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">B.1 </bdi>Normative references</a></li><li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">B.2 </bdi>Informative references</a></li></ol></li></ol></nav>
  <section class="informative" id="intro">
    <h2 id="x1-introduction"><bdi class="secno">1. </bdi>Introduction<a class="self-link" aria-label="§" href="#intro"></a></h2><p><em>This section is non-normative.</em></p>
    <p>This document defines APIs for requesting access to local multimedia
    devices, such as microphones or video cameras.</p>
    <p>This document also defines the MediaStream API, which provides the means
    to control where multimedia stream data is consumed, and provides some
    control over the devices that produce the media. It also exposes
    information about devices able to capture and render media.</p>
  </section>
  <section id="conformance"><h2 id="x2-conformance"><bdi class="secno">2. </bdi>Conformance<a class="self-link" aria-label="§" href="#conformance"></a></h2><p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.</p><p>
        The key words <em class="rfc2119">MAY</em>, <em class="rfc2119">MUST</em>, <em class="rfc2119">MUST NOT</em>, <em class="rfc2119">NOT REQUIRED</em>, and <em class="rfc2119">SHOULD</em> in this document
        are to be interpreted as described in
        <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8174" title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
        when, and only when, they appear in all capitals, as shown here.
      </p>
    <p>This specification defines conformance criteria that apply to a single
    product: the <dfn id="dfn-user-agent">User Agent</dfn> that implements the interfaces that it
    contains.</p>
    <p>Conformance requirements phrased as algorithms or specific steps may be
    implemented in any manner, so long as the end result is equivalent. (In
    particular, the algorithms defined in this specification are intended to be
    easy to follow, and not intended to be performant.)</p>
    <p>Implementations that use ECMAScript [<cite><a class="bibref" data-link-type="biblio" href="#bib-ecma-262" title="ECMAScript Language Specification">ECMA-262</a></cite>] to implement the APIs
    defined in this specification must implement them in a manner consistent
    with the ECMAScript Bindings defined in the Web IDL specification
    [<cite><a class="bibref" data-link-type="biblio" href="#bib-webidl" title="Web IDL">WEBIDL</a></cite>], as this specification uses that specification and
    terminology.</p>
  </section>
  <section id="terminology">
    <h2 id="x3-terminology"><bdi class="secno">3. </bdi>Terminology<a class="self-link" aria-label="§" href="#terminology"></a></h2>
    <dl>
      <dt><i>HTML Terms:</i></dt>
      <dd>
        <p>The <a data-link-type="idl" data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><code>EventHandler</code></a>
        interface represents a callback used for event handlers as defined in
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-html" title="HTML Standard">HTML</a></cite>].</p>
        <p>The concept <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">queue
        a task</a> is defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-html" title="HTML Standard">HTML</a></cite>] and <a data-link-type="dfn" data-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">fire an event</a> is 
        defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-dom" title="DOM Standard">DOM</a></cite>].</p>
        <p>The terms <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers">event handlers</a>
        and <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-document">responsible
        document</a> are defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-html" title="HTML Standard">HTML</a></cite>].</p>
        <p>The term <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object">relevant settings object</a> is defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-html" title="HTML Standard">HTML</a></cite>].</p>
        <p>The term <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">allowed to
        use</a> is defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-html" title="HTML Standard">HTML</a></cite>].</p>
        <p>The terms <dfn data-lt="fulfill|fulfillment|fulfilled" id="dfn-fulfill">fulfilled</dfn>,
        <dfn data-lt="reject|rejection|rejecting|rejected" id="dfn-reject">rejected</dfn> and
        <dfn data-lt="resolve|resolved" id="dfn-resolve">resolved</dfn> used in the context of Promises
        are defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-ecma-262" title="ECMAScript Language Specification">ECMA-262</a></cite>].</p>
      </dd>
      <dt>DOM</dt>
      <dd>
	<p>The terms <a data-link-type="idl" data-type="interface" href="https://dom.spec.whatwg.org/#event"><code>Event</code></a>, <a data-link-type="idl" data-type="dictionary" href="https://dom.spec.whatwg.org/#dictdef-eventinit"><code>EventInit</code></a> and <a data-link-type="idl" data-type="interface" href="https://dom.spec.whatwg.org/#eventtarget"><code>EventTarget</code></a> are defined in the [<cite><a class="bibref" data-link-type="biblio" href="#bib-dom" title="DOM Standard">DOM</a></cite>] specification. </p>
      </dd>
      <dt><a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMException"><code>DOMException</code></a></dt>
      <dd>
        The term <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMException"><code>DOMException</code></a> is defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-webidl" title="Web IDL">WEBIDL</a></cite>]
      </dd>
      <dt><dfn id="dfn-source">source</dfn></dt>
      <dd>
        <p>A source is the "thing" providing the source of a media stream
        track. The source is the broadcaster of the media itself. A source can
        be a physical webcam, microphone, local video or audio file from the
        user's hard drive, network resource, or static image. Note that this
        document describes the use of microphone and camera type sources only,
        the use of other source types is described in other documents.</p>
        <p>An application that has no prior authorization regarding sources is
        only given the number of available sources, their type and any
        relationship to other devices. Additional information about sources can
        become available when applications are authorized to use a source (see
        <a href="#access-control-model" class="sec-ref">§&nbsp;<bdi class="secno">9.2.1 </bdi>Access control model</a>).</p>
        <p>Sources <strong>do not</strong> have constraints — tracks have
        constraints. When a source is connected to a track, it must produce
        media that conforms to the constraints present on that track, to that
        track. Multiple tracks can be attached to the same source. User Agent
        processing, such as downsampling, <em class="rfc2119">MAY</em> be used to ensure that all tracks
        have appropriate media.</p>
        <p>Sources have constrainable properties which have
        <a data-link-type="dfn" href="#dfn-capabilities" class="internalDFN" id="ref-for-dfn-capabilities-1">capabilities</a> and <a data-link-type="dfn" href="#dfn-settings" class="internalDFN" id="ref-for-dfn-settings-1">settings</a>
        exposed on tracks. While the constrainable properties are "owned" by
        the source, sources <em class="rfc2119">MAY</em> be able to accomodate different demands at
        once. For this reason, capabilities are common to any (multiple) tracks
        that happen to be using the same source, whereas settings <em class="rfc2119">MAY</em> differ
        per track (e.g., if two different track objects bound to the same
        source query capability and settings information, they will get back
        the same capabilities, but may get different settings that are tailored
        to satisfy their individual constraints).</p>
      </dd>
      <dt><dfn data-lt="settings|Setting" id="dfn-settings">Setting</dfn> (Source Setting)</dt>
      <dd>
        <p>A setting refers to the immediate, current
        value of the source's constrainable properties. Settings are always
        read-only.</p>
        <p>A source conditions may dynamically change, such as when a camera
        switches to a lower frame rate due to low light conditions. In these
        cases the tracks related to the affected source might not satisfy the
        set constraints any longer. The platform <em class="rfc2119">SHOULD</em> try to minimize such
        excursions as far as possible, but will continue to deliver media even
        when a temporary or permanent condition exists that prevents satisfying
        the constraints.</p>
        <p>Although settings are a property of the source, they are only
        exposed to the application through the tracks attached to the source.
        This is exposed via the <a href="#dom-constrainablepattern" class="internalDFN" data-link-type="idl" id="ref-for-dom-constrainablepattern-1"><code>ConstrainablePattern</code></a> interface.</p>
      </dd>
      <dt><dfn data-lt="capabilities|Capability" id="dfn-capabilities">Capability</dfn></dt>
      <dd>
        <p>For each constrainable property, there is a capability that
        describes whether it is supported by the source and if so, the range of
        supported values. As with settings, capabilities are exposed to the
        application via the <a href="#dom-constrainablepattern" class="internalDFN" data-link-type="idl" id="ref-for-dom-constrainablepattern-2"><code>ConstrainablePattern</code></a> interface.</p>
        <p>The values of the supported capabilities must be normalized to the
        ranges and enumerated types defined in this specification.</p>
        <p>A <a href="#dom-mediastreamtrack-getcapabilities" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastreamtrack-getcapabilities-1"><code>getCapabilities()</code></a> call on
        a track returns the same underlying per-source capabilities for all
        tracks connected to the source.</p>
        <p>Source capabilities are effectively constant. Applications should be
        able to depend on a specific source having the same capabilities for
        any browsing session.</p>
        <p>This API is intentionally simplified. Capabilities are not capable
        of describing interactions between different values. For instance, it
        is not possible to accurately describe the capabilities of a camera
        that can produce a high resolution video stream at a low frame rate and
        lower resolutions at a higher frame rate. Capabilities describe the
        complete range of each value. Interactions between constraints are
        exposed by attempting to apply constraints.</p>
      </dd>
      <dt><dfn id="dfn-constraint">Constraint</dfn>s</dt>
      <dd>
        <p>Constraints provide a general control surface that allows
        applications to both select an appropriate source for a track and, once
        selected, to influence how a source operates.</p>
        <p>Constraints limit the range of operating modes that a source can use
        when providing media for a track. Without provided track constraints,
        implementations are free to select a source's settings from the full
        ranges of its supported capabilities. Implementations may also adjust
        source settings at any time within the bounds imposed by all applied
        constraints.</p>
        <p><a href="#dom-mediadevices-getusermedia" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediadevices-getusermedia-1"><code>getUserMedia()</code></a> uses constraints
        to help select an appropriate source for a track and configure it.
        Additionally, the <a href="#dom-constrainablepattern" class="internalDFN" data-link-type="idl" id="ref-for-dom-constrainablepattern-3"><code>ConstrainablePattern</code></a> interface on tracks
        includes an API for dynamically changing the track's constraints at any
        later time.</p>
        <p>A track will not be connected to a source using <a href="#dom-mediadevices-getusermedia" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediadevices-getusermedia-2"><code>getUserMedia()</code></a> if its initial constraints cannot be
        satisfied. However, the ability to meet the constraints on a track can
        change over time, and constraints can be changed. If circumstances
        change such that constraints cannot be met, the
        <a href="#dom-constrainablepattern" class="internalDFN" data-link-type="idl" id="ref-for-dom-constrainablepattern-4"><code>ConstrainablePattern</code></a> interface defines an appropriate error to
        inform the application. <a href="#the-model-sources-sinks-constraints-and-settings" class="sec-ref">§&nbsp;<bdi class="secno">5. </bdi>The model: sources, sinks, constraints, and settings</a> explains how
        constraints interact in more detail.</p>
        <p>For each constrainable property, a constraint exists whose name
        corresponds with the relevant source setting name and capability
        name.</p>
        <p>A constraint falls into one of three groups, depending on its place
        in the constraints structure. The groups are:</p>
        <ul>
          <li><dfn data-plurals="required constraint" id="dfn-required-constraints">required constraints</dfn> are all <a data-lt="advanced constraints" href="#dfn-advanced-constraints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-advanced-constraints-1">non-advanced</a> constraints that are
        <a href="#dfn-required" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-required-1">required</a>.</li>
          <li><dfn id="dfn-optional-basic-constraints">optional basic constraints</dfn> are the remaining
        <a data-lt="advanced constraints" href="#dfn-advanced-constraints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-advanced-constraints-2">non-advanced</a> constraints.</li>
          <li><dfn id="dfn-advanced-constraints">advanced constraints</dfn> are all constraints specified
        using the <code><a href="#dom-constraints-advanced" id="ref-for-dom-constraints-advanced-1">advanced</a></code>
        keyword.</li>
        </ul>
        <p>In general, User Agents will have more flexibility to optimize the
        media streaming experience the fewer constraints are applied, so
        application authors are strongly encouraged to use <a href="#dfn-required-constraints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-required-constraints-1">required
        constraints</a> sparingly.</p>
      </dd>
      <dt><a href="https://www.w3.org/TR/webrtc/#dom-rtcpeerconnection">RTCPeerConnection</a></dt>
      <dd><a href="https://www.w3.org/TR/webrtc/#dom-rtcpeerconnection">RTCPeerConnection</a> is defined in
      [<cite><a class="bibref" data-link-type="biblio" href="#bib-webrtc" title="WebRTC 1.0: Real-Time Communication Between Browsers">WEBRTC</a></cite>].</dd>
      <dt>Permissions</dt>
      <dd>
        <p>The terms <dfn id="dfn-reading-current-permission-state" data-no-export=""><a href="https://www.w3.org/TR/permissions/#reading-current-states">reading current permission state</a></dfn> and <a data-link-type="dfn" data-type="dfn" href="https://www.w3.org/TR/permissions/#request-permission-to-use">request permission to
        use</a>  are defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-permissions" title="Permissions">permissions</a></cite>].</p>
      </dd>
    </dl>
  </section>
  <section id="stream-api">
    <h2 id="x4-mediastream-api"><bdi class="secno">4. </bdi>MediaStream API<a class="self-link" aria-label="§" href="#stream-api"></a></h2>
    <section id="introduction">
      <h3 id="x4-1-introduction"><bdi class="secno">4.1 </bdi>Introduction<a class="self-link" aria-label="§" href="#introduction"></a></h3>
      <p>The two main components in the MediaStream API are the
      <dfn data-export="" data-dfn-type="interface" id="dom-mediastreamtrack" data-idl="interface" data-title="MediaStreamTrack" data-dfn-for=""><code>MediaStreamTrack</code></dfn> and <dfn data-export="" data-dfn-type="interface" id="dom-mediastream" data-idl="interface" data-title="MediaStream" data-dfn-for=""><code>MediaStream</code></dfn> interfaces. The
      <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-1"><code><code>MediaStreamTrack</code></code></a> object represents media of a single
      type that originates from one media source in the User Agent, e.g. video
      produced by a web camera. A <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-1"><code><code>MediaStream</code></code></a> is used to
      group several <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-2"><code><code>MediaStreamTrack</code></code></a> objects into one unit
      that can be recorded or rendered in a media element.</p>
      <p>Each <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-2"><code><code>MediaStream</code></code></a> can contain zero or more
      <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-3"><code><code>MediaStreamTrack</code></code></a> objects. All tracks in a
      <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-3"><code><code>MediaStream</code></code></a> are intended to be synchronized when
      rendered. This is not a hard requirement, since it might not be possible
      to synchronize tracks from sources that have different clocks. Different
      <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-4"><code><code>MediaStream</code></code></a> objects do not need to be
      synchronized.</p>
      <div class="note" role="note" id="issue-container-generatedID"><div role="heading" class="note-title marker" id="h-note" aria-level="4"><span>Note</span></div><p class="">While the intent is to synchronize tracks, it could be
      better in some circumstances to permit tracks to lose synchronization. In
      particular, when tracks are remotely sourced and real-time [<cite><a class="bibref" data-link-type="biblio" href="#bib-webrtc" title="WebRTC 1.0: Real-Time Communication Between Browsers">WEBRTC</a></cite>],
      it can be better to allow loss of synchronization than to accumulate
      delays or risk glitches and other artifacts. Implementations are expected
      to understand the implications of choices regarding synchronization of
      playback and the effect that these have on user perception.</p></div>
      <p>A single <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-4"><code><code>MediaStreamTrack</code></code></a> can represent
      multi-channel content, such as stereo or 5.1 audio or stereoscopic video,
      where the channels have a well defined relationship to each other.
      Information about channels might be exposed through other APIs, such as
      [<cite><a class="bibref" data-link-type="biblio" href="#bib-webaudio" title="Web Audio API">WEBAUDIO</a></cite>], but this specification provides no direct access to
      channels.</p>
      <p>A <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-5"><code><code>MediaStream</code></code></a> object has an input and an output
      that represent the combined input and output of all the object's tracks.
      The output of the <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-6"><code><code>MediaStream</code></code></a> controls how the object
      is rendered, e.g., what is saved if the object is recorded to a file or
      what is displayed if the object is used in a <code><a data-type="element" href="https://html.spec.whatwg.org/multipage/media.html#video">video</a></code> element.
      A single <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-7"><code><code>MediaStream</code></code></a> object can be attached to
      multiple different outputs at the same time.</p>
      <p>A new <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-8"><code><code>MediaStream</code></code></a> object can be created from
      existing media streams or tracks using the
      <a data-link-type="idl" data-lt="MediaStream()" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-9"><code><code>MediaStream</code></code></a><code>()</code> constructor. The constructor argument
      can either be an existing <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-10"><code><code>MediaStream</code></code></a> object, in
      which case all the tracks of the given stream are added to the new
      <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-11"><code><code>MediaStream</code></code></a> object, or an array of
      <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-5"><code><code>MediaStreamTrack</code></code></a> objects. The latter form makes it
      possible to compose a stream from different source streams.</p>
      <p>Both <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-12"><code><code>MediaStream</code></code></a> and
      <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-6"><code><code>MediaStreamTrack</code></code></a> objects can be cloned. A cloned
      <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-13"><code><code>MediaStream</code></code></a> contains clones of all member tracks from
      the original stream. A cloned <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-7"><code><code>MediaStreamTrack</code></code></a> has a
      <a href="#constrainable-interface">set of constraints</a> that is
      independent of the instance it is cloned from, which allows media from
      the same source to have different constraints applied for different
      <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-1">consumer</a>s. The <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-14"><code><code>MediaStream</code></code></a> object is also used in
      contexts outside <a data-link-type="idl" href="#dom-mediadevices-getusermedia" class="internalDFN" id="ref-for-dom-mediadevices-getusermedia-3"><code><code>getUserMedia</code></code></a>, such as [<cite><a class="bibref" data-link-type="biblio" href="#bib-webrtc" title="WebRTC 1.0: Real-Time Communication Between Browsers">WEBRTC</a></cite>].</p>
    </section>
    <section id="mediastream">
      <h3 id="x4-2-mediastream"><bdi class="secno">4.2 </bdi><a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-15"><code><code>MediaStream</code></code></a><a class="self-link" aria-label="§" href="#mediastream"></a></h3>
      <p id="mediastream-constructor">The MediaStream <dfn data-idl="constructor" data-dfn-for="MediaStream" data-export="" data-dfn-type="constructor" id="dom-mediastream-constructor" data-title="constructor" data-lt="constructor()" data-local-lt="MediaStream.constructor|MediaStream.constructor()|constructor"><code>constructor</code></dfn> composes a new
      stream out of existing tracks. It takes an optional argument of type
      <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-16"><code><code>MediaStream</code></code></a> or an array of
      <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-8"><code><code>MediaStreamTrack</code></code></a> objects. When the constructor is invoked, the User
      Agent must run the following steps:</p>
      <ol>
        <li>
          <p>Let <var>stream</var> be a newly constructed
          <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-17"><code><code>MediaStream</code></code></a> object.</p>
        </li>
        <li>
          <p>Initialize <var>stream</var>.<a data-link-type="idl" href="#dom-mediastream-id" class="internalDFN" id="ref-for-dom-mediastream-id-1"><code><code>id</code></code></a>  attribute to a newly generated
          value.</p>
        </li>
        <li>
          <p>If the constructor's argument is present, run the following
          steps:</p>
          <ol>
            <li>
              <p>Construct a set of tracks <var>tracks</var> based on the type
              of argument:</p>
              <ul>
                <li>
                  <p>A <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-18"><code><code>MediaStream</code></code></a> object:</p>
                  <p>Let <var>tracks</var> be a set containing all the
                  <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-9"><code><code>MediaStreamTrack</code></code></a> objects in the
                  <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-19"><code><code>MediaStream</code></code></a> <a href="#track-set" id="ref-for-track-set-1">track
                  set</a>.</p>
                </li>
                <li>
                  <p>A sequence of <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-10"><code><code>MediaStreamTrack</code></code></a>
                  objects:</p>
                  <p>Let <var>tracks</var> be a set containing all the
                  <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-11"><code><code>MediaStreamTrack</code></code></a> objects in the provided
                  sequence.</p>
                </li>
              </ul>
            </li>
            <li>
              <p>For each <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-12"><code><code>MediaStreamTrack</code></code></a>,
              <var>track</var> , in <var>tracks</var>, run the following
              steps:</p>
              <ol>
                <li>
                  <p>If <var>track</var> is already in <var>stream</var>'s
                  <a href="#track-set" id="ref-for-track-set-2">track set</a>, skip
                  <var>track</var>.</p>
                </li>
                <li>
                  <p>Otherwise, add <var>track</var> to <var>stream</var>'s
                  <a href="#track-set" id="ref-for-track-set-3">track set</a>.</p>
                </li>
              </ol>
            </li>
          </ol>
        </li>
        <li>
          <p>Return <var>stream</var>.</p>
        </li>
      </ol>
      <p>The tracks of a <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-20"><code><code>MediaStream</code></code></a> are stored in a
      <dfn id="track-set">track set</dfn>. The track set <em class="rfc2119">MUST</em> contain the
      <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-13"><code><code>MediaStreamTrack</code></code></a> objects that correspond to the
      tracks of the stream. The relative order of the tracks in the set is User
      Agent defined and the API will never put any requirements on the order.
      The proper way to find a specific <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-14"><code><code>MediaStreamTrack</code></code></a>
      object in the set is to look it up by its <a data-link-type="idl" href="#dom-mediastreamtrack-id" class="internalDFN" id="ref-for-dom-mediastreamtrack-id-1"><code><code>id</code></code></a>.</p>
      <p>An object that reads data from the output of a
      <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-21"><code><code>MediaStream</code></code></a> is referred to as a
      <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-22"><code><code>MediaStream</code></code></a> <dfn id="dfn-consumer">consumer</dfn>. The list of
      <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-23"><code><code>MediaStream</code></code></a> consumers currently include media
      elements (such as <code><a data-type="element" href="https://html.spec.whatwg.org/multipage/media.html#video">video</a></code> and
      <code><a data-type="element" href="https://html.spec.whatwg.org/multipage/media.html#audio">audio</a></code>) [<cite><a class="bibref" data-link-type="biblio" href="#bib-html" title="HTML Standard">HTML</a></cite>], Web Real-Time Communications
      (WebRTC; <code class="fixme">RTCPeerConnection</code>) [<cite><a class="bibref" data-link-type="biblio" href="#bib-webrtc" title="WebRTC 1.0: Real-Time Communication Between Browsers">WEBRTC</a></cite>], media recording
      (<code class="fixme">MediaRecorder</code>) [<cite><a class="bibref" data-link-type="biblio" href="#bib-mediastream-recording" title="MediaStream Recording">mediastream-recording</a></cite>], image capture
      (<code class="fixme">ImageCapture</code>) [<cite><a class="bibref" data-link-type="biblio" href="#bib-image-capture" title="&quot;MediaStream Image Capture&quot;">image-capture</a></cite>], and web audio
      (<a data-link-type="idl" data-type="interface" href="https://www.w3.org/TR/webaudio/#mediastreamaudiosourcenode"><code>MediaStreamAudioSourceNode</code></a>) [<cite><a class="bibref" data-link-type="biblio" href="#bib-webaudio" title="Web Audio API">WEBAUDIO</a></cite>].</p>
      <div class="note" role="note" id="issue-container-generatedID-0"><div role="heading" class="note-title marker" id="h-note-0" aria-level="4"><span>Note</span></div><p class=""><a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-24"><code><code>MediaStream</code></code></a> consumers must be able to
      handle tracks being added and removed. This behavior is specified per
      consumer.</p></div>
      <p>A <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-25"><code><code>MediaStream</code></code></a> object is said to be <dfn id="stream-active">active</dfn> when it has at least one
      <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-15"><code><code>MediaStreamTrack</code></code></a> that has not <a href="#track-ended" id="ref-for-track-ended-1">ended</a>. A <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-26"><code><code>MediaStream</code></code></a> that does not
      have any tracks or only has tracks that are <a href="#track-ended" id="ref-for-track-ended-2">ended</a> is <dfn id="stream-inactive">inactive</dfn>.</p>
      <p>A <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-27"><code><code>MediaStream</code></code></a> object is said to be <dfn id="stream-audible">audible</dfn> when it has at least one
      <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-16"><code><code>MediaStreamTrack</code></code></a> whose <a data-link-type="idl" href="#dom-mediastreamtrack-kind" class="internalDFN" id="ref-for-dom-mediastreamtrack-kind-1"><code><code>kind</code></code></a> is <a href="#dfn-audio" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-audio-1"><code>"audio"</code></a> that
      has not <a data-lt="track ended state" href="#track-ended" class="internalDFN" data-link-type="dfn" id="ref-for-track-ended-3">ended</a>. A
      <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-28"><code><code>MediaStream</code></code></a> that does not have any audio tracks or
      only has audio tracks that are <a data-lt="track ended state" href="#track-ended" class="internalDFN" data-link-type="dfn" id="ref-for-track-ended-4">ended</a> is
      <dfn id="stream-inaudible">inaudible</dfn>.</p>
      <p>The User Agent may update a <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-29"><code><code>MediaStream</code></code></a>'s <a href="#track-set" id="ref-for-track-set-4">track set</a> in response to, for example, an external
      event. This specification does not specify any such cases, but other
      specifications using the MediaStream API may. One such example is the
      WebRTC 1.0 [<cite><a class="bibref" data-link-type="biblio" href="#bib-webrtc" title="WebRTC 1.0: Real-Time Communication Between Browsers">WEBRTC</a></cite>] specification where the <a href="#track-set" id="ref-for-track-set-5">track set</a> of a <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-30"><code><code>MediaStream</code></code></a>, received
      from another peer, can be updated as a result of changes to the media
      session.</p>
      <p>To <dfn id="add-track">add a track</dfn> <var>track</var> to a
      <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-31"><code><code>MediaStream</code></code></a> <var>stream</var>, the User Agent <em class="rfc2119">MUST</em>
      run the following steps:</p>
      <ol>
        <li>
          <p>If <var>track</var> is already in <var>stream's</var> <a href="#track-set" id="ref-for-track-set-6">track set</a>, then abort these steps.</p>
        </li>
        <li>
          <p>Add <var>track</var> to <var>stream</var>'s <a href="#track-set" id="ref-for-track-set-7">track set</a>.</p>
        </li>
        <li>
          <p>Fire a track event named <a data-link-type="idl" href="#event-mediastream-addtrack" class="internalDFN" id="ref-for-event-mediastream-addtrack-1"><code><code>addtrack</code></code></a> with
          <var>track</var> at <var>stream</var>.</p>
        </li>
      </ol>
      <p>To <dfn id="remove-track">remove a track</dfn> <var>track</var> from a
      <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-32"><code><code>MediaStream</code></code></a> <var>stream</var>, the User Agent <em class="rfc2119">MUST</em>
      run the following steps:</p>
      <ol>
        <li>
          <p>If <var>track</var> is not in <var>stream's</var> <a href="#track-set" id="ref-for-track-set-8">track set</a>, then abort these steps.</p>
        </li>
        <li>
          <p>Remove <var>track</var> from <var>stream</var>'s <a href="#track-set" id="ref-for-track-set-9">track set</a>.</p>
        </li>
        <li>
          <p>Fire a track event named <a data-link-type="idl" href="#event-mediastream-removetrack" class="internalDFN" id="ref-for-event-mediastream-removetrack-1"><code><code>removetrack</code></code></a> with
          <var>track</var> at <var>stream</var>.</p>
        </li>
      </ol>
      <div>
        <pre class="idl def" id="webidl-1647796506"><span class="idlHeader"><a class="self-link" href="#webidl-1647796506">WebIDL</a></span><span data-idl="" class="idlInterface" id="idl-def-mediastream" data-title="MediaStream">[<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=<a data-type="interface" href="https://html.spec.whatwg.org/multipage/window-object.html#window">Window</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-mediastream" id="ref-for-dom-mediastream-33"><code>MediaStream</code></a> : <span class="idlSuperclass"><a data-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> {<span data-idl="" class="idlConstructor" id="idl-def-mediastream-constructor" data-title="constructor" data-dfn-for="MediaStream">
  <a class="internalDFN" data-link-type="constructor" href="#dom-mediastream-constructor" id="ref-for-dom-mediastream-constructor-1"><code>constructor</code></a>();</span><span data-idl="" class="idlConstructor" id="idl-def-mediastream-constructor!overload-1" data-title="constructor!overload-1" data-dfn-for="MediaStream">
  <dfn data-export="" data-dfn-type="constructor" id="dom-mediastream-constructor!overload-1" data-idl="constructor" data-title="constructor" data-dfn-for="MediaStream" data-lt="constructor!overload-1()|constructor!overload-1(stream)" data-local-lt="MediaStream.constructor!overload-1|MediaStream.constructor!overload-1()|constructor!overload-1"><code>constructor</code></dfn>(<span class="idlType"><a href="#dom-mediastream" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastream-34"><code>MediaStream</code></a></span> <span class="idlParamName">stream</span>);</span><span data-idl="" class="idlConstructor" id="idl-def-mediastream-constructor!overload-2" data-title="constructor!overload-2" data-dfn-for="MediaStream">
  <dfn data-export="" data-dfn-type="constructor" id="dom-mediastream-constructor!overload-2" data-idl="constructor" data-title="constructor" data-dfn-for="MediaStream" data-lt="constructor!overload-2()|constructor!overload-2(tracks)" data-local-lt="MediaStream.constructor!overload-2|MediaStream.constructor!overload-2()|constructor!overload-2"><code>constructor</code></dfn>(<span class="idlType"><a data-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence">sequence</a>&lt;<a href="#dom-mediastreamtrack" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastreamtrack-17"><code>MediaStreamTrack</code></a>&gt;</span> <span class="idlParamName">tracks</span>);</span><span data-idl="" class="idlAttribute" id="idl-def-mediastream-id" data-title="id" data-dfn-for="MediaStream">
  readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediastream-id" id="ref-for-dom-mediastream-id-2"><code>id</code></a>;</span><span data-idl="" class="idlMethod" id="idl-def-mediastream-getaudiotracks" data-title="getAudioTracks" data-dfn-for="MediaStream"><span class="idlType">
  <a data-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence">sequence</a>&lt;<a href="#dom-mediastreamtrack" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastreamtrack-18"><code>MediaStreamTrack</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediastream-getaudiotracks" id="ref-for-dom-mediastream-getaudiotracks-1"><code>getAudioTracks</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-mediastream-getvideotracks" data-title="getVideoTracks" data-dfn-for="MediaStream"><span class="idlType">
  <a data-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence">sequence</a>&lt;<a href="#dom-mediastreamtrack" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastreamtrack-19"><code>MediaStreamTrack</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediastream-getvideotracks" id="ref-for-dom-mediastream-getvideotracks-1"><code>getVideoTracks</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-mediastream-gettracks" data-title="getTracks" data-dfn-for="MediaStream"><span class="idlType">
  <a data-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence">sequence</a>&lt;<a href="#dom-mediastreamtrack" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastreamtrack-20"><code>MediaStreamTrack</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediastream-gettracks" id="ref-for-dom-mediastream-gettracks-1"><code>getTracks</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-mediastream-gettrackbyid-trackid" data-title="getTrackById" data-dfn-for="MediaStream"><span class="idlType">
  <a href="#dom-mediastreamtrack" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastreamtrack-21"><code>MediaStreamTrack</code></a>?</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediastream-gettrackbyid" id="ref-for-dom-mediastream-gettrackbyid-1"><code>getTrackById</code></a>(<span class="idlType"><a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a></span> <span class="idlParamName">trackId</span>);</span><span data-idl="" class="idlMethod" id="idl-def-mediastream-addtrack-track" data-title="addTrack" data-dfn-for="MediaStream"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-undefined">undefined</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediastream-addtrack" id="ref-for-dom-mediastream-addtrack-1"><code>addTrack</code></a>(<span class="idlType"><a href="#dom-mediastreamtrack" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastreamtrack-22"><code>MediaStreamTrack</code></a></span> <span class="idlParamName">track</span>);</span><span data-idl="" class="idlMethod" id="idl-def-mediastream-removetrack-track" data-title="removeTrack" data-dfn-for="MediaStream"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-undefined">undefined</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediastream-removetrack" id="ref-for-dom-mediastream-removetrack-1"><code>removeTrack</code></a>(<span class="idlType"><a href="#dom-mediastreamtrack" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastreamtrack-23"><code>MediaStreamTrack</code></a></span> <span class="idlParamName">track</span>);</span><span data-idl="" class="idlMethod" id="idl-def-mediastream-clone" data-title="clone" data-dfn-for="MediaStream"><span class="idlType">
  <a href="#dom-mediastream" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastream-35"><code>MediaStream</code></a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediastream-clone" id="ref-for-dom-mediastream-clone-1"><code>clone</code></a>();</span><span data-idl="" class="idlAttribute" id="idl-def-mediastream-active" data-title="active" data-dfn-for="MediaStream">
  readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediastream-active" id="ref-for-dom-mediastream-active-1"><code>active</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-mediastream-onaddtrack" data-title="onaddtrack" data-dfn-for="MediaStream">
  attribute<span class="idlType"> <a data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediastream-onaddtrack" id="ref-for-dom-mediastream-onaddtrack-1"><code>onaddtrack</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-mediastream-onremovetrack" data-title="onremovetrack" data-dfn-for="MediaStream">
  attribute<span class="idlType"> <a data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediastream-onremovetrack" id="ref-for-dom-mediastream-onremovetrack-1"><code>onremovetrack</code></a>;</span>
};</span></pre>
        <section>
          <h4 id="constructors-0">Constructors<a class="self-link" aria-label="§" href="#constructors-0"></a></h4>
          <dl data-link-for="MediaStream" data-dfn-for="MediaStream" class="constructors">
            <dt><a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-36"><code><code>MediaStream</code></code></a></dt>
            <dd>
              <p>See the <a href="#mediastream-constructor">MediaStream
              constructor algorithm</a></p>
              <div>
                <em>No parameters.</em>
              </div>
            </dd>
            <dt><a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-37"><code><code>MediaStream</code></code></a></dt>
            <dd>
              <p>See the <a href="#mediastream-constructor">MediaStream
              constructor algorithm</a></p>
            </dd>
            <dt><a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-38"><code><code>MediaStream</code></code></a></dt>
            <dd>
              <p>See the <a href="#mediastream-constructor">MediaStream
              constructor algorithm</a></p>
            </dd>
          </dl>
        </section>
        <section>
          <h4 id="attributes-0">Attributes<a class="self-link" aria-label="§" href="#attributes-0"></a></h4>
          <dl data-link-for="MediaStream" data-dfn-for="MediaStream" class="attributes">
            <dt><a data-link-type="idl" href="#dom-mediastream-id" class="internalDFN" id="ref-for-dom-mediastream-id-3"><code><code>id</code></code></a> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><code>DOMString</code></a>, readonly</dt>
            <dd>
              <p>When a <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-39"><code><code>MediaStream</code></code></a> is created, the User
              Agent <em class="rfc2119">MUST</em> generate an identifier string, and <em class="rfc2119">MUST</em> initialize the
              object's <a data-link-type="idl" href="#dom-mediastream-id" class="internalDFN" id="ref-for-dom-mediastream-id-4"><code><code>id</code></code></a>
              attribute to that string, unless the object is created as part of
              a special purpose algorithm that specifies how the stream id must
              be initialized. A good practice is to use a UUID [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc4122" title="A Universally Unique IDentifier (UUID) URN Namespace">rfc4122</a></cite>],
              which is 36 characters long in its canonical form. To avoid
              fingerprinting, implementations <em class="rfc2119">SHOULD</em> use the forms in section
              4.4 or 4.5 of RFC 4122 when generating UUIDs.</p>
              <p>The <dfn data-idl="attribute" data-export="" data-dfn-type="attribute" id="dom-mediastream-id" data-title="id" data-dfn-for="MediaStream" data-type="DOMString" data-lt="id" data-local-lt="MediaStream.id"><code>id</code></dfn> attribute <em class="rfc2119">MUST</em> return
              the value to which it was initialized when the object was
              created.</p>
            </dd>
            <dt><dfn data-export="" data-dfn-type="attribute" id="dom-mediastream-active" data-idl="attribute" data-title="active" data-dfn-for="MediaStream" data-type="boolean" data-lt="active" data-local-lt="MediaStream.active"><code>active</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a>, readonly</dt>
            <dd data-link-for="">
              <p>The <a data-link-type="idl" href="#stream-active" class="internalDFN" id="ref-for-stream-active-1"><code>active</code></a> attribute <em class="rfc2119">MUST</em> return
              <code>true</code> if this <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-40"><code><code>MediaStream</code></code></a> is
              <a data-link-type="dfn" href="#stream-active" class="internalDFN" id="ref-for-stream-active-2">active</a> and <code>false</code>
              otherwise.</p>
            </dd>
            <dt><dfn data-export="" data-dfn-type="attribute" id="dom-mediastream-onaddtrack" data-idl="attribute" data-title="onaddtrack" data-dfn-for="MediaStream" data-type="EventHandler" data-lt="onaddtrack" data-local-lt="MediaStream.onaddtrack"><code>onaddtrack</code></dfn> of type <a data-link-type="idl" data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><code>EventHandler</code></a></dt>
            <dd>
              <p>The event type of this event handler is <a data-link-type="idl" href="#dom-mediastream-addtrack" class="internalDFN" id="ref-for-dom-mediastream-addtrack-2"><code><code>addtrack</code></code></a>.</p>
            </dd>
            <dt><dfn data-export="" data-dfn-type="attribute" id="dom-mediastream-onremovetrack" data-idl="attribute" data-title="onremovetrack" data-dfn-for="MediaStream" data-type="EventHandler" data-lt="onremovetrack" data-local-lt="MediaStream.onremovetrack"><code>onremovetrack</code></dfn> of type <a data-link-type="idl" data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><code>EventHandler</code></a></dt>
            <dd>
              <p>The event type of this event handler is <a data-link-type="idl" href="#dom-mediastream-removetrack" class="internalDFN" id="ref-for-dom-mediastream-removetrack-2"><code><code>removetrack</code></code></a>.</p>
            </dd>
          </dl>
        </section>
        <section>
          <h4 id="methods">Methods<a class="self-link" aria-label="§" href="#methods"></a></h4>
          <dl data-link-for="MediaStream" data-dfn-for="MediaStream" class="methods">
            <dt><dfn id="dom-mediastream-getaudiotracks" data-export="" data-dfn-type="method" data-idl="operation" data-title="getAudioTracks" data-dfn-for="MediaStream" data-type="sequence" data-lt="getAudioTracks()" data-local-lt="MediaStream.getAudioTracks|MediaStream.getAudioTracks()|getAudioTracks"><code>getAudioTracks</code></dfn></dt>
            <dd>
              <p>Returns a sequence of <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-24"><code><code>MediaStreamTrack</code></code></a>
              objects representing the audio tracks in this stream.</p>
              <p>The <a data-link-type="idl" href="#dom-mediastream-getaudiotracks" class="internalDFN" id="ref-for-dom-mediastream-getaudiotracks-2"><code><code>getAudioTracks</code></code></a>
              method <em class="rfc2119">MUST</em> return a sequence that represents a snapshot of all
              the <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-25"><code><code>MediaStreamTrack</code></code></a> objects in this stream's
              <a data-link-type="dfn" href="#track-set" class="internalDFN" id="ref-for-track-set-10">track set</a> whose <a data-link-type="idl" href="#dom-mediastreamtrack-kind" class="internalDFN" id="ref-for-dom-mediastreamtrack-kind-2"><code><code>kind</code></code></a> is equal to
              <a href="#dfn-audio" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-audio-2"><code>"audio"</code></a>. The conversion from the <a data-link-type="dfn" href="#track-set" class="internalDFN" id="ref-for-track-set-11">track set</a> to the sequence is User Agent defined
              and the order does not have to be stable between calls.</p>
            </dd>
            <dt><dfn id="dom-mediastream-getvideotracks" data-export="" data-dfn-type="method" data-idl="operation" data-title="getVideoTracks" data-dfn-for="MediaStream" data-type="sequence" data-lt="getVideoTracks()" data-local-lt="MediaStream.getVideoTracks|MediaStream.getVideoTracks()|getVideoTracks"><code>getVideoTracks</code></dfn></dt>
            <dd>
              <p>Returns a sequence of <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-26"><code><code>MediaStreamTrack</code></code></a>
              objects representing the video tracks in this stream.</p>
              <p>The <a data-link-type="idl" href="#dom-mediastream-getvideotracks" class="internalDFN" id="ref-for-dom-mediastream-getvideotracks-2"><code><code>getVideoTracks</code></code></a>
              method <em class="rfc2119">MUST</em> return a sequence that represents a snapshot of all
              the <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-27"><code><code>MediaStreamTrack</code></code></a> objects in this stream's
              <a data-link-type="dfn" href="#track-set" class="internalDFN" id="ref-for-track-set-12">track set</a> whose <a data-link-type="idl" href="#dom-mediastreamtrack-kind" class="internalDFN" id="ref-for-dom-mediastreamtrack-kind-3"><code><code>kind</code></code></a> is equal to
              <a href="#dfn-video" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-video-1"><code>"video"</code></a>. The conversion from the
              <a data-link-type="dfn" href="#track-set" class="internalDFN" id="ref-for-track-set-13">track set</a> to the sequence is User Agent defined
              and the order does not have to be stable between calls.</p>
            </dd>
            <dt><dfn id="dom-mediastream-gettracks" data-export="" data-dfn-type="method" data-idl="operation" data-title="getTracks" data-dfn-for="MediaStream" data-type="sequence" data-lt="getTracks()" data-local-lt="MediaStream.getTracks|MediaStream.getTracks()|getTracks"><code>getTracks</code></dfn></dt>
            <dd>
              <p>Returns a sequence of <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-28"><code><code>MediaStreamTrack</code></code></a>
              objects representing all the tracks in this stream.</p>
              <p>The <a data-link-type="idl" href="#dom-mediastream-gettracks" class="internalDFN" id="ref-for-dom-mediastream-gettracks-2"><code><code>getTracks</code></code></a> method
              <em class="rfc2119">MUST</em> return a sequence that represents a snapshot of all the
              <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-29"><code><code>MediaStreamTrack</code></code></a> objects in this stream's
              <a data-link-type="dfn" href="#track-set" class="internalDFN" id="ref-for-track-set-14">track set</a>, regardless of
              <a data-link-type="idl" href="#dom-mediastreamtrack-kind" class="internalDFN" id="ref-for-dom-mediastreamtrack-kind-4"><code><code>kind</code></code></a>. The conversion from
              the <a data-link-type="dfn" href="#track-set" class="internalDFN" id="ref-for-track-set-15">track set</a> to the sequence is User
              Agent defined and the order does not have to be stable between
              calls.</p>
            </dd>
            <dt><dfn id="dom-mediastream-gettrackbyid" data-export="" data-dfn-type="method" data-idl="operation" data-title="getTrackById" data-dfn-for="MediaStream" data-type="MediaStreamTrack" data-lt="getTrackById()|getTrackById(trackId)" data-local-lt="MediaStream.getTrackById|MediaStream.getTrackById()|getTrackById"><code>getTrackById</code></dfn></dt>
            <dd>
              <p>The <a data-link-type="idl" href="#dom-mediastream-gettrackbyid" class="internalDFN" id="ref-for-dom-mediastream-gettrackbyid-2"><code><code>getTrackById</code></code></a>
              method <em class="rfc2119">MUST</em> return either a <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-30"><code><code>MediaStreamTrack</code></code></a>
              object from this stream's <a data-link-type="dfn" href="#track-set" class="internalDFN" id="ref-for-track-set-16">track set</a>
              whose <a data-link-type="idl" href="#dom-mediastreamtrack-id" class="internalDFN" id="ref-for-dom-mediastreamtrack-id-2"><code><code>id</code></code></a> is
              equal to <var>trackId</var>, or <code>null</code>, if no such track
              exists.</p>
            </dd>
            <dt><dfn id="dom-mediastream-addtrack" data-export="" data-dfn-type="method" data-idl="operation" data-title="addTrack" data-dfn-for="MediaStream" data-type="undefined" data-lt="addTrack()|addTrack(track)" data-local-lt="MediaStream.addTrack|MediaStream.addTrack()|addTrack"><code>addTrack</code></dfn></dt>
            <dd>
              <p>Adds the given <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-31"><code><code>MediaStreamTrack</code></code></a> to this
              <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-41"><code><code>MediaStream</code></code></a>.</p>
              <p>When the <a data-link-type="idl" href="#dom-mediastream-addtrack" class="internalDFN" id="ref-for-dom-mediastream-addtrack-3"><code><code>addTrack</code></code></a> method is
              invoked, the User Agent <em class="rfc2119">MUST</em> run the following steps:</p>
              <ol>
                <li>
                  <p>Let <var>track</var> be the methods argument and
                  <var>stream</var> the <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-42"><code><code>MediaStream</code></code></a> object
                  on which the method was called.</p>
                </li>
                <li>
                  <p>If <var>track</var> is already in <var>stream</var>'s
                  <a data-link-type="dfn" href="#track-set" class="internalDFN" id="ref-for-track-set-17">track set</a>, then abort these
                  steps.</p>
                </li>
                <li>
                  <p>Add <var>track</var> to <var>stream</var>'s <a data-link-type="dfn" href="#track-set" class="internalDFN" id="ref-for-track-set-18">track set</a>.</p>
                </li>
              </ol>
            </dd>
            <dt><dfn id="dom-mediastream-removetrack" data-export="" data-dfn-type="method" data-idl="operation" data-title="removeTrack" data-dfn-for="MediaStream" data-type="undefined" data-lt="removeTrack()|removeTrack(track)" data-local-lt="MediaStream.removeTrack|MediaStream.removeTrack()|removeTrack"><code>removeTrack</code></dfn></dt>
            <dd>
              <p>Removes the given <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-32"><code><code>MediaStreamTrack</code></code></a> object
              from this <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-43"><code><code>MediaStream</code></code></a>.</p>
              <p>When the <a data-link-type="idl" href="#dom-mediastream-removetrack" class="internalDFN" id="ref-for-dom-mediastream-removetrack-3"><code><code>removeTrack</code></code></a>
              method is invoked, the User Agent <em class="rfc2119">MUST</em> run the following
              steps:</p>
              <ol>
                <li>
                  <p>Let <var>track</var> be the methods argument and
                  <var>stream</var> the <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-44"><code><code>MediaStream</code></code></a> object
                  on which the method was called.</p>
                </li>
                <li>
                  <p>If <var>track</var> is not in <var>stream's</var> <a data-link-type="dfn" href="#track-set" class="internalDFN" id="ref-for-track-set-19">track set</a>, then abort these steps.</p>
                </li>
                <li>
                  <p>Remove <var>track</var> from <var>stream</var>'s <a data-link-type="dfn" href="#track-set" class="internalDFN" id="ref-for-track-set-20">track set</a>.</p>
                </li>
              </ol>
            </dd>
            <dt><dfn data-export="" data-dfn-type="method" id="dom-mediastream-clone" data-idl="operation" data-title="clone" data-dfn-for="MediaStream" data-type="MediaStream" data-lt="clone()" data-local-lt="MediaStream.clone|MediaStream.clone()|clone"><code>clone</code></dfn></dt>
            <dd>
              <p>Clones the given <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-45"><code><code>MediaStream</code></code></a> and all its
              tracks.</p>
              <p>When the <a data-link-type="idl" data-lt="clone()" href="#dom-mediastream-clone" class="internalDFN" id="ref-for-dom-mediastream-clone-2"><code><code>clone</code></code></a><code>()</code> method is invoked, the User
              Agent <em class="rfc2119">MUST</em> run the following steps:</p>
              <ol>
                <li>
                  <p>Let <var>streamClone</var> be a newly constructed
                  <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-46"><code><code>MediaStream</code></code></a> object.</p>
                </li>
                <li>
                  <p>Initialize <var>streamClone</var>.<a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-47"><code><code>MediaStream</code></code></a>.<a data-link-type="idl" href="#dom-mediastream-id" class="internalDFN" id="ref-for-dom-mediastream-id-5"><code><code>id</code></code></a> to a newly
                  generated value.</p>
                </li>
                <li>
                  <p><a href="#track-clone" id="ref-for-track-clone-1">Clone each track</a> in this
                  <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-48"><code><code>MediaStream</code></code></a> object and add the result to
                  <var>streamClone</var>'s <a href="#track-set" id="ref-for-track-set-21">track
                  set</a>.</p>
                </li>
                <li>Return <var>streamClone</var>.</li>
              </ol>
            </dd>
          </dl>
        </section>
      </div>
    </section>
    <section id="mediastreamtrack">
      <h3 id="x4-3-mediastreamtrack"><bdi class="secno">4.3 </bdi><a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-33"><code><code>MediaStreamTrack</code></code></a><a class="self-link" aria-label="§" href="#mediastreamtrack"></a></h3>
      <p>A <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-34"><code><code>MediaStreamTrack</code></code></a> object represents a media
      source in the User Agent. An example source is a device connected to the
      User Agent. Other specifications may define sources for
      <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-35"><code><code>MediaStreamTrack</code></code></a> that override the behavior specified
      here. Several <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-36"><code><code>MediaStreamTrack</code></code></a> objects can represent
      the same media source, e.g., when the user chooses the same camera in the
      UI shown by two consecutive calls to <a data-link-type="idl" data-lt="getUserMedia()" href="#dom-mediadevices-getusermedia" class="internalDFN" id="ref-for-dom-mediadevices-getusermedia-4"><code><code>getUserMedia</code></code></a><code>()</code>.</p>
      <p>The data from a <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-37"><code><code>MediaStreamTrack</code></code></a> object does not
      necessarily have a canonical binary form; for example, it could just be
      "the video currently coming from the user's video camera". This allows
      User Agents to manipulate media in whatever fashion is most suitable on
      the user's platform.</p>
      <p>A script can indicate that a <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-38"><code><code>MediaStreamTrack</code></code></a>
      object no longer needs its source with the <a data-link-type="idl" data-lt="stop()" href="#dom-mediastreamtrack-stop" class="internalDFN" id="ref-for-dom-mediastreamtrack-stop-1"><code><code>stop</code></code></a><code>()</code>
      method. When all tracks
      using a source have been stopped or ended by some other means, the source
      is <dfn id="source-stopped" data-lt="source stopped state|stopped">stopped</dfn>. If the source is a device
      exposed by <a data-link-type="idl" data-lt="getUserMedia()" href="#dom-mediadevices-getusermedia" class="internalDFN" id="ref-for-dom-mediadevices-getusermedia-5"><code><code>getUserMedia</code></code></a><code>()</code>, then when
      the source is stopped, the UA <em class="rfc2119">MUST</em> run the following steps:</p>
      <ol>
        <li>
          <p>Let <var>deviceId</var> be the device's <a data-link-type="idl" href="#dom-mediadeviceinfo-deviceid" class="internalDFN" id="ref-for-dom-mediadeviceinfo-deviceid-1"><code><code>deviceId</code></code></a>.</p>
        </li>
        <li>
          <p>Set <a href="#dfn-deviceslivemap" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-deviceslivemap-1">[[devicesLiveMap]]</a>[<var>deviceId</var>] to
          <code>false</code>.</p>
        </li>
        <li>
          <p>If the result of <a data-lt="reading current permission state" data-link-type="dfn" href="https://www.w3.org/TR/permissions/#reading-current-states">reading the current permission state</a>
          of the permission associated with the device's kind and
          <var>deviceId</var>, is not "<a data-link-type="idl" data-type="enum-value" href="https://www.w3.org/TR/permissions/#dom-permissionstate-granted"><code>granted</code></a>", then set
          <a href="#dfn-devicesaccessiblemap" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-devicesaccessiblemap-1">[[devicesAccessibleMap]]</a>[<var>deviceId</var>] to
          <code>false</code>.</p>
        </li>
      </ol>
      <p>An implementation may use a per-source reference count to keep track
      of source usage, but the specifics are out of scope for this
      specification.</p>
      <p>To <dfn id="track-clone">clone a track</dfn> the User Agent <em class="rfc2119">MUST</em> run
      the following steps:</p>
      <ol>
        <li>
          <p>Let <var>track</var> be the <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-39"><code><code>MediaStreamTrack</code></code></a>
          object to be cloned.</p>
        </li>
        <li>
          <p>Let <var>trackClone</var> be a newly constructed
          <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-40"><code><code>MediaStreamTrack</code></code></a> object.</p>
        </li>
        <li>
          <p>Initialize <var>trackClone</var>.<a data-link-type="idl" href="#dom-mediastreamtrack-id" class="internalDFN" id="ref-for-dom-mediastreamtrack-id-3"><code><code>id</code></code></a>
          to a newly
          generated value.</p>
        </li>
        <li>
          <p>Initialize <var>trackClone</var>'s <a data-link-type="idl" href="#dom-mediastreamtrack-kind" class="internalDFN" id="ref-for-dom-mediastreamtrack-kind-5"><code><code>kind</code></code></a>,
            <a data-link-type="idl" href="#dom-mediastreamtrack-label" class="internalDFN" id="ref-for-dom-mediastreamtrack-label-1"><code><code>label</code></code></a>,
          <a data-link-type="idl" href="#dom-mediastreamtrack-readystate" class="internalDFN" id="ref-for-dom-mediastreamtrack-readystate-1"><code><code>readyState</code></code></a>, and
          <a data-link-type="idl" href="#dom-mediastreamtrack-enabled" class="internalDFN" id="ref-for-dom-mediastreamtrack-enabled-1"><code><code>enabled</code></code></a>
          attributes by copying the corresponding values from
          <var>track</var>.</p>
        </li>
        <li>
          <p>Let <var>trackClone</var>'s underlying source be the source of
          <var>track</var>.</p>
        </li>
        <li>
          <p>Set <var>trackClone</var>'s constraints to the active constrains
          of <var>track</var>.</p>
        </li>
        <li>
          <p>Return <var>trackClone</var>.</p>
        </li>
      </ol>
      <section id="life-cycle-and-media-flow">
        <h4 id="x4-3-1-life-cycle-and-media-flow"><bdi class="secno">4.3.1 </bdi>Life-cycle and Media Flow<a class="self-link" aria-label="§" href="#life-cycle-and-media-flow"></a></h4>
        <h4 id="life-cycle">Life-cycle<a class="self-link" aria-label="§" href="#life-cycle-and-media-flow"></a></h4>
        <p>A <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-41"><code><code>MediaStreamTrack</code></code></a> has two states in its
        life-cycle: live and ended. A newly created
        <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-42"><code><code>MediaStreamTrack</code></code></a> can be in either state depending
        on how it was created. For example, cloning an ended track results in a
        new ended track. The current state is reflected by the object's
        <a data-link-type="idl" href="#dom-mediastreamtrack-readystate" class="internalDFN" id="ref-for-dom-mediastreamtrack-readystate-2"><code><code>readyState</code></code></a>
        attribute.</p>
        <p>In the live state, the track is active and media is
        available for use by consumers (but may be replaced by
        zero-information-content if the <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-43"><code><code>MediaStreamTrack</code></code></a> is
        <a href="#track-muted" class="internalDFN" data-link-type="dfn" id="ref-for-track-muted-1">muted</a> or <a data-lt="enabled" href="#track-enabled" class="internalDFN" data-link-type="dfn" id="ref-for-track-enabled-1">disabled</a>, see below).</p>
        <p>A muted or disabled <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-44"><code><code>MediaStreamTrack</code></code></a> renders
        either silence (audio), black frames (video), or a
        zero-information-content equivalent. For example, a video element
        sourced by a muted or disabled <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-45"><code><code>MediaStreamTrack</code></code></a>
        (contained within a <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-49"><code><code>MediaStream</code></code></a> ), is playing but
        the rendered content is the muted output.</p>
        <p>If the source is a device exposed by <a data-link-type="idl" data-lt="getUserMedia()" href="#dom-mediadevices-getusermedia" class="internalDFN" id="ref-for-dom-mediadevices-getusermedia-6"><code><code>getUserMedia</code></code></a><code>()</code>,
        then when a track becomes either
        muted or disabled, and this brings all tracks connected to the device
        to be either muted, disabled, or stopped, then the UA <em class="rfc2119">MAY</em>, using the
        device's <a data-link-type="idl" href="#dom-mediadeviceinfo-deviceid" class="internalDFN" id="ref-for-dom-mediadeviceinfo-deviceid-2"><code><code>deviceId</code></code></a>, <var>deviceId</var>, set
        <a href="#dfn-deviceslivemap" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-deviceslivemap-2">[[devicesLiveMap]]</a>[<var>deviceId</var>] to <code>false</code>,
        provided the UA sets it back to <code>true</code> as soon as any
        unstopped track connected to this device becomes un-muted or enabled
        again.</p>
        <p>When a live, <a data-lt="muted" href="#track-muted" class="internalDFN" data-link-type="dfn" id="ref-for-track-muted-2">unmuted</a>, and
        <a href="#track-enabled" class="internalDFN" data-link-type="dfn" id="ref-for-track-enabled-2">enabled</a> track sourced by a device exposed
        by <a data-link-type="idl" data-lt="getUserMedia()" href="#dom-mediadevices-getusermedia" class="internalDFN" id="ref-for-dom-mediadevices-getusermedia-7"><code><code>getUserMedia</code></code></a><code>()</code> becomes either
        <a href="#track-muted" class="internalDFN" data-link-type="dfn" id="ref-for-track-muted-3">muted</a> or <a data-lt="enabled" href="#track-enabled" class="internalDFN" data-link-type="dfn" id="ref-for-track-enabled-3">disabled</a>,
        and this brings <em>all</em> tracks connected to the device (regardless
        of browsing context) to be either
        muted, disabled, or stopped, then the UA <em class="rfc2119">SHOULD</em> relinquish the device
        within 3 seconds while allowing time for a reasonably-observant user to
        become aware of the transition. The UA <em class="rfc2119">SHOULD</em> attempt to reacquire the
        device as soon as any live track sourced by the device
        becomes both <a data-lt="muted" href="#track-muted" class="internalDFN" data-link-type="dfn" id="ref-for-track-muted-4">unmuted</a> and
        <a href="#track-enabled" class="internalDFN" data-link-type="dfn" id="ref-for-track-enabled-4">enabled</a> again, provided that track's
        <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object">relevant settings object</a>'s <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-document">responsible document</a>
        <a href="https://html.spec.whatwg.org/multipage/#gains-focus">has focus</a> at that time. If the
        document does not <a href="https://html.spec.whatwg.org/multipage/#gains-focus">have focus</a> at that time,
        the UA <em class="rfc2119">SHOULD</em> instead queue a task to <a data-lt="muted" href="#track-muted" class="internalDFN" data-link-type="dfn" id="ref-for-track-muted-5">mute</a> the
        track, and not queue a task to <a data-lt="muted" href="#track-muted" class="internalDFN" data-link-type="dfn" id="ref-for-track-muted-6">unmute</a> it until
        the document <a href="https://html.spec.whatwg.org/multipage/#gains-focus">regains focus</a>.
        If reacquiring the device fails, the UA <em class="rfc2119">MUST</em>
        <a href="#ends-nostop" id="ref-for-ends-nostop-1">end the track</a> (The UA <em class="rfc2119">MAY</em> end it earlier
        should it detect a device problem, like the device being physically
        removed).</p>
        <div class="note" role="note" id="issue-container-generatedID-1"><div role="heading" class="note-title marker" id="h-note-1" aria-level="5"><span>Note</span></div><div class="">
          <p>The intent is to give users the assurance of privacy that having
          physical camera (and microphone) hardware lights off brings, by
          aligning physical and logical “privacy indicators”, at least while the
          current document is the sole user of a device.</p>
          <p>While other applications and documents using the device
          simultaneously may interfere with this intent at times, they do not
          interfere with the rules laid forth.</p>
        </div></div>
        <p>The muted/unmuted state of a track reflects whether the source
        provides any media at this moment. The enabled/disabled state is under
        application control and determines whether the track outputs media (to
        its consumers). Hence, media from the source only flows when a
        <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-46"><code><code>MediaStreamTrack</code></code></a> object is both unmuted and
        enabled.</p>
        <p>A <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-47"><code><code>MediaStreamTrack</code></code></a> is <a href="#track-muted" id="ref-for-track-muted-7">muted</a> when the source is temporarily unable to
        provide the track with data. A track can be muted by a user. Often this
        action is outside the control of the application. This could be as a
        result of the user hitting a hardware switch or toggling a control in
        the operating system / User Agent chrome. A track can also be muted by the
        User Agent.</p>
        <p>Applications are able to <a href="#track-enabled" id="ref-for-track-enabled-5">enable</a> or
        disable a <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-48"><code><code>MediaStreamTrack</code></code></a> to prevent it from
        rendering media from the source. A muted track will however, regardless
        of the enabled state, render silence and blackness. A disabled track is
        logically equivalent to a muted track, from a consumer point of
        view.</p>
        <p>For a newly created <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-49"><code><code>MediaStreamTrack</code></code></a> object, the
        following applies. The track is always enabled unless stated otherwise
        (for example when cloned) and the muted state reflects the state of the
        source at the time the track is created.</p>
        <p>A <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-50"><code><code>MediaStreamTrack</code></code></a> object is said to
        <em>end</em> when the source of the track is disconnected or
        exhausted.</p>
        <p>If all <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-51"><code><code>MediaStreamTrack</code></code></a>s that are using the same
        source are <a data-lt="track ended state" href="#track-ended" class="internalDFN" data-link-type="dfn" id="ref-for-track-ended-5">ended</a>, the source will be
        <a href="#source-stopped" id="ref-for-source-stopped-1">stopped</a>.</p>
        <p>When a <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-52"><code><code>MediaStreamTrack</code></code></a> object ends for any
        reason (e.g., because the user rescinds the permission for the page to
        use the local camera, or because the application invoked the
        <a data-link-type="idl" data-lt="stop()" href="#dom-mediastreamtrack-stop" class="internalDFN" id="ref-for-dom-mediastreamtrack-stop-2"><code><code>stop</code></code></a><code>()</code> method on
        the <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-53"><code><code>MediaStreamTrack</code></code></a> object, or because the User
        Agent has instructed the track to end for any reason) it is said to be
        <dfn id="track-ended" data-lt="track ended state|ended">ended</dfn>.</p>
        <p>When a <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-54"><code><code>MediaStreamTrack</code></code></a> <var>track</var>
        <dfn id="ends-nostop">ends for any reason other than the <a data-link-type="idl" data-lt="stop()" href="#dom-mediastreamtrack-stop" class="internalDFN" id="ref-for-dom-mediastreamtrack-stop-3"><code><code>stop</code></code></a><code>()</code> method being
        invoked</dfn>, the User Agent <em class="rfc2119">MUST</em> queue a task that runs the following
        steps:</p>
        <ol>
          <li>
            <p>If <var>track</var>.<a data-link-type="idl" href="#dom-mediastreamtrack-readystate" class="internalDFN" id="ref-for-dom-mediastreamtrack-readystate-3"><code><code>readyState</code></code></a>
            has the value "<a data-link-type="idl" href="#dom-mediastreamtrackstate-ended" class="internalDFN" id="ref-for-dom-mediastreamtrackstate-ended-1"><code><code>ended</code></code></a>" already, then abort these
            steps.</p>
          </li>
          <li>
            <p>Set <var>track</var>.<a data-link-type="idl" href="#dom-mediastreamtrack-readystate" class="internalDFN" id="ref-for-dom-mediastreamtrack-readystate-4"><code><code>readyState</code></code></a>
            to "<a data-link-type="idl" href="#dom-mediastreamtrackstate-ended" class="internalDFN" id="ref-for-dom-mediastreamtrackstate-ended-2"><code><code>ended</code></code></a>".</p>
          </li>
          <li>
            <p>Notify <var>track</var>'s source that <var>track</var> is
            <a data-lt="track ended state" href="#track-ended" class="internalDFN" data-link-type="dfn" id="ref-for-track-ended-6">ended</a> so that the source may be <a href="#source-stopped" class="internalDFN" data-link-type="dfn" id="ref-for-source-stopped-2">stopped</a>, unless other
            <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-55"><code><code>MediaStreamTrack</code></code></a> objects depend on it.</p>
          </li>
          <li>
            <p><a data-link-type="dfn" data-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">Fire an event</a> named <a data-lt="ended event" href="#idl-def-MediaStreamTrackState.ended" class="internalDFN" data-link-type="dfn" id="ref-for-idl-def-MediaStreamTrackState.ended-1">ended</a> at the object.</p>
          </li>
        </ol>
        <p>If the end of the track was reached due to a user request, the event
        source for this event is the user interaction event source.</p>
        <p>To invoke the <dfn id="dfn-device-permission-revocation-algorithm">device permission revocation algorithm</dfn> with
        <a data-link-type="idl" data-type="enum" href="https://www.w3.org/TR/permissions/#enumdef-permissionname"><code>PermissionName</code></a> <var>permissionName</var> and
        <a data-link-type="idl" data-type="dict-member" href="https://www.w3.org/TR/permissions/#dom-devicepermissiondescriptor-deviceid"><code>deviceId</code></a> <var>deviceId</var>, run the
        following steps:</p>
        <ol>
          <li>
            <p>Let <var>tracks</var> be the set of all currently
            "<a data-link-type="idl" href="#idl-def-MediaStreamTrackState.live" class="internalDFN" id="ref-for-idl-def-MediaStreamTrackState.live-1"><code><code>live</code></code></a>" <code>MediaStreamTrack</code>s
            that fit the following criteria:</p>
            <ul>
              <li>
                If <var>deviceId</var> is not <code>undefined</code>, tracks
                whose associated <a href="#dfn-deviceid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-deviceid-1">deviceId</a> matches <var>deviceId</var>
              </li>
              <li>
                If <var>deviceId</var> is <code>undefined</code>, tracks whose
                permission associated with this kind of track (e.g.
                "<a data-link-type="idl" data-type="enum-value" href="https://www.w3.org/TR/permissions/#dom-permissionname-camera"><code>camera</code></a>", "<a data-link-type="idl" data-type="enum-value" href="https://www.w3.org/TR/permissions/#dom-permissionname-microphone"><code>microphone</code></a>")
                matches <var>permissionName</var>
              </li>
            </ul>
          </li>
          <li>
            <p>For each <var>track</var> in <var>tracks</var>,
            <a href="#ends-nostop" id="ref-for-ends-nostop-2">end</a> the track.</p>
          </li>
        </ol>
        <h4 id="media-flow">Media Flow<a class="self-link" aria-label="§" href="#life-cycle-and-media-flow"></a></h4>
        <p>There are two dimensions related to the media flow for a
        "<a data-link-type="idl" href="#idl-def-MediaStreamTrackState.live" class="internalDFN" id="ref-for-idl-def-MediaStreamTrackState.live-2"><code><code>live</code></code></a>" <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-56"><code><code>MediaStreamTrack</code></code></a> : muted / not
        muted, and enabled / disabled.</p>
        <p><dfn data-lt="track muted state|Muted" id="track-muted">Muted</dfn> refers to the input to the
        <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-57"><code><code>MediaStreamTrack</code></code></a>. If live samples are not made
        available to the <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-58"><code><code>MediaStreamTrack</code></code></a> it is muted.</p>
        <p>Muted is out of control for the application, but can be observed by
        the application by reading the <a data-link-type="idl" href="#dom-mediastreamtrack-muted" class="internalDFN" id="ref-for-dom-mediastreamtrack-muted-1"><code><code>muted</code></code></a> attribute and listening
        to the associated events <a data-link-type="idl" href="#event-mediastreamtrack-mute" class="internalDFN" id="ref-for-event-mediastreamtrack-mute-1"><code><code>mute</code></code></a> and <a data-link-type="idl" href="#event-mediastreamtrack-unmute" class="internalDFN" id="ref-for-event-mediastreamtrack-unmute-1"><code><code>unmute</code></code></a>. There can be
        several reasons for a <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-59"><code><code>MediaStreamTrack</code></code></a> to be muted:
        the user pushing a physical mute button on the microphone, the user
        closing a laptop lid with an embedded camera, the user toggling a
        control in the operating system, the user clicking a mute button in the
        User Agent chrome, the User Agent (on behalf of the user) mutes, etc.</p>
        <p>Whenever the User Agent initiates such a change, it <em class="rfc2119">MUST</em> queue a
        task, using the user interaction task source, to <a href="#set-track-muted" class="internalDFN" data-link-type="dfn" id="ref-for-set-track-muted-1">set a track's muted
        state</a> to the state desired by the user.</p>
        <p>To <dfn id="set-track-muted">set a track's muted state</dfn> to
        <var>newState</var>, the User Agent <em class="rfc2119">MUST</em> run the following steps:</p>
        <ol>
          <li>
            <p>Let <var>track</var> be the <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-60"><code><code>MediaStreamTrack</code></code></a> in
            question.</p>
          </li>
          <li>
            <p>If <var>track</var>.<a data-link-type="idl" href="#dom-mediastreamtrack-muted" class="internalDFN" id="ref-for-dom-mediastreamtrack-muted-2"><code><code>muted</code></code></a> is already
            <var>newState</var>, then abort these steps.</p>
          </li>
          <li>
            <p>Set <var>track</var>.<a data-link-type="idl" href="#dom-mediastreamtrack-muted" class="internalDFN" id="ref-for-dom-mediastreamtrack-muted-3"><code><code>muted</code></code></a> to
            <var>newState</var>.</p>
          </li>
          <li>
            <p>If <var>newState</var> is <code>true</code> let
            <var>eventName</var> be <a data-link-type="idl" href="#event-mediastreamtrack-mute" class="internalDFN" id="ref-for-event-mediastreamtrack-mute-2"><code><code>mute</code></code></a>, otherwise
            <a data-link-type="idl" href="#event-mediastreamtrack-unmute" class="internalDFN" id="ref-for-event-mediastreamtrack-unmute-2"><code><code>unmute</code></code></a>.</p>
          </li>
          <li>
            <p><a data-link-type="dfn" data-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire">Fire an event</a> named <var>eventName</var> on
            <var>track</var>.</p>
          </li>
        </ol>
        <p><dfn id="track-enabled" data-lt="track enabled state|enabled" data-lt-nodefault="">Enabled/disabled</dfn> on the other hand is
        available to the application to control (and observe) via the
        <a data-link-type="idl" href="#dom-mediastreamtrack-enabled" class="internalDFN" id="ref-for-dom-mediastreamtrack-enabled-2"><code><code>enabled</code></code></a>
        attribute.</p>
        <p>The result for the consumer is the same in the sense that whenever
        <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-61"><code><code>MediaStreamTrack</code></code></a> is muted or disabled (or both) the
        consumer gets zero-information-content, which means silence for audio
        and black frames for video. In other words, media from the source only
        flows when a <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-62"><code><code>MediaStreamTrack</code></code></a> object is both
        unmuted and enabled. For example, a video element sourced by a muted or
        disabled <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-63"><code><code>MediaStreamTrack</code></code></a> (contained in a
        <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-50"><code><code>MediaStream</code></code></a> ), is playing but rendering
        blackness.</p>
        <p>For a newly created <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-64"><code><code>MediaStreamTrack</code></code></a> object, the
        following applies: the track is always enabled unless stated otherwise
        (for example when cloned) and the muted state reflects the state of the
        source at the time the track is created.</p>
      </section>
      <section id="tracks-and-constraints">
        <h4 id="x4-3-2-tracks-and-constraints"><bdi class="secno">4.3.2 </bdi>Tracks and Constraints<a class="self-link" aria-label="§" href="#tracks-and-constraints"></a></h4>
        <p><a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-65"><code><code>MediaStreamTrack</code></code></a> is a <a href="#dfn-constrainable-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-constrainable-object-1">constrainable
        object</a> as defined in the <a href="#constrainable-interface">Constrainable Pattern</a> section.
        Constraints are set on tracks and may affect sources.</p>
        <p>Whether <code><a href="#dom-constraints" class="internalDFN" data-link-type="idl" id="ref-for-dom-constraints-1"><code>Constraints</code></a></code> were provided at track
        initialization time or need to be established later at runtime, the
        APIs defined in the <a href="#dom-constrainablepattern" class="internalDFN" data-link-type="idl" id="ref-for-dom-constrainablepattern-5"><code>ConstrainablePattern</code></a> Interface allow the
        retrieval and manipulation of the constraints currently established on
        a track.</p>
        <p>Once ended, a track will continue exposing a
        <dfn data-lt="list-of-inherent-constrainable-track-properties|list of inherent constrainable track properties" id="list-of-inherent-constrainable-track-properties">
        list of inherent constrainable track properties</dfn>.
        This list contains <code><a href="#def-constraint-deviceId">deviceId</a></code>,
        <code><a href="#def-constraint-facingMode">facingMode</a></code> and
        <code><a href="#def-constraint-groupId">groupId</a></code>.
        </p>
      </section>
      <section id="media-stream-track-interface-definition">
        <h4 id="x4-3-3-interface-definition"><bdi class="secno">4.3.3 </bdi>Interface Definition<a class="self-link" aria-label="§" href="#media-stream-track-interface-definition"></a></h4>
        <div>
          <pre class="idl def" id="webidl-103228790"><span class="idlHeader"><a class="self-link" href="#webidl-103228790">WebIDL</a></span><span data-idl="" class="idlInterface" id="idl-def-mediastreamtrack" data-title="MediaStreamTrack">[<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=<a data-type="interface" href="https://html.spec.whatwg.org/multipage/window-object.html#window">Window</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-mediastreamtrack" id="ref-for-dom-mediastreamtrack-66"><code>MediaStreamTrack</code></a> : <span class="idlSuperclass"><a data-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> {<span data-idl="" class="idlAttribute" id="idl-def-mediastreamtrack-kind" data-title="kind" data-dfn-for="MediaStreamTrack">
  readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediastreamtrack-kind" id="ref-for-dom-mediastreamtrack-kind-6"><code>kind</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-mediastreamtrack-id" data-title="id" data-dfn-for="MediaStreamTrack">
  readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediastreamtrack-id" id="ref-for-dom-mediastreamtrack-id-4"><code>id</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-mediastreamtrack-label" data-title="label" data-dfn-for="MediaStreamTrack">
  readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediastreamtrack-label" id="ref-for-dom-mediastreamtrack-label-2"><code>label</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-mediastreamtrack-enabled" data-title="enabled" data-dfn-for="MediaStreamTrack">
  attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediastreamtrack-enabled" id="ref-for-dom-mediastreamtrack-enabled-3"><code>enabled</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-mediastreamtrack-muted" data-title="muted" data-dfn-for="MediaStreamTrack">
  readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediastreamtrack-muted" id="ref-for-dom-mediastreamtrack-muted-4"><code>muted</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-mediastreamtrack-onmute" data-title="onmute" data-dfn-for="MediaStreamTrack">
  attribute<span class="idlType"> <a data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediastreamtrack-onmute" id="ref-for-dom-mediastreamtrack-onmute-1"><code>onmute</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-mediastreamtrack-onunmute" data-title="onunmute" data-dfn-for="MediaStreamTrack">
  attribute<span class="idlType"> <a data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediastreamtrack-onunmute" id="ref-for-dom-mediastreamtrack-onunmute-1"><code>onunmute</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-mediastreamtrack-readystate" data-title="readyState" data-dfn-for="MediaStreamTrack">
  readonly attribute<span class="idlType"> <a href="#dom-mediastreamtrackstate" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastreamtrackstate-1"><code>MediaStreamTrackState</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediastreamtrack-readystate" id="ref-for-dom-mediastreamtrack-readystate-5"><code>readyState</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-mediastreamtrack-onended" data-title="onended" data-dfn-for="MediaStreamTrack">
  attribute<span class="idlType"> <a data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediastreamtrack-onended" id="ref-for-dom-mediastreamtrack-onended-1"><code>onended</code></a>;</span><span data-idl="" class="idlMethod" id="idl-def-mediastreamtrack-clone" data-title="clone" data-dfn-for="MediaStreamTrack"><span class="idlType">
  <a href="#dom-mediastreamtrack" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastreamtrack-67"><code>MediaStreamTrack</code></a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediastreamtrack-clone" id="ref-for-dom-mediastreamtrack-clone-1"><code>clone</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-mediastreamtrack-stop" data-title="stop" data-dfn-for="MediaStreamTrack"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-undefined">undefined</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediastreamtrack-stop" id="ref-for-dom-mediastreamtrack-stop-4"><code>stop</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-mediastreamtrack-getcapabilities" data-title="getCapabilities" data-dfn-for="MediaStreamTrack"><span class="idlType">
  <a href="#dom-mediatrackcapabilities" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediatrackcapabilities-1"><code>MediaTrackCapabilities</code></a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediastreamtrack-getcapabilities" id="ref-for-dom-mediastreamtrack-getcapabilities-2"><code>getCapabilities</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-mediastreamtrack-getconstraints" data-title="getConstraints" data-dfn-for="MediaStreamTrack"><span class="idlType">
  <a href="#dom-mediatrackconstraints" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediatrackconstraints-1"><code>MediaTrackConstraints</code></a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediastreamtrack-getconstraints" id="ref-for-dom-mediastreamtrack-getconstraints-1"><code>getConstraints</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-mediastreamtrack-getsettings" data-title="getSettings" data-dfn-for="MediaStreamTrack"><span class="idlType">
  <a href="#dom-mediatracksettings" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediatracksettings-1"><code>MediaTrackSettings</code></a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediastreamtrack-getsettings" id="ref-for-dom-mediastreamtrack-getsettings-1"><code>getSettings</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-mediastreamtrack-applyconstraints-constraints" data-title="applyConstraints" data-dfn-for="MediaStreamTrack"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-promise">Promise</a>&lt;<a data-type="interface" href="https://heycam.github.io/webidl/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediastreamtrack-applyconstraints" id="ref-for-dom-mediastreamtrack-applyconstraints-1"><code>applyConstraints</code></a>(optional<span class="idlType"> <a href="#dom-mediatrackconstraints" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediatrackconstraints-2"><code>MediaTrackConstraints</code></a></span> <span class="idlParamName">constraints</span> = {});</span>
};</span></pre>
          <section>
            <h5 id="attributes-1">Attributes<a class="self-link" aria-label="§" href="#attributes-1"></a></h5>
            <dl data-link-for="MediaStreamTrack" data-dfn-for="MediaStreamTrack" class="attributes">
              <dt><a data-link-type="idl" href="#dom-mediastreamtrack-kind" class="internalDFN" id="ref-for-dom-mediastreamtrack-kind-7"><code><code>kind</code></code></a> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><code>DOMString</code></a>, readonly</dt>
              <dd>
                <p>The <dfn id="dom-mediastreamtrack-kind" data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="kind" data-dfn-for="MediaStreamTrack" data-type="DOMString" data-lt="kind" data-local-lt="MediaStreamTrack.kind"><code>kind</code></dfn> attribute
                <em class="rfc2119">MUST</em> return the string <code><dfn id="dfn-audio">"audio"</dfn></code> if this object
                represents an audio track or <code><dfn id="dfn-video">"video"</dfn></code> if this
                object represents a video track.</p>
              </dd>
              <dt><a data-link-type="idl" href="#dom-mediastreamtrack-id" class="internalDFN" id="ref-for-dom-mediastreamtrack-id-5"><code><code>id</code></code></a> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><code>DOMString</code></a>, readonly</dt>
              <dd>
                <p>When a <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-68"><code><code>MediaStreamTrack</code></code></a> is created, the
                User Agent <em class="rfc2119">MUST</em> generate an identifier string, and <em class="rfc2119">MUST</em>
                initialize the object's <a data-link-type="idl" href="#dom-mediastreamtrack-id" class="internalDFN" id="ref-for-dom-mediastreamtrack-id-6"><code><code>id</code></code></a> attribute to that
                string, unless the object is created as part of a special
                purpose algorithm that specifies how the stream id must be
                initialized. See <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-51"><code><code>MediaStream</code></code></a>.<a data-link-type="idl" href="#dom-mediastream-id" class="internalDFN" id="ref-for-dom-mediastream-id-6"><code><code>id</code></code></a>
                attribute for
                guidelines on how to generate such an identifier.</p>
                <p>An example of an algorithm that specifies how the track id
                must be initialized is the algorithm to represent an incoming
                network component with a <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-69"><code><code>MediaStreamTrack</code></code></a>
                object. [<cite><a class="bibref" data-link-type="biblio" href="#bib-webrtc" title="WebRTC 1.0: Real-Time Communication Between Browsers">WEBRTC</a></cite>]</p>
                <p><dfn data-idl="attribute" data-export="" data-dfn-type="attribute" id="dom-mediastreamtrack-id" data-title="id" data-dfn-for="MediaStreamTrack" data-type="DOMString" data-lt="id" data-local-lt="MediaStreamTrack.id"><code>id</code></dfn> attribute <em class="rfc2119">MUST</em> return the value
                to which it was initialized when the object was created.</p>
              </dd>
              <dt><a data-link-type="idl" href="#dom-mediastreamtrack-label" class="internalDFN" id="ref-for-dom-mediastreamtrack-label-3"><code><code>label</code></code></a> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><code>DOMString</code></a>, readonly</dt>
              <dd>
                <p>User Agents <em class="rfc2119">MAY</em> label audio and video sources (e.g.,
                "Internal microphone" or "External USB Webcam"). The <dfn id="dom-mediastreamtrack-label" data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="label" data-dfn-for="MediaStreamTrack" data-type="DOMString" data-lt="label" data-local-lt="MediaStreamTrack.label"><code>label</code></dfn> attribute
                <em class="rfc2119">MUST</em> return the label of the object's corresponding source, if
                any. If the corresponding source has or had no label, the
                attribute <em class="rfc2119">MUST</em> instead return the empty string.</p>
              </dd>
              <dt><a data-link-type="idl" href="#dom-mediastreamtrack-enabled" class="internalDFN" id="ref-for-dom-mediastreamtrack-enabled-4"><code><code>enabled</code></code></a> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a></dt>
              <dd>
                <p>The <dfn id="dom-mediastreamtrack-enabled" data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="enabled" data-dfn-for="MediaStreamTrack" data-type="boolean" data-lt="enabled" data-local-lt="MediaStreamTrack.enabled"><code>enabled</code></dfn>
                attribute controls the <a data-lt="track enabled state" href="#track-enabled" class="internalDFN" data-link-type="dfn" id="ref-for-track-enabled-6">enabled</a> state for the object.</p>
                <p>On getting, the attribute <em class="rfc2119">MUST</em> return the value to which it
                was last set. On setting, it <em class="rfc2119">MUST</em> be set to the new value.</p>
                <div class="note" role="note" id="issue-container-generatedID-2"><div role="heading" class="note-title marker" id="h-note-2" aria-level="6"><span>Note</span></div><p class="">Thus, after a
                <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-70"><code><code>MediaStreamTrack</code></code></a> has <a data-lt="track ended state" href="#track-ended" class="internalDFN" data-link-type="dfn" id="ref-for-track-ended-7">ended</a>, its <a data-link-type="idl" href="#track-enabled" class="internalDFN" id="ref-for-track-enabled-7"><code>enabled</code></a> attribute
                still changes value when set; it just doesn't do anything with
                that new value.</p></div>
              </dd>
              <dt><a data-link-type="idl" href="#dom-mediastreamtrack-muted" class="internalDFN" id="ref-for-dom-mediastreamtrack-muted-5"><code><code>muted</code></code></a> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a>, readonly</dt>
              <dd>
                <p>The <dfn data-idl="attribute" data-export="" data-dfn-type="attribute" id="dom-mediastreamtrack-muted" data-title="muted" data-dfn-for="MediaStreamTrack" data-type="boolean" data-lt="muted" data-local-lt="MediaStreamTrack.muted"><code>muted</code></dfn> attribute
                <em class="rfc2119">MUST</em> return <code>true</code> if the track is <a href="#dom-mediastreamtrack-muted" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastreamtrack-muted-6"><code>muted</code></a>, and <code>false</code> otherwise.</p>
              </dd>
              <dt><dfn data-export="" data-dfn-type="attribute" id="dom-mediastreamtrack-onmute" data-idl="attribute" data-title="onmute" data-dfn-for="MediaStreamTrack" data-type="EventHandler" data-lt="onmute" data-local-lt="MediaStreamTrack.onmute"><code>onmute</code></dfn> of type <a data-link-type="idl" data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><code>EventHandler</code></a></dt>
              <dd>
                <p>The event type of this event handler is <a href="#event-mediastreamtrack-mute" class="internalDFN" data-link-type="dfn" id="ref-for-event-mediastreamtrack-mute-3"><code>mute</code></a>.</p>
              </dd>
              <dt><dfn data-export="" data-dfn-type="attribute" id="dom-mediastreamtrack-onunmute" data-idl="attribute" data-title="onunmute" data-dfn-for="MediaStreamTrack" data-type="EventHandler" data-lt="onunmute" data-local-lt="MediaStreamTrack.onunmute"><code>onunmute</code></dfn> of type <a data-link-type="idl" data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><code>EventHandler</code></a></dt>
              <dd>
                <p>The event type of this event handler is <a href="#event-mediastreamtrack-unmute" class="internalDFN" data-link-type="dfn" id="ref-for-event-mediastreamtrack-unmute-3"><code>unmute</code></a>.</p>
              </dd>
              <dt><a data-link-type="idl" href="#dom-mediastreamtrack-readystate" class="internalDFN" id="ref-for-dom-mediastreamtrack-readystate-6"><code><code>readyState</code></code></a> of type <a data-link-type="idl" href="#dom-mediastreamtrackstate" class="internalDFN" id="ref-for-dom-mediastreamtrackstate-2"><code><code>MediaStreamTrackState</code></code></a>, readonly</dt>
              <dd>
                <p>The <dfn id="dom-mediastreamtrack-readystate" data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="readyState" data-dfn-for="MediaStreamTrack" data-type="MediaStreamTrackState" data-lt="readyState" data-local-lt="MediaStreamTrack.readyState"><code>readyState</code></dfn>
                attribute represents the state of the track. It <em class="rfc2119">MUST</em> return the
                value as most recently set by the User Agent.</p>
              </dd>
              <dt><dfn data-export="" data-dfn-type="attribute" id="dom-mediastreamtrack-onended" data-idl="attribute" data-title="onended" data-dfn-for="MediaStreamTrack" data-type="EventHandler" data-lt="onended" data-local-lt="MediaStreamTrack.onended"><code>onended</code></dfn> of type <a data-link-type="idl" data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><code>EventHandler</code></a></dt>
              <dd>
                <p>The event type of this event handler is <a data-lt="ended event" href="#idl-def-MediaStreamTrackState.ended" class="internalDFN" data-link-type="dfn" id="ref-for-idl-def-MediaStreamTrackState.ended-2">ended</a>.</p>
              </dd>
            </dl>
          </section>
          <section>
            <h5 id="methods-0">Methods<a class="self-link" aria-label="§" href="#methods-0"></a></h5>
            <dl data-link-for="MediaStreamTrack" data-dfn-for="MediaStreamTrack" class="methods">
              <dt><dfn data-export="" data-dfn-type="method" id="dom-mediastreamtrack-clone" data-idl="operation" data-title="clone" data-dfn-for="MediaStreamTrack" data-type="MediaStreamTrack" data-lt="clone()" data-local-lt="MediaStreamTrack.clone|MediaStreamTrack.clone()|clone"><code>clone</code></dfn></dt>
              <dd>
                <p>Clones this <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-71"><code><code>MediaStreamTrack</code></code></a>.</p>
                <p>When the <a data-link-type="idl" data-lt="clone()" href="#dom-mediastreamtrack-clone" class="internalDFN" id="ref-for-dom-mediastreamtrack-clone-2"><code><code>clone</code></code></a><code>()</code> method is invoked, the User
                Agent <em class="rfc2119">MUST</em> return the result of <a data-lt="clone a track" href="#track-clone" class="internalDFN" data-link-type="dfn" id="ref-for-track-clone-2">cloning
                this track</a>.</p>
              </dd>
              <dt><a data-link-type="idl" href="#dom-mediastreamtrack-stop" class="internalDFN" id="ref-for-dom-mediastreamtrack-stop-5"><code><code>stop</code></code></a></dt>
              <dd>
                <p>When a <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-72"><code><code>MediaStreamTrack</code></code></a> object's
                <dfn data-export="" data-dfn-type="method" id="dom-mediastreamtrack-stop" data-idl="operation" data-title="stop()" data-dfn-for="MediaStreamTrack" data-type="undefined" data-lt="stop()" data-local-lt="MediaStreamTrack.stop|MediaStreamTrack.stop()|stop"><code>stop()</code></dfn> method is invoked, the User
                Agent <em class="rfc2119">MUST</em> run following steps:</p>
                <ol>
                  <li>
                    <p>Let <var>track</var> be the current
                    <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-73"><code><code>MediaStreamTrack</code></code></a> object.</p>
                  </li>
                  <li>
                    <p>If <var>track</var>.<a data-link-type="idl" href="#dom-mediastreamtrack-readystate" class="internalDFN" id="ref-for-dom-mediastreamtrack-readystate-7"><code><code>readyState</code></code></a>
                    is "<a data-link-type="idl" href="#dom-mediastreamtrackstate-ended" class="internalDFN" id="ref-for-dom-mediastreamtrackstate-ended-3"><code><code>ended</code></code></a>", then abort these steps.</p>
                  </li>
                  <li>
                    <p>Notify <var>track</var>'s source that <var>track</var>
                    is <a href="#track-ended" class="internalDFN" data-link-type="dfn" id="ref-for-track-ended-8">ended</a>.</p>
                    <p>A source that is notified of a track ending will be
                    <a href="#source-stopped" class="internalDFN" data-link-type="dfn" id="ref-for-source-stopped-3">stopped</a>, unless other
                    <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-74"><code><code>MediaStreamTrack</code></code></a> objects depend on
                    it.</p>
                  </li>
                  <li>
                    <p>Set <var>track</var>.<a data-link-type="idl" href="#dom-mediastreamtrack-readystate" class="internalDFN" id="ref-for-dom-mediastreamtrack-readystate-8"><code><code>readyState</code></code></a>
                    to "<a data-link-type="idl" href="#dom-mediastreamtrackstate-ended" class="internalDFN" id="ref-for-dom-mediastreamtrackstate-ended-4"><code><code>ended</code></code></a>".</p>
                  </li>
                </ol>
              </dd>
              <dt><dfn data-export="" data-dfn-type="method" id="dom-mediastreamtrack-getcapabilities" data-idl="operation" data-title="getCapabilities" data-dfn-for="MediaStreamTrack" data-type="MediaTrackCapabilities" data-lt="getCapabilities()" data-local-lt="MediaStreamTrack.getCapabilities|MediaStreamTrack.getCapabilities()|getCapabilities"><code>getCapabilities</code></dfn></dt>
              <dd>
                <p>Returns the capabilites of the source that this
                <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-75"><code><code>MediaStreamTrack</code></code></a>, the <a href="#dfn-constrainable-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-constrainable-object-2">constrainable
                object</a>, represents.</p>
                <p>See <a href="#constrainable-interface">ConstrainablePattern
                Interface</a> for the definition of this method.</p>
                <p class="fingerprint">Since this method gives likely
                persistent, cross-origin information about the underlying
                device, it adds to the fingerprint surface of the device.<img src="images/fingerprint.png" alt="(This is a fingerprinting vector.)" width="15" height="21"></p>
              </dd>
              <dt><dfn data-export="" data-dfn-type="method" id="dom-mediastreamtrack-getconstraints" data-idl="operation" data-title="getConstraints" data-dfn-for="MediaStreamTrack" data-type="MediaTrackConstraints" data-lt="getConstraints()" data-local-lt="MediaStreamTrack.getConstraints|MediaStreamTrack.getConstraints()|getConstraints"><code>getConstraints</code></dfn></dt>
              <dd>
                <p>See <a href="#constrainable-interface">ConstrainablePattern
                Interface</a> for the definition of this method.</p>
              </dd>
              <dt><dfn data-export="" data-dfn-type="method" id="dom-mediastreamtrack-getsettings" data-idl="operation" data-title="getSettings" data-dfn-for="MediaStreamTrack" data-type="MediaTrackSettings" data-lt="getSettings()" data-local-lt="MediaStreamTrack.getSettings|MediaStreamTrack.getSettings()|getSettings"><code>getSettings</code></dfn></dt>
              <dd>
                <p>When a <code><a href="#dom-mediastreamtrack" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastreamtrack-76"><code>MediaStreamTrack</code></a></code> object's <code>getSettings()</code> method is invoked,
                the User Agent <em class="rfc2119">MUST</em> run following steps:</p>
                <ol>
                  <li>
                    <p>Let <var>track</var> be the current <code><a href="#dom-mediastreamtrack" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastreamtrack-77"><code>MediaStreamTrack</code></a></code> object.</p>
                  </li>
                  <li>
                    <p>If <var>track</var>'s <code><a href="#dom-mediastreamtrack-readystate" id="ref-for-dom-mediastreamtrack-readystate-9">readyState</a></code>
                    attribute is ended, run the following sub steps:</p>
                    <ol>
                      <li><p>Let <var>settings</var> be a new <a href="#dom-mediatracksettings" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediatracksettings-2"><code><code>MediaTrackSettings</code></code></a> dictionary.</p></li>
                      <li><p>
                        For each <var>property</var> of the <a href="#list-of-inherent-constrainable-track-properties" class="internalDFN" data-link-type="dfn" id="ref-for-list-of-inherent-constrainable-track-properties-1">list of inherent constrainable track properties</a>,
                        add a corresponding property to <var>settings</var> if <var>track</var> had such property
                        at the time it was ended, with the value at the time <var>track</var> was ended.
                      </p></li>
                      <li><p>Return <var>settings</var>.</p></li>
                    </ol>
                  </li>
                  <li>
                    <p>Return the current settings of the track as defined in
                    <a href="#constrainable-interface">ConstrainablePattern Interface</a>.</p>
                  </li>
                </ol>
              </dd>
              <dt><dfn data-export="" data-dfn-type="method" id="dom-mediastreamtrack-applyconstraints" data-idl="operation" data-title="applyConstraints" data-dfn-for="MediaStreamTrack" data-type="Promise" data-lt="applyConstraints()|applyConstraints(constraints)" data-local-lt="MediaStreamTrack.applyConstraints|MediaStreamTrack.applyConstraints()|applyConstraints"><code>applyConstraints</code></dfn></dt>
              <dd>
                <p>When a <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-78"><code><code>MediaStreamTrack</code></code></a> object's
                <a data-link-type="idl" data-lt="applyConstraints()" href="#dom-mediastreamtrack-applyconstraints" class="internalDFN" id="ref-for-dom-mediastreamtrack-applyconstraints-2"><code><code>applyConstraints</code></code></a><code>()</code> method is invoked, the User
                Agent <em class="rfc2119">MUST</em> run following steps:</p>
                <ol>
                  <li>
                    <p>Let <var>track</var> be the current
                    <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-79"><code><code>MediaStreamTrack</code></code></a> object.</p>
                  </li>
                  <li>
                    <p>If <var>track</var>.<a data-link-type="idl" href="#dom-mediastreamtrack-readystate" class="internalDFN" id="ref-for-dom-mediastreamtrack-readystate-10"><code><code>readyState</code></code></a>
                    is "<a data-link-type="idl" href="#dom-mediastreamtrackstate-ended" class="internalDFN" id="ref-for-dom-mediastreamtrackstate-ended-5"><code><code>ended</code></code></a>", run the following sub steps:</p>
                    <ol>
                      <li><p>Let <var>p</var> be a new promise.</p></li>
                      <li><p><a href="#dfn-resolve" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resolve-1">resolve</a> <var>p</var> with <code>undefined</code>.</p></li>
                      <li><p>Return <var>p</var>.</p></li>
                    </ol>
                  </li>
                  <li>
                    <p>Invoke and return the result of the
                    <a href="#dfn-applyconstraints-template-method" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-applyconstraints-template-method-1">applyConstraints template method</a> where:</p>
                    <ul>
                      <li>In the <a href="#dfn-selectsettings" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-selectsettings-1">SelectSettings</a> algorithm,
                        <ul>
                          <li>
                            <var>object</var> is the
                            <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-80"><code><code>MediaStreamTrack</code></code></a> on which this
                            method was called, and
                          </li>
                          <li>
                            <a href="#dfn-settings-dictionary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-settings-dictionary-1">settings dictionary</a> refers to a possible
                            instance of the <a data-link-type="idl" href="#dom-mediatracksettings" class="internalDFN" id="ref-for-dom-mediatracksettings-3"><code><code>MediaTrackSettings</code></code></a>
                            dictionary.
                          </li>
                        </ul>
                      </li>
                      <li>In step 3 of the <a href="#dfn-applyconstraints-algorithm" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-applyconstraints-algorithm-1">ApplyConstraints algorithm</a>, all
                      changes listed are to be made to <var>object</var>, and
                      </li>
                      <li>In step 4 of the <a href="#dfn-applyconstraints-algorithm" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-applyconstraints-algorithm-2">ApplyConstraints algorithm</a>, the
                      requirement on getConstraints() applies to the
                      getConstraints() method of <var>object</var>.</li>
                    </ul>
                  </li>
                </ol>
              </dd>
            </dl>
          </section>
        </div>
        <div>
          <pre class="idl def" id="webidl-297015978"><span class="idlHeader"><a class="self-link" href="#webidl-297015978">WebIDL</a></span><span data-idl="" class="idlEnum" id="idl-def-mediastreamtrackstate" data-title="MediaStreamTrackState">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-mediastreamtrackstate" id="ref-for-dom-mediastreamtrackstate-3"><code>MediaStreamTrackState</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-MediaStreamTrackState.live" id="ref-for-idl-def-MediaStreamTrackState.live-3"><code>live</code></a>"</span>,
  <span class="idlEnumItem">"<dfn data-export="" data-dfn-type="enum-value" id="dom-mediastreamtrackstate-ended" data-idl="enum-value" data-title="ended" data-dfn-for="MediaStreamTrackState"><code>ended</code></dfn>"</span>
};</span></pre>
          <table data-link-for="MediaStreamTrackState" data-dfn-for="MediaStreamTrackState" class="simple">
            <tbody>
              <tr>
                <th colspan="2"><dfn data-export="" data-dfn-type="enum" id="dom-mediastreamtrackstate" data-idl="enum" data-title="MediaStreamTrackState" data-dfn-for=""><code>MediaStreamTrackState</code></dfn> Enumeration
                description</th>
              </tr>
              <tr>
                <td><dfn id="idl-def-MediaStreamTrackState.live" data-export="" data-dfn-type="enum-value" data-idl="enum-value" data-title="live" data-dfn-for="MediaStreamTrackState"><code>live</code></dfn></td>
                <td>
                  <p>The track is active (the track's underlying media source
                  is making a best-effort attempt to provide data in real
                  time).</p>
                  <p>The output of a track in the <a data-link-type="idl" href="#idl-def-MediaStreamTrackState.live" class="internalDFN" id="ref-for-idl-def-MediaStreamTrackState.live-4"><code><code>live</code></code></a> state can
                  be switched on and off with the <a data-link-type="idl" href="#dom-mediastreamtrack-enabled" class="internalDFN" id="ref-for-dom-mediastreamtrack-enabled-5"><code><code>enabled</code></code></a>
                  attribute.</p>
                </td>
              </tr>
              <tr>
                <td><dfn data-lt="ended event" data-lt-nodefault="" id="idl-def-MediaStreamTrackState.ended">ended</dfn></td>
                <td>
                  <p>The track has <a data-lt="track ended state" href="#track-ended" class="internalDFN" data-link-type="dfn" id="ref-for-track-ended-9">ended</a> (the
                  track's underlying media source is no longer providing data,
                  and will never provide more data for this track). Once a
                  track enters this state, it never exits it.</p>
                  <p>For example, a video track in a
                  <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-52"><code><code>MediaStream</code></code></a> ends when the user unplugs
                  the USB web camera that acts as the track's media source.</p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
      <section id="media-track-supported-constraints">
        <h4 id="x4-3-4-mediatracksupportedconstraints"><bdi class="secno">4.3.4 </bdi><dfn data-export="" data-dfn-type="dictionary" id="dom-mediatracksupportedconstraints" data-idl="dictionary" data-title="MediaTrackSupportedConstraints" data-dfn-for=""><code>MediaTrackSupportedConstraints</code></dfn><a class="self-link" aria-label="§" href="#media-track-supported-constraints"></a></h4>
        <p><a data-link-type="idl" href="#dom-mediatracksupportedconstraints" class="internalDFN" id="ref-for-dom-mediatracksupportedconstraints-1"><code><code>MediaTrackSupportedConstraints</code></code></a> represents the
        list of constraints recognized by a User Agent for controlling the
        <a href="#dfn-capabilities" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-capabilities-2">Capabilities</a> of a <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-81"><code><code>MediaStreamTrack</code></code></a> object.
        This dictionary is used as a function return value, and never as an
        operation argument.</p>
        <p>Future specifications can extend the <a data-link-type="idl" href="#dom-mediatracksupportedconstraints" class="internalDFN" id="ref-for-dom-mediatracksupportedconstraints-2"><code><code>MediaTrackSupportedConstraints</code></code></a>
        dictionary by defining a partial dictionary with dictionary members of
        type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a>.</p>
        <div class="note" role="note" id="issue-container-generatedID-3"><div role="heading" class="note-title marker" id="h-note-3" aria-level="5"><span>Note</span></div><p class="">The constraints specified in this specification apply
        only to instances of <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-82"><code><code>MediaStreamTrack</code></code></a> generated by
        <a href="#dom-mediadevices-getusermedia" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediadevices-getusermedia-8"><code>getUserMedia()</code></a>, unless stated
        otherwise in other specifications.</p></div>
        <div>
          <pre class="idl def" id="webidl-1918094735"><span class="idlHeader"><a class="self-link" href="#webidl-1918094735">WebIDL</a></span><span data-idl="" class="idlDictionary" id="idl-def-mediatracksupportedconstraints" data-title="MediaTrackSupportedConstraints">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-mediatracksupportedconstraints" id="ref-for-dom-mediatracksupportedconstraints-3"><code>MediaTrackSupportedConstraints</code></a> {<span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-width" data-title="width" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-width" id="ref-for-dom-mediatracksupportedconstraints-width-1"><code>width</code></a> = true;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-height" data-title="height" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-height" id="ref-for-dom-mediatracksupportedconstraints-height-1"><code>height</code></a> = true;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-aspectratio" data-title="aspectRatio" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-aspectratio" id="ref-for-dom-mediatracksupportedconstraints-aspectratio-1"><code>aspectRatio</code></a> = true;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-framerate" data-title="frameRate" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-framerate" id="ref-for-dom-mediatracksupportedconstraints-framerate-1"><code>frameRate</code></a> = true;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-facingmode" data-title="facingMode" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-facingmode" id="ref-for-dom-mediatracksupportedconstraints-facingmode-1"><code>facingMode</code></a> = true;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-resizemode" data-title="resizeMode" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-resizemode" id="ref-for-dom-mediatracksupportedconstraints-resizemode-1"><code>resizeMode</code></a> = true;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-samplerate" data-title="sampleRate" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-samplerate" id="ref-for-dom-mediatracksupportedconstraints-samplerate-1"><code>sampleRate</code></a> = true;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-samplesize" data-title="sampleSize" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-samplesize" id="ref-for-dom-mediatracksupportedconstraints-samplesize-1"><code>sampleSize</code></a> = true;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-echocancellation" data-title="echoCancellation" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-echocancellation" id="ref-for-dom-mediatracksupportedconstraints-echocancellation-1"><code>echoCancellation</code></a> = true;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-autogaincontrol" data-title="autoGainControl" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-autogaincontrol" id="ref-for-dom-mediatracksupportedconstraints-autogaincontrol-1"><code>autoGainControl</code></a> = true;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-noisesuppression" data-title="noiseSuppression" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-noisesuppression" id="ref-for-dom-mediatracksupportedconstraints-noisesuppression-1"><code>noiseSuppression</code></a> = true;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-latency" data-title="latency" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-latency" id="ref-for-dom-mediatracksupportedconstraints-latency-1"><code>latency</code></a> = true;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-channelcount" data-title="channelCount" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-channelcount" id="ref-for-dom-mediatracksupportedconstraints-channelcount-1"><code>channelCount</code></a> = true;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-deviceid" data-title="deviceId" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-deviceid" id="ref-for-dom-mediatracksupportedconstraints-deviceid-1"><code>deviceId</code></a> = true;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-groupid" data-title="groupId" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-groupid" id="ref-for-dom-mediatracksupportedconstraints-groupid-1"><code>groupId</code></a> = true;</span>
};</span></pre>
          <section>
            <h5 id="dictionary-mediatracksupportedconstraints-members">Dictionary <a class="idlType internalDFN" href="#dom-mediatracksupportedconstraints" data-link-type="idl" id="ref-for-dom-mediatracksupportedconstraints-4"><code>MediaTrackSupportedConstraints</code></a> Members<a class="self-link" aria-label="§" href="#dictionary-mediatracksupportedconstraints-members"></a></h5>
            <dl data-link-for="MediaTrackSupportedConstraints" data-dfn-for="MediaTrackSupportedConstraints" class="dictionary-members">
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksupportedconstraints-width" data-idl="field" data-title="width" data-dfn-for="MediaTrackSupportedConstraints" data-type="boolean"><code>width</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a>, defaulting to
              <code>true</code></dt>
              <dd>See <a href="#def-constraint-width">width</a>
              for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksupportedconstraints-height" data-idl="field" data-title="height" data-dfn-for="MediaTrackSupportedConstraints" data-type="boolean"><code>height</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a>, defaulting to
              <code>true</code></dt>
              <dd>See <a href="#def-constraint-height">height</a>
              for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksupportedconstraints-aspectratio" data-idl="field" data-title="aspectRatio" data-dfn-for="MediaTrackSupportedConstraints" data-type="boolean"><code>aspectRatio</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a>, defaulting to
              <code>true</code></dt>
              <dd>See <a href="#def-constraint-aspect">aspectRatio</a> for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksupportedconstraints-framerate" data-idl="field" data-title="frameRate" data-dfn-for="MediaTrackSupportedConstraints" data-type="boolean"><code>frameRate</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a>, defaulting to
              <code>true</code></dt>
              <dd>See <a href="#def-constraint-frameRate">frameRate</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksupportedconstraints-facingmode" data-idl="field" data-title="facingMode" data-dfn-for="MediaTrackSupportedConstraints" data-type="boolean"><code>facingMode</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a>, defaulting to
              <code>true</code></dt>
              <dd>See <a href="#def-constraint-facingMode">facingMode</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksupportedconstraints-resizemode" data-idl="field" data-title="resizeMode" data-dfn-for="MediaTrackSupportedConstraints" data-type="boolean"><code>resizeMode</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a>, defaulting to
              <code>true</code></dt>
              <dd>See <a href="#def-constraint-resizeMode">resizeMode</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksupportedconstraints-samplerate" data-idl="field" data-title="sampleRate" data-dfn-for="MediaTrackSupportedConstraints" data-type="boolean"><code>sampleRate</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a>, defaulting to
              <code>true</code></dt>
              <dd>See <a href="#def-constraint-sampleRate">sampleRate</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksupportedconstraints-samplesize" data-idl="field" data-title="sampleSize" data-dfn-for="MediaTrackSupportedConstraints" data-type="boolean"><code>sampleSize</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a>, defaulting to
              <code>true</code></dt>
              <dd>See <a href="#def-constraint-sampleSize">sampleSize</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksupportedconstraints-echocancellation" data-idl="field" data-title="echoCancellation" data-dfn-for="MediaTrackSupportedConstraints" data-type="boolean"><code>echoCancellation</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a>, defaulting to
              <code>true</code></dt>
              <dd>See <a href="#def-constraint-echoCancellation">echoCancellation</a>
              for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksupportedconstraints-autogaincontrol" data-idl="field" data-title="autoGainControl" data-dfn-for="MediaTrackSupportedConstraints" data-type="boolean"><code>autoGainControl</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a>, defaulting to
              <code>true</code></dt>
              <dd>See <a href="#def-constraint-autoGainControl">autoGainControl</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksupportedconstraints-noisesuppression" data-idl="field" data-title="noiseSuppression" data-dfn-for="MediaTrackSupportedConstraints" data-type="boolean"><code>noiseSuppression</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a>, defaulting to
              <code>true</code></dt>
              <dd>See <a href="#def-constraint-noiseSuppression">noiseSuppression</a>
              for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksupportedconstraints-latency" data-idl="field" data-title="latency" data-dfn-for="MediaTrackSupportedConstraints" data-type="boolean"><code>latency</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a>, defaulting to
              <code>true</code></dt>
              <dd>See <a href="#def-constraint-latency">latency</a> for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksupportedconstraints-channelcount" data-idl="field" data-title="channelCount" data-dfn-for="MediaTrackSupportedConstraints" data-type="boolean"><code>channelCount</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a>, defaulting to
              <code>true</code></dt>
              <dd>See <a href="#def-constraint-channelCount">channelCount</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksupportedconstraints-deviceid" data-idl="field" data-title="deviceId" data-dfn-for="MediaTrackSupportedConstraints" data-type="boolean"><code>deviceId</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a>, defaulting to
              <code>true</code></dt>
              <dd>See <a href="#def-constraint-deviceId">deviceId</a> for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksupportedconstraints-groupid" data-idl="field" data-title="groupId" data-dfn-for="MediaTrackSupportedConstraints" data-type="boolean"><code>groupId</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a>, defaulting to
              <code>true</code></dt>
              <dd>See <a href="#def-constraint-groupId">groupId</a> for details.</dd>
            </dl>
          </section>
        </div>
      </section>
      <section id="media-track-capabilities">
        <h4 id="x4-3-5-mediatrackcapabilities"><bdi class="secno">4.3.5 </bdi><dfn data-export="" data-dfn-type="dictionary" id="dom-mediatrackcapabilities" data-idl="dictionary" data-title="MediaTrackCapabilities" data-dfn-for=""><code>MediaTrackCapabilities</code></dfn><a class="self-link" aria-label="§" href="#media-track-capabilities"></a></h4>
        <p><a data-link-type="idl" href="#dom-mediatrackcapabilities" class="internalDFN" id="ref-for-dom-mediatrackcapabilities-2"><code><code>MediaTrackCapabilities</code></code></a> represents the
        <a href="#dfn-capabilities" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-capabilities-3">Capabilities</a> of a <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-83"><code><code>MediaStreamTrack</code></code></a>
        object.</p>
        <p>Future specifications can extend the MediaTrackCapabilities
        dictionary by defining a partial dictionary with dictionary members of
        appropriate type.</p>
        <div>
          <pre class="idl def" id="webidl-1135231111"><span class="idlHeader"><a class="self-link" href="#webidl-1135231111">WebIDL</a></span><span data-idl="" class="idlDictionary" id="idl-def-mediatrackcapabilities" data-title="MediaTrackCapabilities">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-mediatrackcapabilities" id="ref-for-dom-mediatrackcapabilities-3"><code>MediaTrackCapabilities</code></a> {<span data-idl="" class="idlMember" id="idl-def-mediatrackcapabilities-width" data-title="width" data-dfn-for="MediaTrackCapabilities"><span class="idlType">
  <a href="#dom-ulongrange" class="internalDFN" data-link-type="idl" id="ref-for-dom-ulongrange-1"><code>ULongRange</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackcapabilities-width" id="ref-for-dom-mediatrackcapabilities-width-1"><code>width</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackcapabilities-height" data-title="height" data-dfn-for="MediaTrackCapabilities"><span class="idlType">
  <a href="#dom-ulongrange" class="internalDFN" data-link-type="idl" id="ref-for-dom-ulongrange-2"><code>ULongRange</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackcapabilities-height" id="ref-for-dom-mediatrackcapabilities-height-1"><code>height</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackcapabilities-aspectratio" data-title="aspectRatio" data-dfn-for="MediaTrackCapabilities"><span class="idlType">
  <a href="#dom-doublerange" class="internalDFN" data-link-type="idl" id="ref-for-dom-doublerange-1"><code>DoubleRange</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackcapabilities-aspectratio" id="ref-for-dom-mediatrackcapabilities-aspectratio-1"><code>aspectRatio</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackcapabilities-framerate" data-title="frameRate" data-dfn-for="MediaTrackCapabilities"><span class="idlType">
  <a href="#dom-doublerange" class="internalDFN" data-link-type="idl" id="ref-for-dom-doublerange-2"><code>DoubleRange</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackcapabilities-framerate" id="ref-for-dom-mediatrackcapabilities-framerate-1"><code>frameRate</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackcapabilities-facingmode" data-title="facingMode" data-dfn-for="MediaTrackCapabilities"><span class="idlType">
  <a data-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence">sequence</a>&lt;<a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackcapabilities-facingmode" id="ref-for-dom-mediatrackcapabilities-facingmode-1"><code>facingMode</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackcapabilities-resizemode" data-title="resizeMode" data-dfn-for="MediaTrackCapabilities"><span class="idlType">
  <a data-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence">sequence</a>&lt;<a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackcapabilities-resizemode" id="ref-for-dom-mediatrackcapabilities-resizemode-1"><code>resizeMode</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackcapabilities-samplerate" data-title="sampleRate" data-dfn-for="MediaTrackCapabilities"><span class="idlType">
  <a href="#dom-ulongrange" class="internalDFN" data-link-type="idl" id="ref-for-dom-ulongrange-3"><code>ULongRange</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackcapabilities-samplerate" id="ref-for-dom-mediatrackcapabilities-samplerate-1"><code>sampleRate</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackcapabilities-samplesize" data-title="sampleSize" data-dfn-for="MediaTrackCapabilities"><span class="idlType">
  <a href="#dom-ulongrange" class="internalDFN" data-link-type="idl" id="ref-for-dom-ulongrange-4"><code>ULongRange</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackcapabilities-samplesize" id="ref-for-dom-mediatrackcapabilities-samplesize-1"><code>sampleSize</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackcapabilities-echocancellation" data-title="echoCancellation" data-dfn-for="MediaTrackCapabilities"><span class="idlType">
  <a data-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence">sequence</a>&lt;<a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackcapabilities-echocancellation" id="ref-for-dom-mediatrackcapabilities-echocancellation-1"><code>echoCancellation</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackcapabilities-autogaincontrol" data-title="autoGainControl" data-dfn-for="MediaTrackCapabilities"><span class="idlType">
  <a data-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence">sequence</a>&lt;<a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackcapabilities-autogaincontrol" id="ref-for-dom-mediatrackcapabilities-autogaincontrol-1"><code>autoGainControl</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackcapabilities-noisesuppression" data-title="noiseSuppression" data-dfn-for="MediaTrackCapabilities"><span class="idlType">
  <a data-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence">sequence</a>&lt;<a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackcapabilities-noisesuppression" id="ref-for-dom-mediatrackcapabilities-noisesuppression-1"><code>noiseSuppression</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackcapabilities-latency" data-title="latency" data-dfn-for="MediaTrackCapabilities"><span class="idlType">
  <a href="#dom-doublerange" class="internalDFN" data-link-type="idl" id="ref-for-dom-doublerange-3"><code>DoubleRange</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackcapabilities-latency" id="ref-for-dom-mediatrackcapabilities-latency-1"><code>latency</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackcapabilities-channelcount" data-title="channelCount" data-dfn-for="MediaTrackCapabilities"><span class="idlType">
  <a href="#dom-ulongrange" class="internalDFN" data-link-type="idl" id="ref-for-dom-ulongrange-5"><code>ULongRange</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackcapabilities-channelcount" id="ref-for-dom-mediatrackcapabilities-channelcount-1"><code>channelCount</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackcapabilities-deviceid" data-title="deviceId" data-dfn-for="MediaTrackCapabilities"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackcapabilities-deviceid" id="ref-for-dom-mediatrackcapabilities-deviceid-1"><code>deviceId</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackcapabilities-groupid" data-title="groupId" data-dfn-for="MediaTrackCapabilities"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackcapabilities-groupid" id="ref-for-dom-mediatrackcapabilities-groupid-1"><code>groupId</code></a>;</span>
};</span></pre>
          <section>
            <h5 id="dictionary-mediatrackcapabilities-members">Dictionary <a class="idlType internalDFN" href="#dom-mediatrackcapabilities" data-link-type="idl" id="ref-for-dom-mediatrackcapabilities-4"><code>MediaTrackCapabilities</code></a>
            Members<a class="self-link" aria-label="§" href="#dictionary-mediatrackcapabilities-members"></a></h5>
            <dl data-link-for="MediaTrackCapabilities" data-dfn-for="MediaTrackCapabilities" class="dictionary-members">
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackcapabilities-width" data-idl="field" data-title="width" data-dfn-for="MediaTrackCapabilities" data-type="ULongRange"><code>width</code></dfn> of type <a data-link-type="idl" href="#dom-ulongrange" class="internalDFN" id="ref-for-dom-ulongrange-6"><code><code>ULongRange</code></code></a></dt>
              <dd>See <a href="#def-constraint-width">width</a>
              for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackcapabilities-height" data-idl="field" data-title="height" data-dfn-for="MediaTrackCapabilities" data-type="ULongRange"><code>height</code></dfn> of type <a data-link-type="idl" href="#dom-ulongrange" class="internalDFN" id="ref-for-dom-ulongrange-7"><code><code>ULongRange</code></code></a></dt>
              <dd>See <a href="#def-constraint-height">height</a>
              for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackcapabilities-aspectratio" data-idl="field" data-title="aspectRatio" data-dfn-for="MediaTrackCapabilities" data-type="DoubleRange"><code>aspectRatio</code></dfn> of type <a data-link-type="idl" href="#dom-doublerange" class="internalDFN" id="ref-for-dom-doublerange-4"><code><code>DoubleRange</code></code></a></dt>
              <dd>See <a href="#def-constraint-aspect">aspectRatio</a> for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackcapabilities-framerate" data-idl="field" data-title="frameRate" data-dfn-for="MediaTrackCapabilities" data-type="DoubleRange"><code>frameRate</code></dfn> of type <a data-link-type="idl" href="#dom-doublerange" class="internalDFN" id="ref-for-dom-doublerange-5"><code><code>DoubleRange</code></code></a></dt>
              <dd>See <a href="#def-constraint-frameRate">frameRate</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackcapabilities-facingmode" data-idl="field" data-title="facingMode" data-dfn-for="MediaTrackCapabilities" data-type="sequence"><code>facingMode</code></dfn> of type <code>sequence&lt;<a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><code>DOMString</code></a>&gt;</code></dt>
              <dd>
                <p>A camera can report multiple facing modes. For example, in a
                high-end telepresence solution with several cameras facing the
                user, a camera to the left of the user can report both "<a data-link-type="idl" href="#dom-videofacingmodeenum-left" class="internalDFN" id="ref-for-dom-videofacingmodeenum-left-1"><code><code>left</code></code></a>"
                and "<a data-link-type="idl" href="#dom-videofacingmodeenum-user" class="internalDFN" id="ref-for-dom-videofacingmodeenum-user-1"><code><code>user</code></code></a>". See <a href="#def-constraint-facingMode">facingMode</a> for
                additional details.</p>
              </dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackcapabilities-resizemode" data-idl="field" data-title="resizeMode" data-dfn-for="MediaTrackCapabilities" data-type="sequence"><code>resizeMode</code></dfn> of type <code>sequence&lt;<a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><code>DOMString</code></a>&gt;</code></dt>
              <dd>
                <p>The User Agent <em class="rfc2119">MAY</em> use cropping and downscaling to offer
                more resolution choices than this camera naturally produces.
                The reported sequence <em class="rfc2119">MUST</em> list all the means the UA may employ
                to derive resolution choices for this camera. The value "<a data-link-type="idl" href="#idl-def-VideoResizeModeEnum.user" class="internalDFN" id="ref-for-idl-def-VideoResizeModeEnum.user-1"><code><code>none</code></code></a>"
                <em class="rfc2119">MUST</em> be present, indicating the ability to constrain the UA
                from cropping and downscaling. See <a href="#def-constraint-resizeMode">resizeMode</a> for
                additional details.</p>
              </dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackcapabilities-samplerate" data-idl="field" data-title="sampleRate" data-dfn-for="MediaTrackCapabilities" data-type="ULongRange"><code>sampleRate</code></dfn> of type <a data-link-type="idl" href="#dom-ulongrange" class="internalDFN" id="ref-for-dom-ulongrange-8"><code><code>ULongRange</code></code></a></dt>
              <dd>See <a href="#def-constraint-sampleRate">sampleRate</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackcapabilities-samplesize" data-idl="field" data-title="sampleSize" data-dfn-for="MediaTrackCapabilities" data-type="ULongRange"><code>sampleSize</code></dfn> of type <a data-link-type="idl" href="#dom-ulongrange" class="internalDFN" id="ref-for-dom-ulongrange-9"><code><code>ULongRange</code></code></a></dt>
              <dd>See <a href="#def-constraint-sampleSize">sampleSize</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackcapabilities-echocancellation" data-idl="field" data-title="echoCancellation" data-dfn-for="MediaTrackCapabilities" data-type="sequence"><code>echoCancellation</code></dfn> of type <code>sequence&lt;<a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a>&gt;</code></dt>
              <dd>
                <p>If the source cannot do echo cancellation a single
                <code>false</code> is reported. If echo cancellation cannot be
                turned off, a single <code>true</code> is reported. If the
                script can control the feature, the source reports a list with
                both <code>true</code> and <code>false</code> as possible
                values. See <a href="#def-constraint-echoCancellation">echoCancellation</a>
                for additional details.</p>
              </dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackcapabilities-autogaincontrol" data-idl="field" data-title="autoGainControl" data-dfn-for="MediaTrackCapabilities" data-type="sequence"><code>autoGainControl</code></dfn> of type <code>sequence&lt;<a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a>&gt;</code></dt>
              <dd>
                <p>If the source cannot do auto gain control a single
                <code>false</code> is reported. If auto gain control cannot be
                turned off, a single <code>true</code> is reported. If the
                script can control the feature, the source reports a list with
                both <code>true</code> and <code>false</code> as possible
                values. See <a href="#def-constraint-autoGainControl">autoGainControl</a>
                for additional details.</p>
              </dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackcapabilities-noisesuppression" data-idl="field" data-title="noiseSuppression" data-dfn-for="MediaTrackCapabilities" data-type="sequence"><code>noiseSuppression</code></dfn> of type <code>sequence&lt;<a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a>&gt;</code></dt>
              <dd>
                <p>If the source cannot do noise suppression a single
                <code>false</code> is reported. If noise suppression cannot be
                turned off, a single <code>true</code> is reported. If the
                script can control the feature, the source reports a list with
                both <code>true</code> and <code>false</code> as possible
                values. See <a href="#def-constraint-noiseSuppression">noiseSuppression</a>
                for additional details.</p>
              </dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackcapabilities-latency" data-idl="field" data-title="latency" data-dfn-for="MediaTrackCapabilities" data-type="DoubleRange"><code>latency</code></dfn> of type <a data-link-type="idl" href="#dom-doublerange" class="internalDFN" id="ref-for-dom-doublerange-6"><code><code>DoubleRange</code></code></a></dt>
              <dd>See <a href="#def-constraint-latency">latency</a> for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackcapabilities-channelcount" data-idl="field" data-title="channelCount" data-dfn-for="MediaTrackCapabilities" data-type="ULongRange"><code>channelCount</code></dfn> of type <a data-link-type="idl" href="#dom-ulongrange" class="internalDFN" id="ref-for-dom-ulongrange-10"><code><code>ULongRange</code></code></a></dt>
              <dd>See <a href="#def-constraint-channelCount">channelCount</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackcapabilities-deviceid" data-idl="field" data-title="deviceId" data-dfn-for="MediaTrackCapabilities" data-type="DOMString"><code>deviceId</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><code>DOMString</code></a></dt>
              <dd>See <a href="#def-constraint-deviceId">deviceId</a> for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackcapabilities-groupid" data-idl="field" data-title="groupId" data-dfn-for="MediaTrackCapabilities" data-type="DOMString"><code>groupId</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><code>DOMString</code></a></dt>
              <dd>See <a href="#def-constraint-groupId">groupId</a> for details.</dd>
            </dl>
          </section>
        </div>
      </section>
      <section id="media-track-constraints">
        <h4 id="x4-3-6-mediatrackconstraints"><bdi class="secno">4.3.6 </bdi><dfn data-export="" data-dfn-type="dictionary" id="dom-mediatrackconstraints" data-idl="dictionary" data-title="MediaTrackConstraints" data-dfn-for=""><code>MediaTrackConstraints</code></dfn><a class="self-link" aria-label="§" href="#media-track-constraints"></a></h4>
        <div>
          <pre class="idl def" id="webidl-1990788238"><span class="idlHeader"><a class="self-link" href="#webidl-1990788238">WebIDL</a></span><span data-idl="" class="idlDictionary" id="idl-def-mediatrackconstraints" data-title="MediaTrackConstraints">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-mediatrackconstraints" id="ref-for-dom-mediatrackconstraints-3"><code>MediaTrackConstraints</code></a> : <span class="idlSuperclass"><a href="#dom-mediatrackconstraintset" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediatrackconstraintset-1"><code>MediaTrackConstraintSet</code></a></span> {<span data-idl="" class="idlMember" id="idl-def-mediatrackconstraints-advanced" data-title="advanced" data-dfn-for="MediaTrackConstraints"><span class="idlType">
  <a data-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence">sequence</a>&lt;<a href="#dom-mediatrackconstraintset" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediatrackconstraintset-2"><code>MediaTrackConstraintSet</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraints-advanced" id="ref-for-dom-mediatrackconstraints-advanced-1"><code>advanced</code></a>;</span>
};</span></pre>
          <section>
            <h5 id="dictionary-mediatrackconstraints-members">Dictionary <a class="idlType internalDFN" href="#dom-mediatrackconstraints" data-link-type="idl" id="ref-for-dom-mediatrackconstraints-4"><code>MediaTrackConstraints</code></a>
            Members<a class="self-link" aria-label="§" href="#dictionary-mediatrackconstraints-members"></a></h5>
            <dl data-link-for="MediaTrackConstraints" data-dfn-for="MediaTrackConstraints" class="dictionary-members">
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackconstraints-advanced" data-idl="field" data-title="advanced" data-dfn-for="MediaTrackConstraints" data-type="sequence"><code>advanced</code></dfn> of type <code>sequence&lt;<a data-link-type="idl" href="#dom-mediatrackconstraintset" class="internalDFN" id="ref-for-dom-mediatrackconstraintset-3"><code><code>MediaTrackConstraintSet</code></code></a>&gt;</code></dt>
              <dd>
                <p>See <a href="#constraints">Constraints and ConstraintSet</a>
                for the definition of this element.</p>
              </dd>
            </dl>
          </section>
        </div>
        <p>Future specifications can extend the
        <dfn data-export="" data-dfn-type="dictionary" id="dom-mediatrackconstraintset" data-idl="dictionary" data-title="MediaTrackConstraintSet" data-dfn-for=""><code>MediaTrackConstraintSet</code></dfn> dictionary by defining a partial
        dictionary with dictionary members of appropriate type.</p>
        <div>
          <pre class="idl def" id="webidl-1321993046"><span class="idlHeader"><a class="self-link" href="#webidl-1321993046">WebIDL</a></span><span data-idl="" class="idlDictionary" id="idl-def-mediatrackconstraintset" data-title="MediaTrackConstraintSet">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-mediatrackconstraintset" id="ref-for-dom-mediatrackconstraintset-4"><code>MediaTrackConstraintSet</code></a> {<span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-width" data-title="width" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
  <a href="#dom-constrainulong" class="internalDFN" data-link-type="idl" id="ref-for-dom-constrainulong-1"><code>ConstrainULong</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-width" id="ref-for-dom-mediatrackconstraintset-width-1"><code>width</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-height" data-title="height" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
  <a href="#dom-constrainulong" class="internalDFN" data-link-type="idl" id="ref-for-dom-constrainulong-2"><code>ConstrainULong</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-height" id="ref-for-dom-mediatrackconstraintset-height-1"><code>height</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-aspectratio" data-title="aspectRatio" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
  <a href="#dom-constraindouble" class="internalDFN" data-link-type="idl" id="ref-for-dom-constraindouble-1"><code>ConstrainDouble</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-aspectratio" id="ref-for-dom-mediatrackconstraintset-aspectratio-1"><code>aspectRatio</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-framerate" data-title="frameRate" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
  <a href="#dom-constraindouble" class="internalDFN" data-link-type="idl" id="ref-for-dom-constraindouble-2"><code>ConstrainDouble</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-framerate" id="ref-for-dom-mediatrackconstraintset-framerate-1"><code>frameRate</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-facingmode" data-title="facingMode" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
  <a href="#dom-constraindomstring" class="internalDFN" data-link-type="idl" id="ref-for-dom-constraindomstring-1"><code>ConstrainDOMString</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-facingmode" id="ref-for-dom-mediatrackconstraintset-facingmode-1"><code>facingMode</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-resizemode" data-title="resizeMode" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
  <a href="#dom-constraindomstring" class="internalDFN" data-link-type="idl" id="ref-for-dom-constraindomstring-2"><code>ConstrainDOMString</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-resizemode" id="ref-for-dom-mediatrackconstraintset-resizemode-1"><code>resizeMode</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-samplerate" data-title="sampleRate" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
  <a href="#dom-constrainulong" class="internalDFN" data-link-type="idl" id="ref-for-dom-constrainulong-3"><code>ConstrainULong</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-samplerate" id="ref-for-dom-mediatrackconstraintset-samplerate-1"><code>sampleRate</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-samplesize" data-title="sampleSize" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
  <a href="#dom-constrainulong" class="internalDFN" data-link-type="idl" id="ref-for-dom-constrainulong-4"><code>ConstrainULong</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-samplesize" id="ref-for-dom-mediatrackconstraintset-samplesize-1"><code>sampleSize</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-echocancellation" data-title="echoCancellation" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
  <a href="#dom-constrainboolean" class="internalDFN" data-link-type="idl" id="ref-for-dom-constrainboolean-1"><code>ConstrainBoolean</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-echocancellation" id="ref-for-dom-mediatrackconstraintset-echocancellation-1"><code>echoCancellation</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-autogaincontrol" data-title="autoGainControl" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
  <a href="#dom-constrainboolean" class="internalDFN" data-link-type="idl" id="ref-for-dom-constrainboolean-2"><code>ConstrainBoolean</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-autogaincontrol" id="ref-for-dom-mediatrackconstraintset-autogaincontrol-1"><code>autoGainControl</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-noisesuppression" data-title="noiseSuppression" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
  <a href="#dom-constrainboolean" class="internalDFN" data-link-type="idl" id="ref-for-dom-constrainboolean-3"><code>ConstrainBoolean</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-noisesuppression" id="ref-for-dom-mediatrackconstraintset-noisesuppression-1"><code>noiseSuppression</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-latency" data-title="latency" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
  <a href="#dom-constraindouble" class="internalDFN" data-link-type="idl" id="ref-for-dom-constraindouble-3"><code>ConstrainDouble</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-latency" id="ref-for-dom-mediatrackconstraintset-latency-1"><code>latency</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-channelcount" data-title="channelCount" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
  <a href="#dom-constrainulong" class="internalDFN" data-link-type="idl" id="ref-for-dom-constrainulong-5"><code>ConstrainULong</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-channelcount" id="ref-for-dom-mediatrackconstraintset-channelcount-1"><code>channelCount</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-deviceid" data-title="deviceId" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
  <a href="#dom-constraindomstring" class="internalDFN" data-link-type="idl" id="ref-for-dom-constraindomstring-3"><code>ConstrainDOMString</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-deviceid" id="ref-for-dom-mediatrackconstraintset-deviceid-1"><code>deviceId</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-groupid" data-title="groupId" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
  <a href="#dom-constraindomstring" class="internalDFN" data-link-type="idl" id="ref-for-dom-constraindomstring-4"><code>ConstrainDOMString</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-groupid" id="ref-for-dom-mediatrackconstraintset-groupid-1"><code>groupId</code></a>;</span>
};</span></pre>
          <section>
            <h5 id="dictionary-mediatrackconstraintset-members">Dictionary <a class="idlType internalDFN" href="#dom-mediatrackconstraintset" data-link-type="idl" id="ref-for-dom-mediatrackconstraintset-5"><code>MediaTrackConstraintSet</code></a>
            Members<a class="self-link" aria-label="§" href="#dictionary-mediatrackconstraintset-members"></a></h5>
            <dl data-link-for="MediaTrackConstraintSet" data-dfn-for="MediaTrackConstraintSet" class="dictionary-members">
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackconstraintset-width" data-idl="field" data-title="width" data-dfn-for="MediaTrackConstraintSet" data-type="ConstrainULong"><code>width</code></dfn> of type <a data-link-type="idl" href="#dom-constrainulong" class="internalDFN" id="ref-for-dom-constrainulong-6"><code><code>ConstrainULong</code></code></a></dt>
              <dd>See <a href="#def-constraint-width">width</a>
              for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackconstraintset-height" data-idl="field" data-title="height" data-dfn-for="MediaTrackConstraintSet" data-type="ConstrainULong"><code>height</code></dfn> of type <a data-link-type="idl" href="#dom-constrainulong" class="internalDFN" id="ref-for-dom-constrainulong-7"><code><code>ConstrainULong</code></code></a></dt>
              <dd>See <a href="#def-constraint-height">height</a>
              for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackconstraintset-aspectratio" data-idl="field" data-title="aspectRatio" data-dfn-for="MediaTrackConstraintSet" data-type="ConstrainDouble"><code>aspectRatio</code></dfn> of type <a data-link-type="idl" href="#dom-constraindouble" class="internalDFN" id="ref-for-dom-constraindouble-4"><code><code>ConstrainDouble</code></code></a></dt>
              <dd>See <a href="#def-constraint-aspect">aspectRatio</a> for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackconstraintset-framerate" data-idl="field" data-title="frameRate" data-dfn-for="MediaTrackConstraintSet" data-type="ConstrainDouble"><code>frameRate</code></dfn> of type <a data-link-type="idl" href="#dom-constraindouble" class="internalDFN" id="ref-for-dom-constraindouble-5"><code><code>ConstrainDouble</code></code></a></dt>
              <dd>See <a href="#def-constraint-frameRate">frameRate</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackconstraintset-facingmode" data-idl="field" data-title="facingMode" data-dfn-for="MediaTrackConstraintSet" data-type="ConstrainDOMString"><code>facingMode</code></dfn> of type <a data-link-type="idl" href="#dom-constraindomstring" class="internalDFN" id="ref-for-dom-constraindomstring-5"><code><code>ConstrainDOMString</code></code></a></dt>
              <dd>See <a href="#def-constraint-facingMode">facingMode</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackconstraintset-resizemode" data-idl="field" data-title="resizeMode" data-dfn-for="MediaTrackConstraintSet" data-type="ConstrainDOMString"><code>resizeMode</code></dfn> of type <a data-link-type="idl" href="#dom-constraindomstring" class="internalDFN" id="ref-for-dom-constraindomstring-6"><code><code>ConstrainDOMString</code></code></a></dt>
              <dd>See <a href="#def-constraint-resizeMode">resizeMode</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackconstraintset-samplerate" data-idl="field" data-title="sampleRate" data-dfn-for="MediaTrackConstraintSet" data-type="ConstrainULong"><code>sampleRate</code></dfn> of type <a data-link-type="idl" href="#dom-constrainulong" class="internalDFN" id="ref-for-dom-constrainulong-8"><code><code>ConstrainULong</code></code></a></dt>
              <dd>See <a href="#def-constraint-sampleRate">sampleRate</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackconstraintset-samplesize" data-idl="field" data-title="sampleSize" data-dfn-for="MediaTrackConstraintSet" data-type="ConstrainULong"><code>sampleSize</code></dfn> of type <a data-link-type="idl" href="#dom-constrainulong" class="internalDFN" id="ref-for-dom-constrainulong-9"><code><code>ConstrainULong</code></code></a></dt>
              <dd>See <a href="#def-constraint-sampleSize">sampleSize</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackconstraintset-echocancellation" data-idl="field" data-title="echoCancellation" data-dfn-for="MediaTrackConstraintSet" data-type="ConstrainBoolean"><code>echoCancellation</code></dfn> of type <a data-link-type="idl" href="#dom-constrainboolean" class="internalDFN" id="ref-for-dom-constrainboolean-4"><code><code>ConstrainBoolean</code></code></a></dt>
              <dd>See <a href="#def-constraint-echoCancellation">echoCancellation</a>
              for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackconstraintset-autogaincontrol" data-idl="field" data-title="autoGainControl" data-dfn-for="MediaTrackConstraintSet" data-type="ConstrainBoolean"><code>autoGainControl</code></dfn> of type <a data-link-type="idl" href="#dom-constrainboolean" class="internalDFN" id="ref-for-dom-constrainboolean-5"><code><code>ConstrainBoolean</code></code></a></dt>
              <dd>See <a href="#def-constraint-autoGainControl">autoGainControl</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackconstraintset-noisesuppression" data-idl="field" data-title="noiseSuppression" data-dfn-for="MediaTrackConstraintSet" data-type="ConstrainBoolean"><code>noiseSuppression</code></dfn> of type <a data-link-type="idl" href="#dom-constrainboolean" class="internalDFN" id="ref-for-dom-constrainboolean-6"><code><code>ConstrainBoolean</code></code></a></dt>
              <dd>See <a href="#def-constraint-noiseSuppression">noiseSuppression</a>
              for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackconstraintset-latency" data-idl="field" data-title="latency" data-dfn-for="MediaTrackConstraintSet" data-type="ConstrainDouble"><code>latency</code></dfn> of type <a data-link-type="idl" href="#dom-constraindouble" class="internalDFN" id="ref-for-dom-constraindouble-6"><code><code>ConstrainDouble</code></code></a></dt>
              <dd>See <a href="#def-constraint-latency">latency</a> for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackconstraintset-channelcount" data-idl="field" data-title="channelCount" data-dfn-for="MediaTrackConstraintSet" data-type="ConstrainULong"><code>channelCount</code></dfn> of type <a data-link-type="idl" href="#dom-constrainulong" class="internalDFN" id="ref-for-dom-constrainulong-10"><code><code>ConstrainULong</code></code></a></dt>
              <dd>See <a href="#def-constraint-channelCount">channelCount</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackconstraintset-deviceid" data-idl="field" data-title="deviceId" data-dfn-for="MediaTrackConstraintSet" data-type="ConstrainDOMString"><code>deviceId</code></dfn> of type <a data-link-type="idl" href="#dom-constraindomstring" class="internalDFN" id="ref-for-dom-constraindomstring-7"><code><code>ConstrainDOMString</code></code></a></dt>
              <dd>See <a href="#def-constraint-deviceId">deviceId</a> for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackconstraintset-groupid" data-idl="field" data-title="groupId" data-dfn-for="MediaTrackConstraintSet" data-type="ConstrainDOMString"><code>groupId</code></dfn> of type <a data-link-type="idl" href="#dom-constraindomstring" class="internalDFN" id="ref-for-dom-constraindomstring-8"><code><code>ConstrainDOMString</code></code></a></dt>
              <dd>See <a href="#def-constraint-groupId">groupId</a> for details.</dd>
            </dl>
          </section>
        </div>
      </section>
      <section id="media-track-settings">
        <h4 id="x4-3-7-mediatracksettings"><bdi class="secno">4.3.7 </bdi><dfn data-export="" data-dfn-type="dictionary" id="dom-mediatracksettings" data-idl="dictionary" data-title="MediaTrackSettings" data-dfn-for=""><code>MediaTrackSettings</code></dfn><a class="self-link" aria-label="§" href="#media-track-settings"></a></h4>
        <p><a data-link-type="idl" href="#dom-mediatracksettings" class="internalDFN" id="ref-for-dom-mediatracksettings-4"><code><code>MediaTrackSettings</code></code></a> represents the
        <a href="#dfn-settings" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-settings-2">Settings</a> of a <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-84"><code><code>MediaStreamTrack</code></code></a> object.</p>
        <p>Future specifications can extend the MediaTrackSettings dictionary
        by defining a partial dictionary with dictionary members of appropriate
        type.</p>
        <div>
          <pre class="idl def" id="webidl-1407576612"><span class="idlHeader"><a class="self-link" href="#webidl-1407576612">WebIDL</a></span><span data-idl="" class="idlDictionary" id="idl-def-mediatracksettings" data-title="MediaTrackSettings">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-mediatracksettings" id="ref-for-dom-mediatracksettings-5"><code>MediaTrackSettings</code></a> {<span data-idl="" class="idlMember" id="idl-def-mediatracksettings-width" data-title="width" data-dfn-for="MediaTrackSettings"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-long">long</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-width" id="ref-for-dom-mediatracksettings-width-1"><code>width</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksettings-height" data-title="height" data-dfn-for="MediaTrackSettings"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-long">long</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-height" id="ref-for-dom-mediatracksettings-height-1"><code>height</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksettings-aspectratio" data-title="aspectRatio" data-dfn-for="MediaTrackSettings"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-double">double</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-aspectratio" id="ref-for-dom-mediatracksettings-aspectratio-1"><code>aspectRatio</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksettings-framerate" data-title="frameRate" data-dfn-for="MediaTrackSettings"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-double">double</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-framerate" id="ref-for-dom-mediatracksettings-framerate-1"><code>frameRate</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksettings-facingmode" data-title="facingMode" data-dfn-for="MediaTrackSettings"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-facingmode" id="ref-for-dom-mediatracksettings-facingmode-1"><code>facingMode</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksettings-resizemode" data-title="resizeMode" data-dfn-for="MediaTrackSettings"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-resizemode" id="ref-for-dom-mediatracksettings-resizemode-1"><code>resizeMode</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksettings-samplerate" data-title="sampleRate" data-dfn-for="MediaTrackSettings"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-long">long</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-samplerate" id="ref-for-dom-mediatracksettings-samplerate-1"><code>sampleRate</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksettings-samplesize" data-title="sampleSize" data-dfn-for="MediaTrackSettings"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-long">long</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-samplesize" id="ref-for-dom-mediatracksettings-samplesize-1"><code>sampleSize</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksettings-echocancellation" data-title="echoCancellation" data-dfn-for="MediaTrackSettings"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-echocancellation" id="ref-for-dom-mediatracksettings-echocancellation-1"><code>echoCancellation</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksettings-autogaincontrol" data-title="autoGainControl" data-dfn-for="MediaTrackSettings"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-autogaincontrol" id="ref-for-dom-mediatracksettings-autogaincontrol-1"><code>autoGainControl</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksettings-noisesuppression" data-title="noiseSuppression" data-dfn-for="MediaTrackSettings"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-noisesuppression" id="ref-for-dom-mediatracksettings-noisesuppression-1"><code>noiseSuppression</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksettings-latency" data-title="latency" data-dfn-for="MediaTrackSettings"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-double">double</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-latency" id="ref-for-dom-mediatracksettings-latency-1"><code>latency</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksettings-channelcount" data-title="channelCount" data-dfn-for="MediaTrackSettings"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-long">long</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-channelcount" id="ref-for-dom-mediatracksettings-channelcount-1"><code>channelCount</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksettings-deviceid" data-title="deviceId" data-dfn-for="MediaTrackSettings"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-deviceid" id="ref-for-dom-mediatracksettings-deviceid-1"><code>deviceId</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksettings-groupid" data-title="groupId" data-dfn-for="MediaTrackSettings"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-groupid" id="ref-for-dom-mediatracksettings-groupid-1"><code>groupId</code></a>;</span>
};</span></pre>
          <section>
            <h5 id="dictionary-mediatracksettings-members">Dictionary <a class="idlType internalDFN" href="#dom-mediatracksettings" data-link-type="idl" id="ref-for-dom-mediatracksettings-6"><code>MediaTrackSettings</code></a>
            Members<a class="self-link" aria-label="§" href="#dictionary-mediatracksettings-members"></a></h5>
            <dl data-link-for="MediaTrackSettings" data-dfn-for="MediaTrackSettings" class="dictionary-members">
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksettings-width" data-idl="field" data-title="width" data-dfn-for="MediaTrackSettings" data-type="long"><code>width</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-long"><code>long</code></a></dt>
              <dd>See <a href="#def-constraint-width">width</a>
              for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksettings-height" data-idl="field" data-title="height" data-dfn-for="MediaTrackSettings" data-type="long"><code>height</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-long"><code>long</code></a></dt>
              <dd>See <a href="#def-constraint-height">height</a>
              for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksettings-aspectratio" data-idl="field" data-title="aspectRatio" data-dfn-for="MediaTrackSettings" data-type="double"><code>aspectRatio</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-double"><code>double</code></a></dt>
              <dd>See <a href="#def-constraint-aspect">aspectRatio</a> for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksettings-framerate" data-idl="field" data-title="frameRate" data-dfn-for="MediaTrackSettings" data-type="double"><code>frameRate</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-double"><code>double</code></a></dt>
              <dd>See <a href="#def-constraint-frameRate">frameRate</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksettings-facingmode" data-idl="field" data-title="facingMode" data-dfn-for="MediaTrackSettings" data-type="DOMString"><code>facingMode</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><code>DOMString</code></a></dt>
              <dd>See <a href="#def-constraint-facingMode">facingMode</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksettings-resizemode" data-idl="field" data-title="resizeMode" data-dfn-for="MediaTrackSettings" data-type="DOMString"><code>resizeMode</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><code>DOMString</code></a></dt>
              <dd>See <a href="#def-constraint-resizeMode">resizeMode</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksettings-samplerate" data-idl="field" data-title="sampleRate" data-dfn-for="MediaTrackSettings" data-type="long"><code>sampleRate</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-long"><code>long</code></a></dt>
              <dd>See <a href="#def-constraint-sampleRate">sampleRate</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksettings-samplesize" data-idl="field" data-title="sampleSize" data-dfn-for="MediaTrackSettings" data-type="long"><code>sampleSize</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-long"><code>long</code></a></dt>
              <dd>See <a href="#def-constraint-sampleSize">sampleSize</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksettings-echocancellation" data-idl="field" data-title="echoCancellation" data-dfn-for="MediaTrackSettings" data-type="boolean"><code>echoCancellation</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a></dt>
              <dd>See <a href="#def-constraint-echoCancellation">echoCancellation</a>
              for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksettings-autogaincontrol" data-idl="field" data-title="autoGainControl" data-dfn-for="MediaTrackSettings" data-type="boolean"><code>autoGainControl</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a></dt>
              <dd>See <a href="#def-constraint-autoGainControl">autoGainControl</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksettings-noisesuppression" data-idl="field" data-title="noiseSuppression" data-dfn-for="MediaTrackSettings" data-type="boolean"><code>noiseSuppression</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a></dt>
              <dd>See <a href="#def-constraint-noiseSuppression">noiseSuppression</a>
              for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksettings-latency" data-idl="field" data-title="latency" data-dfn-for="MediaTrackSettings" data-type="double"><code>latency</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-double"><code>double</code></a></dt>
              <dd>See <a href="#def-constraint-latency">latency</a> for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksettings-channelcount" data-idl="field" data-title="channelCount" data-dfn-for="MediaTrackSettings" data-type="long"><code>channelCount</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-long"><code>long</code></a></dt>
              <dd>See <a href="#def-constraint-channelCount">channelCount</a> for
              details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksettings-deviceid" data-idl="field" data-title="deviceId" data-dfn-for="MediaTrackSettings" data-type="DOMString"><code>deviceId</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><code>DOMString</code></a></dt>
              <dd>See <a href="#def-constraint-deviceId">deviceId</a> for details.</dd>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksettings-groupid" data-idl="field" data-title="groupId" data-dfn-for="MediaTrackSettings" data-type="DOMString"><code>groupId</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><code>DOMString</code></a></dt>
              <dd>See <a href="#def-constraint-groupId">groupId</a> for details.</dd>
            </dl>
          </section>
        </div>
      </section>
      <section id="constrainable-properties">
        <h4 id="x4-3-8-constrainable-properties"><bdi class="secno">4.3.8 </bdi>Constrainable Properties<a class="self-link" aria-label="§" href="#constrainable-properties"></a></h4>
        <p>The names of the initial set of constrainable properties for
        MediaStreamTrack are defined below.</p>
        <p>The following constrainable properties are defined to apply to both
        video and audio <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-85"><code><code>MediaStreamTrack</code></code></a> objects:</p>
        <table class="simple">
          <thead>
            <tr>
              <th>Property Name</th>
              <th>Values</th>
              <th>Notes</th>
            </tr>
          </thead>
          <tbody>
            <tr id="def-constraint-deviceId">
              <td><dfn id="dfn-deviceid">deviceId</dfn></td>
              <td>DOMString</td>
              <td>
                The identifier of the device generating the content of the
                <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-86"><code><code>MediaStreamTrack</code></code></a>. It conforms with the definition of
                <a data-link-type="idl" href="#dom-mediadeviceinfo" class="internalDFN" id="ref-for-dom-mediadeviceinfo-1"><code><code>MediaDeviceInfo</code></code></a>.<a data-link-type="idl" href="#dom-mediadeviceinfo-deviceid" class="internalDFN" id="ref-for-dom-mediadeviceinfo-deviceid-3"><code><code>deviceId</code></code></a>.
                Note that the setting of this property is
                uniquely determined by the source that is attached to the
                <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-87"><code><code>MediaStreamTrack</code></code></a>. In particular, <a data-link-type="idl" data-lt="getCapabilities()" href="#dom-mediastreamtrack-getcapabilities" class="internalDFN" id="ref-for-dom-mediastreamtrack-getcapabilities-3"><code><code>getCapabilities</code></code></a><code>()</code> will return only a
                single value for deviceId. This property can therefore be used
                for initial media selection with <a data-link-type="idl" data-lt="getUserMedia()" href="#dom-mediadevices-getusermedia" class="internalDFN" id="ref-for-dom-mediadevices-getusermedia-9"><code><code>getUserMedia</code></code></a><code>()</code>. However, it is not useful
                for subsequent media control with <a data-link-type="idl" data-lt="applyConstraints()" href="#dom-mediastreamtrack-applyconstraints" class="internalDFN" id="ref-for-dom-mediastreamtrack-applyconstraints-3"><code><code>applyConstraints</code></code></a><code>()</code>, since any attempt to
                set a different value will result in an unsatisfiable
                <a href="#dom-constraintset" class="internalDFN" data-link-type="idl" id="ref-for-dom-constraintset-1"><code>ConstraintSet</code></a>.
                If a string of length 0 is used as a deviceId value constraint
                with <a data-link-type="idl" data-lt="getUserMedia()" href="#dom-mediadevices-getusermedia" class="internalDFN" id="ref-for-dom-mediadevices-getusermedia-10"><code><code>getUserMedia</code></code></a><code>()</code>, it
                <em class="rfc2119">MAY</em> be interpreted as if the constraint is not specified.
              </td>
            </tr>
            <tr id="def-constraint-groupId">
              <td><dfn id="dfn-groupid">groupId</dfn></td>
              <td><a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><code>DOMString</code></a></td>
              <td>
                The <a data-link-type="dfn" data-type="dfn" href="https://dom.spec.whatwg.org/#concept-document">document</a>-unique group identifier for the device
                generating the content of the <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-88"><code><code>MediaStreamTrack</code></code></a>.
                It conforms with the definition of
                <a data-link-type="idl" href="#dom-mediadeviceinfo" class="internalDFN" id="ref-for-dom-mediadeviceinfo-2"><code><code>MediaDeviceInfo</code></code></a>.<a data-link-type="idl" href="#dom-mediadeviceinfo-groupid" class="internalDFN" id="ref-for-dom-mediadeviceinfo-groupid-1"><code><code>groupId</code></code></a>.
                Note that the setting of this property is uniquely
                determined by the source that is attached to the
                <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-89"><code><code>MediaStreamTrack</code></code></a>. In particular, <a data-link-type="idl" data-lt="getCapabilities()" href="#dom-mediastreamtrack-getcapabilities" class="internalDFN" id="ref-for-dom-mediastreamtrack-getcapabilities-4"><code><code>getCapabilities</code></code></a><code>()</code> will return only a
                single value for groupId. Since this property is not stable
                between browsing sessions, its usefulness for initial media
                selection with <a data-link-type="idl" data-lt="getUserMedia()" href="#dom-mediadevices-getusermedia" class="internalDFN" id="ref-for-dom-mediadevices-getusermedia-11"><code><code>getUserMedia</code></code></a><code>()</code> is limited. It is not useful
                for subsequent media control with <a data-link-type="idl" data-lt="applyConstraints()" href="#dom-mediastreamtrack-applyconstraints" class="internalDFN" id="ref-for-dom-mediastreamtrack-applyconstraints-4"><code><code>applyConstraints</code></code></a><code>()</code>, since any attempt to
                set a different value will result in an unsatisfiable
                <a href="#dom-constraintset" class="internalDFN" data-link-type="idl" id="ref-for-dom-constraintset-2"><code>ConstraintSet</code></a>.
              </td>
            </tr>
          </tbody>
        </table>
        <p>The following constrainable properties are defined to apply only to
        video <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-90"><code><code>MediaStreamTrack</code></code></a> objects:</p>
        <table class="simple">
          <thead>
            <tr>
              <th>Property Name</th>
              <th>Values</th>
              <th>Notes</th>
            </tr>
          </thead>
          <tbody>
            <tr id="def-constraint-width">
              <td><dfn id="dfn-width">width</dfn></td>
              <td><a data-link-type="idl" href="#dom-constrainulong" class="internalDFN" id="ref-for-dom-constrainulong-11"><code><code>ConstrainULong</code></code></a></td>
              <td>The width or width range, in pixels. As a capability, the
              range should span the video source's pre-set width values with
              min being equal to 1 and max being the largest
              width. The User Agent <em class="rfc2119">MUST</em> support downsampling to any value
              between the min width range value and the native resolution width.</td>
            </tr>
            <tr id="def-constraint-height">
              <td><dfn id="dfn-height">height</dfn></td>
              <td><a data-link-type="idl" href="#dom-constrainulong" class="internalDFN" id="ref-for-dom-constrainulong-12"><code><code>ConstrainULong</code></code></a></td>
              <td>The height or height range, in pixels. As a capability, the
              range should span the video source's pre-set height values with
              min being equal to 1 and max being the largest
              height. The User Agent <em class="rfc2119">MUST</em> support downsampling to any value
              between the min height range value and the native resolution height.</td>
            </tr>
            <tr id="def-constraint-frameRate">
              <td><dfn id="dfn-framerate">frameRate</dfn></td>
              <td><a data-link-type="idl" href="#dom-constraindouble" class="internalDFN" id="ref-for-dom-constraindouble-7"><code><code>ConstrainDouble</code></code></a></td>
              <td>The exact frame rate (frames per second) or frame rate range.
              If video source's pre-set can determine frame rate values, the range, as a capacity,
              should span the video source's pre-set frame rate values with
              min being equal to 0 and max being the largest frame rate.
              The User Agent <em class="rfc2119">MUST</em> support frame rates obtained from
              integral decimation of the native resolution frame rate.
              If this frame rate cannot be determined (e.g. the source does not
              natively provide a frame rate, or the frame rate cannot be
              determined from the source stream), then this value <em class="rfc2119">MUST</em> refer to
              the User Agent's vsync display rate.</td>
            </tr>
            <tr id="def-constraint-aspect">
              <td><dfn id="dfn-aspectratio">aspectRatio</dfn></td>
              <td><a data-link-type="idl" href="#dom-constraindouble" class="internalDFN" id="ref-for-dom-constraindouble-8"><code><code>ConstrainDouble</code></code></a></td>
              <td>The exact aspect ratio (width in pixels divided by height in
              pixels, represented as a double rounded to the tenth decimal
              place) or aspect ratio range.</td>
            </tr>
            <tr id="def-constraint-facingMode">
              <td><dfn id="dfn-facingmode">facingMode</dfn></td>
              <td><a data-link-type="idl" href="#dom-constraindomstring" class="internalDFN" id="ref-for-dom-constraindomstring-9"><code><code>ConstrainDOMString</code></code></a></td>
              <td>This string (or each string, when a list) should be one of
              the members of <a data-link-type="idl" href="#dom-videofacingmodeenum" class="internalDFN" id="ref-for-dom-videofacingmodeenum-1"><code><code>VideoFacingModeEnum</code></code></a>. The
              members describe the directions that the camera can face, as seen
              from the user's perspective. Note that <code><a href="#dom-constrainablepattern-getconstraints" class="internalDFN" data-link-type="idl" id="ref-for-dom-constrainablepattern-getconstraints-1"><code>getConstraints</code></a></code> may not return
              exactly the same string for strings not in this enum. This
              preserves the possibility of using a future version of WebIDL
              enum for this property.</td>
            </tr>
            <tr id="def-constraint-resizeMode">
              <td><dfn id="dfn-resizemode">resizeMode</dfn></td>
              <td><a data-link-type="idl" href="#dom-constraindomstring" class="internalDFN" id="ref-for-dom-constraindomstring-10"><code><code>ConstrainDOMString</code></code></a></td>
              <td>
                This string (or each string, when a list) should be one of the
                members of <a data-link-type="idl" href="#dom-videoresizemodeenum" class="internalDFN" id="ref-for-dom-videoresizemodeenum-1"><code><code>VideoResizeModeEnum</code></code></a>. The members
                describe the means by which the resolution can be derived by
                the UA. In other words, whether the UA is allowed to use
                cropping and downscaling on the camera output.
                <p class="fingerprint">The UA <em class="rfc2119">MAY</em> disguise concurrent use of
                the camera, by cropping and/or downscaling to mimic native
                resolutions when "none" is used, but only when the camera is in
                use in another browsing context.<img src="images/fingerprint.png" alt="(This is a fingerprinting vector.)" width="15" height="21"></p>Note that
                <code><a href="#dom-constrainablepattern-getconstraints" class="internalDFN" data-link-type="idl" id="ref-for-dom-constrainablepattern-getconstraints-2"><code>getConstraints</code></a></code> may not return
                exactly the same string for strings not in this enum. This
                preserves the possibility of using a future version of WebIDL
                enum for this property.
              </td>
            </tr>
          </tbody>
        </table>
        <div>
          <pre class="idl def" id="webidl-1048699732"><span class="idlHeader"><a class="self-link" href="#webidl-1048699732">WebIDL</a></span><span data-idl="" class="idlEnum" id="idl-def-videofacingmodeenum" data-title="VideoFacingModeEnum">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-videofacingmodeenum" id="ref-for-dom-videofacingmodeenum-2"><code>VideoFacingModeEnum</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-videofacingmodeenum-user" id="ref-for-dom-videofacingmodeenum-user-2"><code>user</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-videofacingmodeenum-environment" id="ref-for-dom-videofacingmodeenum-environment-1"><code>environment</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-videofacingmodeenum-left" id="ref-for-dom-videofacingmodeenum-left-2"><code>left</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-videofacingmodeenum-right" id="ref-for-dom-videofacingmodeenum-right-1"><code>right</code></a>"</span>
};</span></pre>
          <table data-link-for="VideoFacingModeEnum" data-dfn-for="VideoFacingModeEnum" class="simple">
            <tbody>
              <tr>
                <th colspan="2"><dfn data-export="" data-dfn-type="enum" id="dom-videofacingmodeenum" data-idl="enum" data-title="VideoFacingModeEnum" data-dfn-for=""><code>VideoFacingModeEnum</code></dfn> Enumeration
                description</th>
              </tr>
              <tr>
                <td><dfn data-export="" data-dfn-type="enum-value" id="dom-videofacingmodeenum-user" data-idl="enum-value" data-title="user" data-dfn-for="VideoFacingModeEnum"><code id="idl-def-VideoFacingModeEnum.user">user</code></dfn></td>
                <td>
                  <p>The source is facing toward the user (a self-view
                  camera).</p>
                </td>
              </tr>
              <tr>
                <td><dfn data-export="" data-dfn-type="enum-value" id="dom-videofacingmodeenum-environment" data-idl="enum-value" data-title="environment" data-dfn-for="VideoFacingModeEnum"><code id="idl-def-VideoFacingModeEnum.environment">environment</code></dfn></td>
                <td>
                  <p>The source is facing away from the user (viewing the
                  environment).</p>
                </td>
              </tr>
              <tr>
                <td><dfn data-export="" data-dfn-type="enum-value" id="dom-videofacingmodeenum-left" data-idl="enum-value" data-title="left" data-dfn-for="VideoFacingModeEnum"><code id="idl-def-VideoFacingModeEnum.left">left</code></dfn></td>
                <td>
                  <p>The source is facing to the left of the user.</p>
                </td>
              </tr>
              <tr>
                <td><dfn data-export="" data-dfn-type="enum-value" id="dom-videofacingmodeenum-right" data-idl="enum-value" data-title="right" data-dfn-for="VideoFacingModeEnum"><code id="idl-def-VideoFacingModeEnum.right">right</code></dfn></td>
                <td>
                  <p>The source is facing to the right of the user.</p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <p>Below is an illustration of the video facing modes in relation to
        the user.<br>
        <img alt="Illustration of video facing modes in relation to user" src="images/camera-names-exp.svg" style="width:40%" height="300" width="300"></p>
        <div>
          <pre class="idl def" id="webidl-1960342920"><span class="idlHeader"><a class="self-link" href="#webidl-1960342920">WebIDL</a></span><span data-idl="" class="idlEnum" id="idl-def-videoresizemodeenum" data-title="VideoResizeModeEnum">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-videoresizemodeenum" id="ref-for-dom-videoresizemodeenum-2"><code>VideoResizeModeEnum</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-VideoResizeModeEnum.user" id="ref-for-idl-def-VideoResizeModeEnum.user-2"><code>none</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-VideoResizeModeEnum.right" id="ref-for-idl-def-VideoResizeModeEnum.right-1"><code>crop-and-scale</code></a>"</span>
};</span></pre>
          <table data-link-for="VideoResizeModeEnum" data-dfn-for="VideoResizeModeEnum" class="simple">
            <tbody>
              <tr>
                <th colspan="2"><dfn data-export="" data-dfn-type="enum" id="dom-videoresizemodeenum" data-idl="enum" data-title="VideoResizeModeEnum" data-dfn-for=""><code>VideoResizeModeEnum</code></dfn> Enumeration
                description</th>
              </tr>
              <tr>
                <td><dfn id="idl-def-VideoResizeModeEnum.user" data-export="" data-dfn-type="enum-value" data-idl="enum-value" data-title="none" data-dfn-for="VideoResizeModeEnum"><code>none</code></dfn></td>
                <td>
                  <p>This resolution is offered by the camera, its driver, or
                  the OS.</p>
                  <p class="fingerprint">Note: The UA <em class="rfc2119">MAY</em> report this value to
                  disguise concurrent use, but only when the camera is in use
                  in another browsing context.<img src="images/fingerprint.png" alt="(This is a fingerprinting vector.)" width="15" height="21"></p>
                </td>
              </tr>
              <tr>
                <td><dfn id="idl-def-VideoResizeModeEnum.right" data-export="" data-dfn-type="enum-value" data-idl="enum-value" data-title="crop-and-scale" data-dfn-for="VideoResizeModeEnum"><code>crop-and-scale</code></dfn></td>
                <td>
                  <p>This resolution is downscaled and/or cropped from a higher
                  camera resolution by the User Agent. The media <em class="rfc2119">MUST NOT</em> be
                  upscaled, stretched or have fake data created that did not
                  occur in the input source.</p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <p>The following constrainable properties are defined to apply only to
        audio <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-91"><code><code>MediaStreamTrack</code></code></a> objects:</p>
        <table class="simple">
          <thead>
            <tr>
              <th>Property Name</th>
              <th>Values</th>
              <th>Notes</th>
            </tr>
          </thead>
          <tbody>
            <tr id="def-constraint-sampleRate">
              <td><dfn id="dfn-samplerate">sampleRate</dfn></td>
              <td><a data-link-type="idl" href="#dom-constrainulong" class="internalDFN" id="ref-for-dom-constrainulong-13"><code><code>ConstrainULong</code></code></a></td>
              <td>The sample rate in samples per second for the audio
              data.</td>
            </tr>
            <tr id="def-constraint-sampleSize">
              <td><dfn id="dfn-samplesize">sampleSize</dfn></td>
              <td><a data-link-type="idl" href="#dom-constrainulong" class="internalDFN" id="ref-for-dom-constrainulong-14"><code><code>ConstrainULong</code></code></a></td>
              <td>The linear sample size in bits. This constraint can only be
              satisfied for audio devices that produce linear samples.</td>
            </tr>
            <tr id="def-constraint-echoCancellation">
              <td><dfn id="dfn-echocancellation">echoCancellation</dfn></td>
              <td><a data-link-type="idl" href="#dom-constrainboolean" class="internalDFN" id="ref-for-dom-constrainboolean-7"><code><code>ConstrainBoolean</code></code></a></td>
              <td>When one or more audio streams is being played in the
              processes of various microphones, it is often desirable to
              attempt to remove all the sound being played from the input signals
              recorded by the microphones. This is referred to as echo
              cancellation. There are cases where it is not needed and it is
              desirable to turn it off so that no audio artifacts are
              introduced. This allows applications to control this
              behavior.</td>
            </tr>
            <tr id="def-constraint-autoGainControl">
              <td><dfn id="dfn-autogaincontrol">autoGainControl</dfn></td>
              <td><a data-link-type="idl" href="#dom-constrainboolean" class="internalDFN" id="ref-for-dom-constrainboolean-8"><code><code>ConstrainBoolean</code></code></a></td>
              <td>Automatic gain control is often desirable on the input signal
              recorded by the microphone. There are cases where it is not
              needed and it is desirable to turn it off so that the audio is
              not altered. This allows applications to control this
              behavior.</td>
            </tr>
            <tr id="def-constraint-noiseSuppression">
              <td><dfn id="dfn-noisesuppression">noiseSuppression</dfn></td>
              <td><a data-link-type="idl" href="#dom-constrainboolean" class="internalDFN" id="ref-for-dom-constrainboolean-9"><code><code>ConstrainBoolean</code></code></a></td>
              <td>Noise suppression is often desirable on the input signal
              recorded by the microphone. There are cases where it is not
              needed and it is desirable to turn it off so that the audio is
              not altered. This allows applications to control this
              behavior.</td>
            </tr>
            <tr id="def-constraint-latency">
              <td><dfn id="dfn-latency">latency</dfn></td>
              <td><a data-link-type="idl" href="#dom-constraindouble" class="internalDFN" id="ref-for-dom-constraindouble-9"><code><code>ConstrainDouble</code></code></a></td>
              <td>The latency or latency range, in seconds. The latency is the
              time between start of processing (for instance, when sound occurs
              in the real world) to the data being available to the next step
              in the process. Low latency is critical for some applications;
              high latency may be acceptable for other applications because it
              helps with power constraints. The number is expected to be the
              target latency of the configuration; the actual latency may show
              some variation from that.</td>
            </tr>
            <tr id="def-constraint-channelCount">
              <td><dfn id="dfn-channelcount">channelCount</dfn></td>
              <td><a data-link-type="idl" href="#dom-constrainulong" class="internalDFN" id="ref-for-dom-constrainulong-15"><code><code>ConstrainULong</code></code></a></td>
              <td>The number of independent channels of sound that the audio
              data contains, i.e. the number of audio samples per sample
              frame.</td>
            </tr>
          </tbody>
        </table>
      </section>
    </section>
    <section id="mediastreamtrackevent">
      <h3 id="x4-4-mediastreamtrackevent"><bdi class="secno">4.4 </bdi><a data-link-type="idl" href="#dom-mediastreamtrackevent" class="internalDFN" id="ref-for-dom-mediastreamtrackevent-1"><code><code>MediaStreamTrackEvent</code></code></a><a class="self-link" aria-label="§" href="#mediastreamtrackevent"></a></h3>
      <p>The <a data-link-type="idl" href="#event-mediastream-addtrack" class="internalDFN" id="ref-for-event-mediastream-addtrack-2"><code><code>addtrack</code></code></a>
      and <a data-link-type="idl" href="#event-mediastream-removetrack" class="internalDFN" id="ref-for-event-mediastream-removetrack-2"><code><code>removetrack</code></code></a> events use the
      <a data-link-type="idl" href="#dom-mediastreamtrackevent" class="internalDFN" id="ref-for-dom-mediastreamtrackevent-2"><code><code>MediaStreamTrackEvent</code></code></a> interface.</p>
      <p>The <a data-link-type="idl" href="#event-mediastream-addtrack" class="internalDFN" id="ref-for-event-mediastream-addtrack-3"><code><code>addtrack</code></code></a> and <a data-link-type="idl" href="#event-mediastream-removetrack" class="internalDFN" id="ref-for-event-mediastream-removetrack-3"><code><code>removetrack</code></code></a> events notify
      the script that the <a data-link-type="dfn" href="#track-set" class="internalDFN" id="ref-for-track-set-22">track set</a> of a
      <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-53"><code><code>MediaStream</code></code></a> has been updated by the User Agent.</p>
      <p><dfn data-lt="Fire a track event|Firing a track event named e" id="dfn-fire-a-track-event">Firing a track event named
      <var>e</var></dfn> with a <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-92"><code><code>MediaStreamTrack</code></code></a>
      <var>track</var> means that an event with the name <var>e</var>, which
      does not bubble (except where otherwise stated) and is not cancelable
      (except where otherwise stated), and which uses the
      <a data-link-type="idl" href="#dom-mediastreamtrackevent" class="internalDFN" id="ref-for-dom-mediastreamtrackevent-3"><code><code>MediaStreamTrackEvent</code></code></a> interface with the
      <a data-link-type="idl" href="#dom-mediastreamtrackevent-track" class="internalDFN" id="ref-for-dom-mediastreamtrackevent-track-1"><code><code>track</code></code></a>
      attribute set to <var>track</var>, <em class="rfc2119">MUST</em> be created and dispatched at the
      given target.</p>
      <div>
        <pre class="idl def" id="webidl-1754772952"><span class="idlHeader"><a class="self-link" href="#webidl-1754772952">WebIDL</a></span><span data-idl="" class="idlInterface" id="idl-def-mediastreamtrackevent" data-title="MediaStreamTrackEvent">[<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=<a data-type="interface" href="https://html.spec.whatwg.org/multipage/window-object.html#window">Window</a></span>]
interface <dfn data-export="" data-dfn-type="interface" id="dom-mediastreamtrackevent" data-idl="interface" data-title="MediaStreamTrackEvent" data-dfn-for="MediaStreamTrackEvent" class="idlID"><code>MediaStreamTrackEvent</code></dfn> : <span class="idlSuperclass"><a data-type="interface" href="https://dom.spec.whatwg.org/#event">Event</a></span> {<span data-idl="" class="idlConstructor" id="idl-def-mediastreamtrackevent-constructor-type-eventinitdict" data-title="constructor" data-dfn-for="MediaStreamTrackEvent">
  <a class="internalDFN" data-link-type="constructor" href="#dom-mediastreamtrackevent-constructor" id="ref-for-dom-mediastreamtrackevent-constructor-1"><code>constructor</code></a>(<span class="idlType"><a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a></span> <span class="idlParamName">type</span>,<span class="idlType"> <a href="#dom-mediastreamtrackeventinit" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastreamtrackeventinit-1"><code>MediaStreamTrackEventInit</code></a></span> <span class="idlParamName">eventInitDict</span>);</span><span data-idl="" class="idlAttribute" id="idl-def-mediastreamtrackevent-track" data-title="track" data-dfn-for="MediaStreamTrackEvent">
  [<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject">SameObject</a></span>] readonly attribute<span class="idlType"> <a href="#dom-mediastreamtrack" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastreamtrack-93"><code>MediaStreamTrack</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediastreamtrackevent-track" id="ref-for-dom-mediastreamtrackevent-track-2"><code>track</code></a>;</span>
};</span></pre>
        <section>
          <h4 id="constructors-1">Constructors<a class="self-link" aria-label="§" href="#constructors-1"></a></h4>
          <dl data-link-for="MediaStreamTrackEvent" data-dfn-for="MediaStreamTrackEvent" class="constructors">
            <dt><dfn data-export="" data-dfn-type="constructor" id="dom-mediastreamtrackevent-constructor" data-idl="constructor" data-title="constructor()" data-dfn-for="MediaStreamTrackEvent" data-lt="constructor()|constructor(type, eventInitDict)" data-local-lt="MediaStreamTrackEvent.constructor|MediaStreamTrackEvent.constructor()|constructor"><code>constructor()</code></dfn></dt>
            <dd>
              <p>Constructs a new
              <a data-link-type="idl" href="#dom-mediastreamtrackevent" class="internalDFN" id="ref-for-dom-mediastreamtrackevent-4"><code><code>MediaStreamTrackEvent</code></code></a>.</p>
            </dd>
          </dl>
        </section>
        <section>
          <h4 id="attributes-2">Attributes<a class="self-link" aria-label="§" href="#attributes-2"></a></h4>
          <dl data-link-for="MediaStreamTrackEvent" data-dfn-for="MediaStreamTrackEvent" class="attributes">
            <dt><a data-link-type="idl" href="#dom-mediastreamtrackevent-track" class="internalDFN" id="ref-for-dom-mediastreamtrackevent-track-3"><code><code>track</code></code></a> of type <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-94"><code><code>MediaStreamTrack</code></code></a>, readonly</dt>
            <dd>
              <p>The <dfn id="dom-mediastreamtrackevent-track" data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="track" data-dfn-for="MediaStreamTrackEvent" data-type="MediaStreamTrack" data-lt="track" data-local-lt="MediaStreamTrackEvent.track"><code>track</code></dfn>
              attribute represents the <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-95"><code><code>MediaStreamTrack</code></code></a>
              object associated with the event.</p>
            </dd>
          </dl>
        </section>
      </div>
      <div>
        <pre class="idl def" id="webidl-1488799090"><span class="idlHeader"><a class="self-link" href="#webidl-1488799090">WebIDL</a></span><span data-idl="" class="idlDictionary" id="idl-def-mediastreamtrackeventinit" data-title="MediaStreamTrackEventInit">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-mediastreamtrackeventinit" id="ref-for-dom-mediastreamtrackeventinit-2"><code>MediaStreamTrackEventInit</code></a> : <span class="idlSuperclass"><a data-type="dictionary" href="https://dom.spec.whatwg.org/#dictdef-eventinit">EventInit</a></span> {<span data-idl="" class="idlMember" id="idl-def-mediastreamtrackeventinit-track" data-title="track" data-dfn-for="MediaStreamTrackEventInit">
  required<span class="idlType"> <a href="#dom-mediastreamtrack" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastreamtrack-96"><code>MediaStreamTrack</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediastreamtrackeventinit-track" id="ref-for-dom-mediastreamtrackeventinit-track-1"><code>track</code></a>;</span>
};</span></pre>
        <section>
          <h4 id="dictionary-mediastreamtrackeventinit-members">Dictionary <dfn data-export="" data-dfn-type="dictionary" id="dom-mediastreamtrackeventinit" data-idl="dictionary" data-title="MediaStreamTrackEventInit" data-dfn-for=""><code>MediaStreamTrackEventInit</code></dfn> Members<a class="self-link" aria-label="§" href="#dictionary-mediastreamtrackeventinit-members"></a></h4>
          <dl data-link-for="MediaStreamTrackEventInit" data-dfn-for="MediaStreamTrackEventInit" class="dictionary-members">
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediastreamtrackeventinit-track" data-idl="field" data-title="track" data-dfn-for="MediaStreamTrackEventInit" data-type="MediaStreamTrack"><code>track</code></dfn> of type <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-97"><code><code>MediaStreamTrack</code></code></a>, required</dt>
            <dd></dd>
          </dl>
        </section>
      </div>
    </section>
  </section>
  <section class="informative" id="the-model-sources-sinks-constraints-and-settings">
    <h2 id="x5-the-model-sources-sinks-constraints-and-settings"><bdi class="secno">5. </bdi>The model: sources, sinks, constraints, and settings<a class="self-link" aria-label="§" href="#the-model-sources-sinks-constraints-and-settings"></a></h2><p><em>This section is non-normative.</em></p>
    <p>User Agents provide a media pipeline from sources to sinks. In a User Agent,
    sinks are the &lt;img&gt;, &lt;video&gt;, and &lt;audio&gt; tags.
    Traditional sources include streamed content, files, and web resources. The
    media produced by these sources typically does not change over time - these
    sources can be considered to be static.</p>
    <p>The sinks that display these sources to the user (the actual tags
    themselves) have a variety of controls for manipulating the source content.
    For example, an &lt;img&gt; tag scales down a huge source image of
    1600x1200 pixels to fit in a rectangle defined with
    <code>width="400"</code> and <code>height="300"</code>.</p>
    <p>The getUserMedia API adds dynamic sources such as microphones and
    cameras - the characteristics of these sources can change in response to
    application needs. These sources can be considered to be dynamic in nature.
    A &lt;video&gt; element that displays media from a dynamic source can
    either perform scaling or it can feed back information along the media
    pipeline and have the source produce content more suitable for display.</p>
    <div class="note" role="note" id="issue-container-generatedID-4"><div role="heading" class="note-title marker" id="h-note-4" aria-level="3"><span>Note</span></div><div class="">
      <p><strong>Note:</strong> This sort of feedback loop is obviously just
      enabling an "optimization", but it's a non-trivial gain. This
      optimization can save battery, allow for less network congestion,
      etc...</p>
    </div></div>
    <p>Note that <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-54"><code><code>MediaStream</code></code></a> sinks (such as
    <code>&lt;video&gt;</code>, <code>&lt;audio&gt;</code>, and even
    <a href="https://www.w3.org/TR/webrtc/#dom-rtcpeerconnection">RTCPeerConnection</a>) will continue to have mechanisms to further
    transform the source stream beyond that which the <a href="#dfn-settings" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-settings-3">Settings</a>,
    <a href="#dfn-capabilities" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-capabilities-4">Capabilities</a>, and <a href="#dom-constraints" class="internalDFN" data-link-type="idl" id="ref-for-dom-constraints-2"><code>Constraints</code></a> described in this specification
    offer. (The sink transformation options, including those of
    <a href="https://www.w3.org/TR/webrtc/#dom-rtcpeerconnection">RTCPeerConnection</a>, are outside the scope of this
    specification.)</p>
    <p>The act of changing or applying a track constraint may affect the
    <code><a href="#dfn-settings" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-settings-4">settings</a></code> of all tracks sharing that source and
    consequently all down-level sinks that are using that source. Many sinks
    may be able to take these changes in stride, such as the
    <code>&lt;video&gt;</code> element or <a href="https://www.w3.org/TR/webrtc/#dom-rtcpeerconnection">RTCPeerConnection</a>.
    Others like the Recorder API may fail as a result of a source setting
    change.</p>
    <p>The <a href="https://www.w3.org/TR/webrtc/#dom-rtcpeerconnection">RTCPeerConnection</a> is an interesting object because it
    acts simultaneously as both a sink <strong>and</strong> a source for
    over-the-network streams. As a sink, it has source transformational
    capabilities (e.g., lowering bit-rates, scaling-up / down resolutions, and
    adjusting frame-rates), and as a source it could have its own settings
    changed by a track source.</p>
    <p>To illustrate how changes to a given source impact various sinks,
    consider the following example. This example only uses width and height,
    but the same principles apply to all of the <a href="#dfn-settings" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-settings-5">Settings</a> exposed in this
    specification. In the first figure a home client has obtained a video
    source from its local video camera. The source's width and height settings
    are 800 pixels and 600 pixels, respectively. Three
    <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-55"><code><code>MediaStream</code></code></a> objects on the home client contain tracks
    that use this same &lt;<a data-link-type="idl" href="#dfn-deviceid" class="internalDFN" id="ref-for-dfn-deviceid-2"><code>deviceId</code></a>. The three media streams
    are connected to three different sinks: a <code>&lt;video&gt;</code>
    element (A), another <code>&lt;video&gt;</code> element (B), and a peer
    connection (C). The peer connection is streaming the source video to a
    remote client. On the remote client there are two media streams with tracks
    that use the peer connection as a source. These two media streams are
    connected to two <code>&lt;video&gt;</code> element sinks (Y and
    Z).</p><img alt="Changing media stream source effects: before the requested change" src="images/change_states_before.svg" height="128" width="300">
    <p>Note that at this moment, all of the sinks on the home client must apply
    a transformation to the original source's provided dimension settings. B is
    scaling the video down, A is scaling the video up (resulting in loss of
    quality), and C is also scaling the video up slightly for sending over the
    network. On the remote client, sink Y is scaling the video <em>way</em>
    down, while sink Z is not applying any scaling.</p>
    <p>In response to <a data-link-type="idl" data-lt="applyConstraints()" href="#dom-mediastreamtrack-applyconstraints" class="internalDFN" id="ref-for-dom-mediastreamtrack-applyconstraints-5"><code><code>applyConstraints</code></code></a><code>()</code> being called, one of the
    tracks wants a higher resolution (1920 by 1200 pixels) from the home
    client's video source.</p><img alt="Changing media stream source effects: after the requested change" src="images/change_states_after.svg" height="129" width="300">
    <p>Note that the source change immediately affects all of the tracks and
    sinks on the home client, but does not impact any of the sinks (or sources)
    on the remote client. With the increase in the home client source video's
    dimensions, sink A no longer has to perform any scaling, while sink B must
    scale down even further than before. Sink C (the peer connection) must now
    scale down the video in order to keep the transmission constant to the
    remote client.</p>
    <p>While not shown, an equally valid settings change request could be made
    on the remote client's side. In addition to impacting sink Y and Z in the
    same manner as A, B and C were impacted earlier, it could lead to
    re-negotiation with the peer connection on the home client in order to
    alter the transformation that it is applying to the home client's video
    source. Such a change is <em class="rfc2119">NOT REQUIRED</em> to change anything related to sink A
    or B or the home client's video source.</p>
    <p>Note that this specification does not define a mechanism by which a
    change to the remote client's video source could automatically trigger a
    change to the home client's video source. Implementations may choose to
    make such source-to-sink optimizations as long as they only do so within
    the constraints established by the application, as the next example
    demonstrates.</p>
    <p>It is fairly obvious that changes to a given source will impact sink
    consumers. However, in some situations changes to a given sink may also
    cause implementations to adjust a source's settings. This is illustrated in
    the following figures. In the first figure below, the home client's video
    source is sending a video stream sized at 1920 by 1200 pixels. The video
    source is also unconstrained, such that the exact source dimensions are
    flexible as far as the application is concerned. Two
    <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-56"><code><code>MediaStream</code></code></a> objects contain tracks with the same
    <a data-link-type="idl" href="#dfn-deviceid" class="internalDFN" id="ref-for-dfn-deviceid-3"><code>deviceId</code></a>, and those <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-57"><code><code>MediaStream</code></code></a>s
    are connected to two different <code>&lt;video&gt;</code> element sinks A
    and B. Sink A has been sized to <code>width="1920"</code> and
    <code>height="1200"</code> and is displaying the source's video content
    without any transformations. Sink B has been sized smaller and, as a
    result, is scaling the video down to fit its rectangle of 320 pixels across
    by 200 pixels down.</p><img alt="Changing media stream sinks may affect sources: before the requested change" src="images/change_states_before2.svg" height="99" width="300">
    <p>When the application changes sink A to a smaller dimension (from 1920 to
    1024 pixels wide and from 1200 to 768 pixels tall), the User Agent's media
    pipeline may recognize that none of its sinks require the higher source
    resolution, and needless work is being done both on the part of the source
    and sink A. In such a case and without any other constraints forcing the
    source to continue producing the higher resolution video, the media
    pipeline <em class="rfc2119">MAY</em> change the source resolution:</p><img alt="Changing media stream sinks may affect sources: after the requested change" src="images/change_states_after2.svg" height="278" width="690">
    <p>In the above figure, the home client's video source resolution was
    changed to the greater of that from sink A and B in order to optimize
    playback. While not shown above, the same behavior could apply to peer
    connections and other sinks.</p>
    <p>It is possible that <a href="#dom-constraints" class="internalDFN" data-link-type="idl" id="ref-for-dom-constraints-3">constraints</a> can be applied to a track which a
    source is unable to satisfy, either because the source itself cannot
    satisfy the constraint or because the source is already satisfying a
    conflicting constraint. When this happens, the promise returned from
    <a data-link-type="idl" data-lt="applyConstraints()" href="#dom-mediastreamtrack-applyconstraints" class="internalDFN" id="ref-for-dom-mediastreamtrack-applyconstraints-6"><code><code>applyConstraints</code></code></a><code>()</code>
    will be <a href="#dfn-reject" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-reject-1">rejected</a>, without applying any of the new constraints. Since
    no change in constraints occurs in this case, there is also no required
    change to the source itself as a result of this condition. Here is an
    example of this behavior.</p>
    <p>In this example, two media streams each have a video track that share
    the same source. The first track initially has no constraints applied. It
    is connected to sink N. Sink N has a resolution of 800 by 600 pixels and is
    scaling down the source's resolution of 1024 by 768 to fit. The other track
    has a <a data-lt="required constraints" href="#dfn-required-constraints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-required-constraints-2">required constraint</a> forcing off
    the source's fill light; it is connected to sink P. Sink P has a width and
    height equal to that of the source.</p>
    <p><img alt="Overconstrained application" src="images/overconstrained_apply.svg" height="334" width="650"></p>
    <p>Now, the first track adds a
    <a data-lt="required constraints" href="#dfn-required-constraints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-required-constraints-3">required constraint</a> that the fill light
    should be forced on. At this point, both <a href="#dfn-required-constraints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-required-constraints-4">required constraints</a> cannot be
    satisfied by the source (the fill light cannot be simultaneously on and off
    at the same time). Since this state was caused by the first track's attempt
    to apply a conflicting constraint, the constraint application fails and
    there is no change in the source's settings nor to the constraints on
    either track.</p>
  </section>
  <section id="mediastreams-in-media-elements">
    <h2 id="x6-mediastreams-in-media-elements"><bdi class="secno">6. </bdi>MediaStreams in Media Elements<a class="self-link" aria-label="§" href="#mediastreams-in-media-elements"></a></h2>
    <p>A <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-58"><code><code>MediaStream</code></code></a> may be assigned to media elements. A
    <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-59"><code><code>MediaStream</code></code></a> is not preloadable or seekable and represents a
    simple, potentially infinite, linear
    <a href="https://html.spec.whatwg.org/multipage/#media-timeline">media timeline</a>. The timeline
    starts at 0 and increments linearly in real time as long as the
    media element is <a href="https://html.spec.whatwg.org/multipage/#potentially-playing">
    potentially playing</a>. The timeline does not increment when
    the playout of the <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-60"><code><code>MediaStream</code></code></a> is paused.</p>
    <p>User Agents that support this specification <em class="rfc2119">MUST</em> support the
    <a data-link-type="idl" data-type="attribute" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-srcobject"><code>srcObject</code></a>
    attribute of the <a data-link-type="idl" data-type="interface" href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a> interface defined in
    [<cite><a class="bibref" data-link-type="biblio" href="#bib-html" title="HTML Standard">HTML</a></cite>], which includes support for playing <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-61"><code><code>MediaStream</code></code></a>
    objects.</p>
    <p>The [<cite><a class="bibref" data-link-type="biblio" href="#bib-html" title="HTML Standard">HTML</a></cite>] document outlines how the <code>HTMLMediaElement</code>
    works with a <em>media provider object</em>. The following applies when the
    <em>media provider object</em> is a <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-62"><code><code>MediaStream</code></code></a>:</p>
    <ul>
      <li>
        <p>Whenever an <a data-link-type="idl" data-type="interface" href="https://html.spec.whatwg.org/multipage/media.html#audiotrack"><code>AudioTrack</code></a>
        or a <a data-link-type="idl" data-type="interface" href="https://html.spec.whatwg.org/multipage/media.html#videotrack"><code>VideoTrack</code></a>
        is created, the <code>id</code> and <code>label</code> attributes must
        be initialized to the corresponding attributes of the
        <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-98"><code><code>MediaStreamTrack</code></code></a>, the <code>kind</code> attribute must be
        initialized to <code>"main"</code> and the <code>language</code> attribute to the
        empty string</p>
      </li>
      <li>The User Agent <em class="rfc2119">MUST</em> always play the current data from the
      <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-63"><code><code>MediaStream</code></code></a> and <em class="rfc2119">MUST NOT</em> buffer.</li>
      <li>
        <p>Since the order in the <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-64"><code><code>MediaStream</code></code></a> 's <a data-link-type="dfn" href="#track-set" class="internalDFN" id="ref-for-track-set-23">track set</a> is undefined, no requirements are put on how
        the <a data-link-type="idl" data-type="interface" href="https://html.spec.whatwg.org/multipage/media.html#audiotracklist"><code>AudioTrackList</code></a>
        and <a data-link-type="idl" data-type="interface" href="https://html.spec.whatwg.org/multipage/media.html#videotracklist"><code>VideoTrackList</code></a>
        is ordered</p>
      </li>
      <li>
        <p>If the element is an <a data-link-type="idl" data-type="interface" href="https://html.spec.whatwg.org/multipage/media.html#htmlvideoelement"><code>HTMLVideoElement</code></a>, then it is said
        to have <a href="https://html.spec.whatwg.org/multipage/#ended-playback">ended playback</a> when it
        has <dfn id="dfn-ended-video-playback">ended video playback</dfn>, which is when:</p>
        <ol>
          <li>
            <p>The element's
            <a data-link-type="idl" data-type="attribute" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-readystate"><code>readyState</code></a>
            is <code><a href="https://html.spec.whatwg.org/multipage/#dom-media-have_metadata">HAVE_METADATA</a></code>
            or greater, and</p>
            <ol>
              <li>
                <p>The <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-65"><code><code>MediaStream</code></code></a> state is
                <a data-link-type="dfn" href="#stream-inactive" class="internalDFN" id="ref-for-stream-inactive-1">inactive</a> after having been
                <a data-link-type="dfn" href="#stream-active" class="internalDFN" id="ref-for-stream-active-3">active</a>, or</p>
              </li>
              <li>
                <p>The <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-66"><code><code>MediaStream</code></code></a> state is
                <a data-link-type="dfn" href="#stream-active" class="internalDFN" id="ref-for-stream-active-4">active</a> after having been
                <a data-link-type="dfn" href="#stream-inactive" class="internalDFN" id="ref-for-stream-inactive-2">inactive</a> after having been
                <a data-link-type="dfn" href="#stream-active" class="internalDFN" id="ref-for-stream-active-5">active</a> after
                <a data-link-type="idl" data-lt="play()" data-type="method" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-play"><code>play</code></a><code>()</code> was last called, and
                <a data-link-type="idl" data-type="attribute" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-autoplay"><code>autoplay</code></a> is <code>false</code>.</p>
              </li>
            </ol>
            <div class="note" role="note" id="issue-container-generatedID-5"><div role="heading" class="note-title marker" id="h-note-5" aria-level="3"><span>Note</span></div><div class="">
              <p>Once playback has ended, it won't resume if new
              <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-99"><code><code>MediaStreamTrack</code></code></a>s are added to the
              <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-67"><code><code>MediaStream</code></code></a> unless <a data-link-type="idl" data-type="attribute" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-autoplay"><code>autoplay</code></a> is
              <code>true</code> or the element is restarted, e.g., by the web
              application calling <a href="https://html.spec.whatwg.org/multipage/#dom-media-play">play()</a>.
              </p>
            </div></div>
          </li>
        </ol>
      </li>
      <li>
        <p>If the element is an <a data-link-type="idl" data-type="interface" href="https://html.spec.whatwg.org/multipage/media.html#htmlaudioelement"><code>HTMLAudioElement</code></a>, then it is said
        to have <a href="https://html.spec.whatwg.org/multipage/#ended-playback">ended playback</a> when it
        has <dfn id="dfn-ended-audio-playback">ended audio playback</dfn>, which is when:</p>
        <ol>
          <li>
            <p>The element's
            <a data-link-type="idl" data-type="attribute" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-readystate"><code>readyState</code></a>
            is <code><a href="https://html.spec.whatwg.org/multipage/#dom-media-have_metadata">HAVE_METADATA</a></code>
            or greater, and</p>
            <ol>
              <li>
                <p>The <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-68"><code><code>MediaStream</code></code></a> state is
                <a href="#stream-inaudible" id="ref-for-stream-inaudible-1">inaudible</a> after having been
                <a href="#stream-audible" id="ref-for-stream-audible-1">audible</a>, or</p>
              </li>
              <li>
                <p>The <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-69"><code><code>MediaStream</code></code></a> state is
                <a href="#stream-audible" id="ref-for-stream-audible-2">audible</a> after having been
                <a href="#stream-inaudible" id="ref-for-stream-inaudible-2">inaudible</a> after having been
                <a href="#stream-audible" id="ref-for-stream-audible-3">audible</a> after <a data-link-type="idl" data-lt="play()" data-type="method" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-play"><code>play</code></a><code>()</code> was last called, and
                <a data-link-type="idl" data-type="attribute" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-autoplay"><code>autoplay</code></a> is <code>false</code>.</p>
              </li>
            </ol>
            <div class="note" role="note" id="issue-container-generatedID-6"><div role="heading" class="note-title marker" id="h-note-6" aria-level="3"><span>Note</span></div><div class="">
              <p>Once playback has ended, it won't resume if new audio
              <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-100"><code><code>MediaStreamTrack</code></code></a>s are added to the
              <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-70"><code><code>MediaStream</code></code></a> unless <a data-link-type="idl" data-type="attribute" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-autoplay"><code>autoplay</code></a> is
              <code>true</code> or the element is restarted, e.g., by the web
              application calling <a data-link-type="idl" data-lt="play()" data-type="method" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-play"><code>play</code></a><code>()</code>.
              </p>
            </div></div>
          </li>
        </ol>
      </li>
      <li>
        <p>Any calls to the <a data-link-type="idl" data-lt="fastSeek()" data-type="method" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-fastseek"><code>fastSeek</code></a><code>()</code> method on a <a data-link-type="idl" data-type="interface" href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a> must be
        ignored</p>
      </li>
    </ul>
    <p>The nature of the <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-71"><code><code>MediaStream</code></code></a> places certain
    restrictions on the behavior of attributes of the associated
    <a data-link-type="idl" data-type="interface" href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a> and on the operations that can be performed
    on it, as shown below:</p>
    <table class="simple">
      <thead>
        <tr>
          <th scope="col">Attribute Name</th>
          <th scope="col">Attribute Type</th>
          <th scope="col">Setter/Getter Behavior When Provider is a MediaStream</th>
          <th scope="col">Additional considerations</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <a data-link-type="idl" data-type="attribute" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-preload"><code>preload</code></a>
          </td>
          <td><a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><code>DOMString</code></a></td>
          <td>On getting: <code>none</code>. On setting: ignored.</td>
          <td>A <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-72"><code><code>MediaStream</code></code></a> cannot be preloaded.</td>
        </tr>
        <tr>
          <td>
            <a data-link-type="idl" data-type="attribute" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-buffered"><code>buffered</code></a>
          </td>
          <td>
            <a data-link-type="idl" data-type="interface" href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>
          </td>
          <td><code>buffered.length</code> <em class="rfc2119">MUST</em> return <code>0</code>.</td>
          <td>A <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-73"><code><code>MediaStream</code></code></a> cannot be preloaded. Therefore, the amount buffered
          is always an empty time range.</td>
        </tr>
        <tr>
          <td>
            <a data-link-type="idl" data-type="attribute" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-currenttime"><code>currentTime</code></a>
          </td>
          <td><a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-double"><code>double</code></a></td>
          <td>Any non-negative integer. The initial value is <code>0</code> and
          the values increments linearly in real time whenever the stream is
          playing.</td>
          <td>
            The value is the <a class="externalDFN" href="https://html.spec.whatwg.org/multipage/#official-playback-position">
            official playback position</a>, in seconds. Any attempt to alter it
            <em class="rfc2119">MUST</em> be ignored.
          </td>
        </tr>
        <tr>
          <td>
            <a data-link-type="idl" data-type="attribute" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-seeking"><code>seeking</code></a>
          </td>
          <td><a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a></td>
          <td><code>false</code></td>
          <td>A <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-74"><code><code>MediaStream</code></code></a> is not seekable. Therefore, this attribute <em class="rfc2119">MUST</em>
          always return the value <code>false</code>.</td>
        </tr>
        <tr>
          <td>
            <a data-link-type="idl" data-type="attribute" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-defaultplaybackrate"><code>defaultPlaybackRate</code></a>
          </td>
          <td><a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-double"><code>double</code></a></td>
          <td>On getting: <code>1.0</code>. On setting: ignored.</td>
          <td>A <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-75"><code><code>MediaStream</code></code></a> is not seekable. Therefore, this attribute <em class="rfc2119">MUST</em>
          always return the value <code>1.0</code> and any attempt to alter it
          <em class="rfc2119">MUST</em> be ignored. Note that this also means that the
          <code><a href="https://html.spec.whatwg.org/multipage/#event-media-ratechange">ratechange</a></code>
          event will not fire.</td>
        </tr>
        <tr>
          <td>
            <a data-link-type="idl" data-type="attribute" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-playbackrate"><code>playbackRate</code></a>
          </td>
          <td><a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-double"><code>double</code></a></td>
          <td>On getting: <code>1.0</code>. On setting: ignored.</td>
          <td>A <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-76"><code><code>MediaStream</code></code></a> is not seekable. Therefore, this attribute <em class="rfc2119">MUST</em>
          always return the value <code>1.0</code> and any attempt to alter it
          <em class="rfc2119">MUST</em> be ignored. Note that this also means that the
          <code><a href="https://html.spec.whatwg.org/multipage/#event-media-ratechange">ratechange</a></code>
          event will not fire.</td>
        </tr>
        <tr>
          <td>
            <a data-link-type="idl" data-type="attribute" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-played"><code>played</code></a>
          </td>
          <td>
            <a data-link-type="idl" data-type="interface" href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>
          </td>
          <td>
            <code>played.length</code> <em class="rfc2119">MUST</em> return <code>1</code>.<br>
            <code>played.start(0)</code> <em class="rfc2119">MUST</em> return <code>0</code>.<br>
            <code>played.end(0)</code> <em class="rfc2119">MUST</em> return the last known <a data-link-type="idl" data-type="attribute" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-currenttime"><code>currentTime</code></a>.
          </td>
          <td>A <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-77"><code><code>MediaStream</code></code></a>'s timeline always consists of a
          single range, starting at 0 and extending up to the currentTime.</td>
        </tr>
        <tr>
          <td>
            <a data-link-type="idl" data-type="attribute" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-seekable"><code>seekable</code></a>
          </td>
          <td>
            <a data-link-type="idl" data-type="interface" href="https://html.spec.whatwg.org/multipage/media.html#timeranges"><code>TimeRanges</code></a>
          </td>
          <td><code>seekable.length</code> <em class="rfc2119">MUST</em> return <code>0</code>.</td>
          <td>A <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-78"><code><code>MediaStream</code></code></a> is not seekable.</td>
        </tr>
        <tr>
          <td>
            <a data-link-type="idl" data-type="attribute" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-loop"><code>loop</code></a>
          </td>
          <td><a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a></td>
          <td><code>true</code>, <code>false</code></td>
          <td>Setting the <a data-link-type="idl" data-type="attribute" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-loop"><code>loop</code></a> attribute has no effect since a
          <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-79"><code><code>MediaStream</code></code></a> has no defined end and therefore
          cannot be looped.</td>
        </tr>
      </tbody>
    </table>
    <p>Since none of the setters listed above alter internal state of the
    <a data-link-type="idl" data-type="interface" href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a>, once a <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-80"><code><code>MediaStream</code></code></a> is no longer
    the element's <a href="https://html.spec.whatwg.org/multipage/#assigned-media-provider-object">assigned media provider object</a>, the attributes listed will appear to
    resume the values they had before a stream was assigned to the element.</p>
    <div class="note" role="note" id="issue-container-generatedID-7"><div role="heading" class="note-title marker" id="h-note-7" aria-level="3"><span>Note</span></div><div class="">
      <p>A <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-81"><code><code>MediaStream</code></code></a> stops being the element's <a href="https://html.spec.whatwg.org/multipage/#assigned-media-provider-object">assigned media provider object</a> when <a data-link-type="idl" data-type="attribute" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-srcobject"><code>srcObject</code></a> is assigned <code>null</code> or a non-stream object,
      just ahead of the <a href="https://html.spec.whatwg.org/multipage/#media-element-load-algorithm">media element load algorithm</a>. As a result, the <code><a href="https://html.spec.whatwg.org/multipage/#event-media-ratechange">ratechange</a></code>
      event may fire (from step 7) if <a data-link-type="idl" data-type="attribute" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-playbackrate"><code>playbackRate</code></a>
      and <a data-link-type="idl" data-type="attribute" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-defaultplaybackrate"><code>defaultPlaybackRate</code></a> were different from before a
      <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-82"><code><code>MediaStream</code></code></a> was assigned.</p>
    </div></div>
  </section>
  <section id="error-handling">
    <h2 id="x7-error-handling"><bdi class="secno">7. </bdi>Error Handling<a class="self-link" aria-label="§" href="#error-handling"></a></h2>
    <p>Some operations throw or fire <code>OverconstrainedError</code>. This is
    an extension of <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMException"><code>DOMException</code></a> that carries additional
    information related to constraints failure.</p>
    <section id="overconstrainederror-interface">
      <h3 id="x7-1-overconstrainederror-interface"><bdi class="secno">7.1 </bdi>OverconstrainedError Interface<a class="self-link" aria-label="§" href="#overconstrainederror-interface"></a></h3>
      <div>
        <pre class="idl def" data-tests="" id="webidl-425844780"><span class="idlHeader"><a class="self-link" href="#webidl-425844780">WebIDL</a></span><span data-idl="" class="idlInterface" id="idl-def-overconstrainederror" data-title="OverconstrainedError">[<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=<a data-type="interface" href="https://html.spec.whatwg.org/multipage/window-object.html#window">Window</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-overconstrainederror" id="ref-for-dom-overconstrainederror-1"><code>OverconstrainedError</code></a> : <span class="idlSuperclass"><a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMException">DOMException</a></span> {<span data-idl="" class="idlConstructor" id="idl-def-overconstrainederror-constructor-constraint-message" data-title="constructor" data-dfn-for="OverconstrainedError">
  <dfn data-export="" data-dfn-type="constructor" id="dom-overconstrainederror-constructor" data-idl="constructor" data-title="constructor" data-dfn-for="OverconstrainedError" data-lt="constructor()|constructor(constraint)|constructor(constraint, message)" data-local-lt="OverconstrainedError.constructor|OverconstrainedError.constructor()|constructor"><code>constructor</code></dfn>(<span class="idlType"><a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a></span> <span class="idlParamName">constraint</span>, optional<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a></span> <span class="idlParamName">message</span> = "");</span><span data-idl="" class="idlAttribute" id="idl-def-overconstrainederror-constraint" data-title="constraint" data-dfn-for="OverconstrainedError">
  readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-overconstrainederror-constraint" id="ref-for-dom-overconstrainederror-constraint-1"><code>constraint</code></a>;</span>
};</span></pre>
      </div>
      <section id="constructors">
        <h4 id="x7-1-1-constructors"><bdi class="secno">7.1.1 </bdi>Constructors<a class="self-link" aria-label="§" href="#constructors"></a></h4>
        <dl data-link-for="OverconstrainedError" data-dfn-for="OverconstrainedError" class="constructors">
          <dt><dfn data-idl="interface" data-export="" data-dfn-type="interface" id="dom-overconstrainederror" data-title="OverconstrainedError" data-dfn-for=""><code>OverconstrainedError</code></dfn></dt>
          <dd>
            <p>Run the following steps:</p>
            <ol>
              <li>
                <p>Let <var>constraint</var> be the constructor's first
                argument.</p>
              </li>
              <li>
                <p>Let <var>message</var> be the constructor's second argument.
                </p>
              </li>
              <li>
                <p>Let <var>e</var> be a new
                <a data-link-type="idl" href="#dom-overconstrainederror" class="internalDFN" id="ref-for-dom-overconstrainederror-2"><code><code>OverconstrainedError</code></code></a> object.</p>
              </li>
              <li>
                <p>Invoke the <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMException"><code>DOMException</code></a> constructor of
                <var>e</var> with the <code>message</code> argument set to
                <var>message</var> and the <code>name</code> argument set to
                <code>"OverconstrainedError"</code>.</p>
                <div class="note" role="note" id="issue-container-generatedID-8"><div role="heading" class="note-title marker" id="h-note-8" aria-level="5"><span>Note</span></div><p class="">This name does not have a mapping to a legacy
                code so <var>e</var>'s <code>code</code> attribute will return
                0.</p></div>
              </li>
              <li>
                <p>Set <var>e.constraint</var> to <var>constraint</var>.</p>
              </li>
              <li>
                <p>Return <var>e</var>.</p>
              </li>
            </ol>
          </dd>
        </dl>
      </section>
      <section id="attributes">
        <h4 id="x7-1-2-attributes"><bdi class="secno">7.1.2 </bdi>Attributes<a class="self-link" aria-label="§" href="#attributes"></a></h4>
        <dl data-link-for="OverconstrainedError" data-dfn-for="OverconstrainedError" class="attributes">
          <dt><dfn data-idl="attribute" data-export="" data-dfn-type="attribute" id="dom-overconstrainederror-constraint" data-title="constraint" data-dfn-for="OverconstrainedError" data-type="DOMString" data-lt="constraint" data-local-lt="OverconstrainedError.constraint"><code>constraint</code></dfn> of type <span class="idlAttrType"><a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><code>DOMString</code></a></span>, readonly</dt>
          <dd>
            <p>The name of a constraint associated with this error, or
            <code>""</code> if no specific constraint name is revealed.</p>
          </dd>
        </dl>
      </section>
    </section>
  </section>
  <section class="informative" id="event-summary">
    <h2 id="x8-event-summary"><bdi class="secno">8. </bdi>Event summary<a class="self-link" aria-label="§" href="#event-summary"></a></h2><p><em>This section is non-normative.</em></p>
    <p>The following events fire on <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-83"><code><code>MediaStream</code></code></a>
    objects:</p>
    <table>
      <tbody>
        <tr>
          <th>Event name</th>
          <th>Interface</th>
          <th>Fired when...</th>
        </tr>
      </tbody>
      <tbody>
        <tr>
          <td><dfn id="event-mediastream-addtrack"><code class="event">addtrack</code></dfn></td>
          <td><a data-link-type="idl" href="#dom-mediastreamtrackevent" class="internalDFN" id="ref-for-dom-mediastreamtrackevent-5"><code><code>MediaStreamTrackEvent</code></code></a></td>
          <td>A new <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-101"><code><code>MediaStreamTrack</code></code></a> has been added to this
          stream. Note that this event is not fired when the script directly
          modifies the tracks of a <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-84"><code><code>MediaStream</code></code></a>.</td>
        </tr>
        <tr>
          <td><dfn id="event-mediastream-removetrack"><code class="event">removetrack</code></dfn></td>
          <td><a data-link-type="idl" href="#dom-mediastreamtrackevent" class="internalDFN" id="ref-for-dom-mediastreamtrackevent-6"><code><code>MediaStreamTrackEvent</code></code></a></td>
          <td>A <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-102"><code><code>MediaStreamTrack</code></code></a> has been removed from this
          stream. Note that this event is not fired when the script directly
          modifies the tracks of a <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-85"><code><code>MediaStream</code></code></a>.</td>
        </tr>
      </tbody>
    </table>
    <p>The following events fire on <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-103"><code><code>MediaStreamTrack</code></code></a>
    objects:</p>
    <table>
      <tbody>
        <tr>
          <th>Event name</th>
          <th>Interface</th>
          <th>Fired when...</th>
        </tr>
      </tbody>
      <tbody>
        <tr>
          <td><dfn id="event-mediastreamtrack-mute"><code class="event">mute</code></dfn></td>
          <td><a data-link-type="idl" data-type="interface" href="https://dom.spec.whatwg.org/#event"><code>Event</code></a></td>
          <td>The <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-104"><code><code>MediaStreamTrack</code></code></a> object's source is
          temporarily unable to provide data.</td>
        </tr>
        <tr>
          <td><dfn id="event-mediastreamtrack-unmute"><code class="event">unmute</code></dfn></td>
          <td><a data-link-type="idl" data-type="interface" href="https://dom.spec.whatwg.org/#event"><code>Event</code></a></td>
          <td>The <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-105"><code><code>MediaStreamTrack</code></code></a> object's source is live
          again after having been temporarily unable to provide data.</td>
        </tr>
        <tr>
          <td><code class="event" id="event-mediastreamtrack-ended">ended</code></td>
          <td><a data-link-type="idl" data-type="interface" href="https://dom.spec.whatwg.org/#event"><code>Event</code></a></td>
          <td>
            <p>The <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-106"><code><code>MediaStreamTrack</code></code></a> object's source will no
            longer provide any data, either because the user revoked the
            permissions, or because the source device has been ejected, or
            because the remote peer permanently stopped sending data.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p>The following events fire on <a data-link-type="idl" href="#dom-mediadevices" class="internalDFN" id="ref-for-dom-mediadevices-1"><code><code>MediaDevices</code></code></a>
    objects:</p>
    <table>
      <tbody>
        <tr>
          <th>Event name</th>
          <th>Interface</th>
          <th>Fired when...</th>
        </tr>
      </tbody>
      <tbody>
        <tr>
          <td><dfn id="event-mediadevices-devicechange"><code class="event">devicechange</code></dfn></td>
          <td><a data-link-type="idl" data-type="interface" href="https://dom.spec.whatwg.org/#event"><code>Event</code></a></td>
          <td>The set of media devices, available to the User Agent, has
          changed. The current list devices can be retrieved with the
          <a data-link-type="idl" data-lt="enumerateDevices()" href="#dom-mediadevices-enumeratedevices" class="internalDFN" id="ref-for-dom-mediadevices-enumeratedevices-1"><code><code>enumerateDevices</code></code></a><code>()</code>
          method.</td>
        </tr>
      </tbody>
    </table>
  </section>
  <section id="enumerating-devices">
    <h2 id="x9-enumerating-local-media-devices"><bdi class="secno">9. </bdi>Enumerating Local Media Devices<a class="self-link" aria-label="§" href="#enumerating-devices"></a></h2>
    <p>This section describes an API that the script can use to query the User
    Agent about connected media input and output devices (for example a web
    camera or a headset).</p>
    <section id="navigator-interface-extensions">
      <h3 id="x9-1-navigator-interface-extensions"><bdi class="secno">9.1 </bdi><dfn id="dom-navigator" data-idl="interface" data-title="Navigator" data-dfn-for=""><code>Navigator</code></dfn> Interface Extensions<a class="self-link" aria-label="§" href="#navigator-interface-extensions"></a></h3>
      <div>
        <pre class="idl def" id="webidl-1483683772"><span class="idlHeader"><a class="self-link" href="#webidl-1483683772">WebIDL</a></span><span data-idl="" class="idlInterface" id="idl-def-navigator-partial-1" data-title="Navigator">partial interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-navigator" id="ref-for-dom-navigator-1"><code>Navigator</code></a> {<span data-idl="" class="idlAttribute" id="idl-def-navigator-mediadevices" data-title="mediaDevices" data-dfn-for="Navigator">
  [<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject">SameObject</a></span>, <span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext">SecureContext</a></span>] readonly attribute<span class="idlType"> <a href="#dom-mediadevices" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediadevices-2"><code>MediaDevices</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-navigator-mediadevices" id="ref-for-dom-navigator-mediadevices-1"><code>mediaDevices</code></a>;</span>
};</span></pre>
        <section>
          <h4 id="attributes-3">Attributes<a class="self-link" aria-label="§" href="#attributes-3"></a></h4>
          <dl data-link-for="Navigator" data-dfn-for="Navigator" class="attributes">
            <dt><dfn data-export="" data-dfn-type="attribute" id="dom-navigator-mediadevices" data-idl="attribute" data-title="mediaDevices" data-dfn-for="Navigator" data-type="MediaDevices" data-lt="mediaDevices" data-local-lt="Navigator.mediaDevices"><code>mediaDevices</code></dfn> of type <a data-link-type="idl" href="#dom-navigator-mediadevices" class="internalDFN" id="ref-for-dom-navigator-mediadevices-2"><code><code>MediaDevices</code></code></a>, readonly</dt>
            <dd>
              <p>Returns the <a data-link-type="idl" href="#dom-navigator-mediadevices" class="internalDFN" id="ref-for-dom-navigator-mediadevices-3"><code><code>MediaDevices</code></code></a> object associated with
              this <a data-link-type="idl" href="#dom-navigator" class="internalDFN" id="ref-for-dom-navigator-2"><code><code>Navigator</code></code></a> object.</p>
            </dd>
          </dl>
        </section>
      </div>
    </section>
    <section id="mediadevices">
      <h3 id="x9-2-mediadevices"><bdi class="secno">9.2 </bdi><a data-link-type="idl" href="#dom-mediadevices" class="internalDFN" id="ref-for-dom-mediadevices-3"><code><code>MediaDevices</code></code></a><a class="self-link" aria-label="§" href="#mediadevices"></a></h3>
      <p>The <dfn data-export="" data-dfn-type="interface" id="dom-mediadevices" data-idl="interface" data-title="MediaDevices" data-dfn-for=""><code>MediaDevices</code></dfn> object is the entry point
      to the API used to examine and get access to media devices available to
      the User Agent.</p>
      <p>On page load, run the following steps:</p>
      <ol>
        <li>
          <p>On the <a href="https://html.spec.whatwg.org/multipage/#concept-relevant-global">relevant global
          object</a>, run the following steps:</p>
          <ol>
            <li>
              <p>Create three internal slots: <dfn data-dfn-type="idl" id="dfn-deviceslivemap">[[devicesLiveMap]]</dfn>,
              <dfn data-dfn-type="idl" id="dfn-devicesaccessiblemap">[[devicesAccessibleMap]]</dfn>, and <dfn data-dfn-type="idl" id="dfn-kindsaccessiblemap">[[kindsAccessibleMap]]</dfn>, each
              initialized to a different empty object.</p>
            </li>
            <li>
              <p>Create one internal slot: <dfn data-dfn-type="idl" id="dfn-storeddevicelist">[[storedDeviceList]]</dfn>, initialized
              to <code>null</code>.</p>
            </li>
            <li>
              <p>Create one internal slot: <dfn data-dfn-type="idl" id="dfn-canexposedeviceinfo">[[canExposeDeviceInfo]]</dfn>, initialized
              to <code>false</code>.</p>
            </li>
          </ol>
        </li>
        <li>
          <p>For each kind of device, <var>kind</var>, that <a href="#dom-mediadevices-getusermedia" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediadevices-getusermedia-12"><code>getUserMedia()</code></a> exposes, set
          <a href="#dfn-kindsaccessiblemap" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-kindsaccessiblemap-1">[[kindsAccessibleMap]]</a><var>[kind]</var> either to <code>true</code>
          if the result of <a data-lt="reading current permission state" data-link-type="dfn" href="https://www.w3.org/TR/permissions/#reading-current-states">reading the permission state</a>
          of the permission associated with <var>kind</var> (e.g. "<a data-link-type="idl" data-type="enum-value" href="https://www.w3.org/TR/permissions/#dom-permissionname-camera"><code>camera</code></a>",
          "<a data-link-type="idl" data-type="enum-value" href="https://www.w3.org/TR/permissions/#dom-permissionname-microphone"><code>microphone</code></a>"), is "<a data-link-type="idl" data-type="enum-value" href="https://www.w3.org/TR/permissions/#dom-permissionstate-granted"><code>granted</code></a>", or to <code>false</code> otherwise.</p>
        </li>
        <li>
          <p>For each individual device that <a href="#dom-mediadevices-getusermedia" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediadevices-getusermedia-13"><code>getUserMedia()</code></a> exposes, using the device's
          deviceId, <var>deviceId</var>, set
          <a href="#dfn-deviceslivemap" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-deviceslivemap-3">[[devicesLiveMap]]</a><var>[deviceId]</var> to <code>false</code>, and
          set <a href="#dfn-devicesaccessiblemap" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-devicesaccessiblemap-2">[[devicesAccessibleMap]]</a><var>[deviceId]</var> either to
          <code>true</code> if the result of <a data-lt="reading current permission state" data-link-type="dfn" href="https://www.w3.org/TR/permissions/#reading-current-states">reading the permission state</a>
          of the permission associated with the device’s kind and
          <var>deviceId</var>, is "<a data-link-type="idl" data-type="enum-value" href="https://www.w3.org/TR/permissions/#dom-permissionstate-granted"><code>granted</code></a>", or to false otherwise.</p>
        </li>
      </ol>
      <p>For each kind of device, <var>kind</var>, that <a data-link-type="idl" data-lt="getUserMedia()" href="#dom-mediadevices-getusermedia" class="internalDFN" id="ref-for-dom-mediadevices-getusermedia-14"><code><code>getUserMedia</code></code></a><code>()</code> exposes, <a data-lt="reading current permission state" data-link-type="dfn" href="https://www.w3.org/TR/permissions/#reading-current-states">whenever a transition occurs of the
      permission state</a> of the permission associated with <var>kind</var>,
      run the following steps:</p>
      <ol>
        <li>
          <p>If the transition is to "<a data-link-type="idl" data-type="enum-value" href="https://www.w3.org/TR/permissions/#dom-permissionstate-granted"><code>granted</code></a>" from another value, then set
          <a href="#dfn-kindsaccessiblemap" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-kindsaccessiblemap-2">[[kindsAccessibleMap]]</a><var>[kind]</var> to <code>true</code>.</p>
        </li>
        <li>
          <p>If the transition is from "<a data-link-type="idl" data-type="enum-value" href="https://www.w3.org/TR/permissions/#dom-permissionstate-granted"><code>granted</code></a>" to another value, then set
          <a href="#dfn-kindsaccessiblemap" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-kindsaccessiblemap-3">[[kindsAccessibleMap]]</a><var>[kind]</var> to <code>false</code>.</p>
        </li>
      </ol>
      <p>For each device that <a data-link-type="idl" data-lt="getUserMedia()" href="#dom-mediadevices-getusermedia" class="internalDFN" id="ref-for-dom-mediadevices-getusermedia-15"><code><code>getUserMedia</code></code></a><code>()</code> exposes, <a data-lt="reading current permission state" data-link-type="dfn" href="https://www.w3.org/TR/permissions/#reading-current-states">whenever a transition occurs of the
      permission state</a> of the permission associated with the device's kind
      and the device's deviceId, <var>deviceId</var>, run the following
      steps:</p>
      <ol>
        <li>
          <p>If the transition is to "<a data-link-type="idl" data-type="enum-value" href="https://www.w3.org/TR/permissions/#dom-permissionstate-granted"><code>granted</code></a>" from another value, then set
          <a href="#dfn-devicesaccessiblemap" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-devicesaccessiblemap-3">[[devicesAccessibleMap]]</a><var>[deviceId]</var> to <code>true</code>,
          if it isn’t already <code>true</code>.</p>
        </li>
        <li>
          <p>If the transition is from "<a data-link-type="idl" data-type="enum-value" href="https://www.w3.org/TR/permissions/#dom-permissionstate-granted"><code>granted</code></a>" to another value, and the
          device is currently <a href="#source-stopped" class="internalDFN" data-link-type="dfn" id="ref-for-source-stopped-4">stopped</a>, then set
          <a href="#dfn-devicesaccessiblemap" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-devicesaccessiblemap-4">[[devicesAccessibleMap]]</a><var>[deviceId]</var> to
          <code>false</code>.</p>
        </li>
      </ol>
      <p>When new media input and/or output devices of a <a data-link-type="idl" href="#dom-mediadevicekind" class="internalDFN" id="ref-for-dom-mediadevicekind-1"><code><code>MediaDeviceKind</code></code></a> are
      made available where zero devices of that <a data-link-type="idl" href="#dom-mediadevicekind" class="internalDFN" id="ref-for-dom-mediadevicekind-2"><code><code>MediaDeviceKind</code></code></a> were
      available before, or the lone input and/or output device of a
      <a data-link-type="idl" href="#dom-mediadevicekind" class="internalDFN" id="ref-for-dom-mediadevicekind-3"><code><code>MediaDeviceKind</code></code></a> becomes unavailable, the User Agent <em class="rfc2119">MUST</em> run the
      following <dfn id="dfn-device-change-notification-steps">device change notification steps</dfn> in browsing contexts
      for which <a href="#device-enumeration-can-proceed" class="internalDFN" data-link-type="dfn" id="ref-for-device-enumeration-can-proceed-1">device enumeration can proceed</a> is <code>true</code> and
      <a href="#device-information-can-be-exposed" class="internalDFN" data-link-type="dfn" id="ref-for-device-information-can-be-exposed-1">device information can be exposed</a> is <code>false</code>, but in no
      other contexts:</p>
      <ol>
        <li>
          <p>If <a href="#dfn-storeddevicelist" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-storeddevicelist-1">[[storedDeviceList]]</a> already lists the exact same set of
          devices in the same order as the list of devices that would be
          generated by a call to <a data-link-type="idl" href="#dom-mediadevices-enumeratedevices" class="internalDFN" id="ref-for-dom-mediadevices-enumeratedevices-2"><code><code>enumerateDevices</code></code></a> now, then
          abort these steps.</p>
          <div class="note" role="note" id="issue-container-generatedID-9"><div role="heading" class="note-title marker" id="h-note-9" aria-level="4"><span>Note</span></div><div class="">
            <p>Due to the <a data-link-type="idl" href="#dom-mediadevices-enumeratedevices" class="internalDFN" id="ref-for-dom-mediadevices-enumeratedevices-3"><code><code>enumerateDevices</code></code></a> algorithm, the
            above step limits firing the <a href="#event-mediadevices-devicechange" class="internalDFN" data-link-type="dfn" id="ref-for-event-mediadevices-devicechange-1"><code>devicechange</code></a> event to documents
            <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">allowed to use</a> <a data-link-type="idl" href="#dom-mediadevices-enumeratedevices" class="internalDFN" id="ref-for-dom-mediadevices-enumeratedevices-4"><code><code>enumerateDevices</code></code></a> to enumerate
            devices of a particular <a data-link-type="idl" href="#dom-mediadevicekind" class="internalDFN" id="ref-for-dom-mediadevicekind-4"><code><code>MediaDeviceKind</code></code></a>.</p>
          </div></div>
        </li>
        <li>
          <p>Set <a href="#dfn-storeddevicelist" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-storeddevicelist-2">[[storedDeviceList]]</a> to <code>null</code>.</p>
        </li>
        <li>
          <p>Queue a task that fires a simple event named <a href="#event-mediadevices-devicechange" class="internalDFN" data-link-type="dfn" id="ref-for-event-mediadevices-devicechange-2"><code>devicechange</code></a> at the
          <a data-link-type="idl" href="#dom-mediadevices" class="internalDFN" id="ref-for-dom-mediadevices-4"><code><code>MediaDevices</code></code></a> object.</p>
          <p>The User Agent <em class="rfc2119">MAY</em> combine firing multiple events into firing one
          event when several events are due or when multiple devices are added
          or removed at the same time, e.g. a camera with a microphone.</p>
        </li>
      </ol>
      <p>Additionally, when new media input and/or output devices are made
      available, or any available input and/or output device becomes unavailable,
      or the system default for camera or microphone changed, the User Agent <em class="rfc2119">MUST</em>
      run the <a href="#dfn-device-change-notification-steps" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-device-change-notification-steps-1">device change notification steps</a> in browsing contexts for
      which <a href="#device-enumeration-can-proceed" class="internalDFN" data-link-type="dfn" id="ref-for-device-enumeration-can-proceed-2">device enumeration can proceed</a> is <code>true</code> and
      <a href="#device-information-can-be-exposed" class="internalDFN" data-link-type="dfn" id="ref-for-device-information-can-be-exposed-2">device information can be exposed</a> is <code>true</code>, but in no
      other contexts.</p>
      <p>In both cases above, if a browsing context that was traversed comes
      to meet the <a href="#device-enumeration-can-proceed" class="internalDFN" data-link-type="dfn" id="ref-for-device-enumeration-can-proceed-3">device enumeration can proceed</a> criteria later (e.g.
      <a href="https://html.spec.whatwg.org/multipage/#gains-focus">gains focus</a>), the User Agent <em class="rfc2119">MUST</em>
      execute the <a href="#dfn-device-change-notification-steps" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-device-change-notification-steps-2">device change notification steps</a> on the browsing
      context at that time.</p>
      <div class="note" role="note" id="issue-container-generatedID-10"><div role="heading" class="note-title marker" id="h-note-10" aria-level="4"><span>Note</span></div><div class="">
        <p class="fingerprint">These events are potentially triggered
        simultaneously on documents of different origins. User Agents <em class="rfc2119">MAY</em> add
        fuzzing on the timing of events to avoid cross-origin activity
        correlation.<img src="images/fingerprint.png" alt="(This is a fingerprinting vector.)" width="15" height="21"></p>
      </div></div>
      <div>
        <pre class="idl def" id="webidl-2019836602"><span class="idlHeader"><a class="self-link" href="#webidl-2019836602">WebIDL</a></span><span data-idl="" class="idlInterface" id="idl-def-mediadevices" data-title="MediaDevices">[<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=<a data-type="interface" href="https://html.spec.whatwg.org/multipage/window-object.html#window">Window</a></span>, <span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext">SecureContext</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-mediadevices" id="ref-for-dom-mediadevices-5"><code>MediaDevices</code></a> : <span class="idlSuperclass"><a data-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> {<span data-idl="" class="idlAttribute" id="idl-def-mediadevices-ondevicechange" data-title="ondevicechange" data-dfn-for="MediaDevices">
  attribute<span class="idlType"> <a data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediadevices-ondevicechange" id="ref-for-dom-mediadevices-ondevicechange-1"><code>ondevicechange</code></a>;</span><span data-idl="" class="idlMethod" id="idl-def-mediadevices-enumeratedevices" data-title="enumerateDevices" data-dfn-for="MediaDevices"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-promise">Promise</a>&lt;<a data-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence">sequence</a>&lt;<a href="#dom-mediadeviceinfo" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediadeviceinfo-3"><code>MediaDeviceInfo</code></a>&gt;&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediadevices-enumeratedevices" id="ref-for-dom-mediadevices-enumeratedevices-5"><code>enumerateDevices</code></a>();</span>
};</span></pre>
        <section>
          <h4 id="attributes-4">Attributes<a class="self-link" aria-label="§" href="#attributes-4"></a></h4>
          <dl data-link-for="MediaDevices" data-dfn-for="MediaDevices" class="attributes">
            <dt><dfn data-export="" data-dfn-type="attribute" id="dom-mediadevices-ondevicechange" data-idl="attribute" data-title="ondevicechange" data-dfn-for="MediaDevices" data-type="EventHandler" data-lt="ondevicechange" data-local-lt="MediaDevices.ondevicechange"><code>ondevicechange</code></dfn> of type <a data-link-type="idl" data-type="typedef" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><code>EventHandler</code></a></dt>
            <dd>
              <p>The event type of this event handler is <a href="#event-mediadevices-devicechange" class="internalDFN" data-link-type="dfn" id="ref-for-event-mediadevices-devicechange-3"><code>devicechange</code></a>.</p>
            </dd>
          </dl>
        </section>
        <section>
          <h4 id="methods-1">Methods<a class="self-link" aria-label="§" href="#methods-1"></a></h4>
          <dl data-link-for="MediaDevices" data-dfn-for="MediaDevices" class="methods">
            <dt><dfn data-export="" data-dfn-type="method" id="dom-mediadevices-enumeratedevices" data-idl="operation" data-title="enumerateDevices" data-dfn-for="MediaDevices" data-type="Promise" data-lt="enumerateDevices()" data-local-lt="MediaDevices.enumerateDevices|MediaDevices.enumerateDevices()|enumerateDevices"><code>enumerateDevices</code></dfn></dt>
            <dd>
              <p>Collects information about the User Agent's available media
              input and output devices.</p>
              <p>This method returns a promise. The promise will be
              <a href="#dfn-fulfill" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-fulfill-1">fulfilled</a> with a sequence of
              <a data-link-type="idl" href="#dom-mediadeviceinfo" class="internalDFN" id="ref-for-dom-mediadeviceinfo-4"><code><code>MediaDeviceInfo</code></code></a> objects representing the
              User Agent's available media input and output devices if
              enumeration is successful.</p>
              <p>Elements of this sequence that represent input devices will be
              of type <a data-link-type="idl" href="#dom-inputdeviceinfo" class="internalDFN" id="ref-for-dom-inputdeviceinfo-1"><code><code>InputDeviceInfo</code></code></a> which extends
              <a data-link-type="idl" href="#dom-mediadeviceinfo" class="internalDFN" id="ref-for-dom-mediadeviceinfo-5"><code><code>MediaDeviceInfo</code></code></a>.</p>
              <p>Camera and microphone sources <em class="rfc2119">SHOULD</em>
              be enumerable. Specifications that add additional types of source
              will provide recommendations about whether the source type should
              be enumerable.</p>
              <p>When the <a data-link-type="idl" data-lt="enumerateDevices()" href="#dom-mediadevices-enumeratedevices" class="internalDFN" id="ref-for-dom-mediadevices-enumeratedevices-6"><code><code>enumerateDevices</code></code></a><code>()</code> method is
              called, the User Agent must run the following steps:</p>
              <ol>
                <li>
                  <p>Let <var>p</var> be a new promise.</p>
                </li>
                <li>
                  <p>Run the following steps in parallel:</p>
                  <ol>
                    <li>
                      <p>Let <var>document</var> be the <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object">relevant settings object</a>'s
                      <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-document">responsible document</a>.</p>
                    </li>
                    <li>
                      <p>The User Agent <em class="rfc2119">MUST</em> wait to proceed to the next step until
                      <a href="#device-enumeration-can-proceed" class="internalDFN" data-link-type="dfn" id="ref-for-device-enumeration-can-proceed-4">device enumeration can proceed</a> is <code>true</code>.</p>
                      <p>The User Agent <em class="rfc2119">MAY</em> wait to proceed to the next step
                      until <var>document</var> is <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#fully-active">fully active</a>
                      and <a href="https://html.spec.whatwg.org/multipage/#gains-focus">has
                      focus.</a></p>
                    </li>
                    <li><p>Let <var>resultList</var> be an empty list.</p></li>
                    <li>
                      <p>If <a href="#dfn-storeddevicelist" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-storeddevicelist-3">[[storedDeviceList]]</a> is not <code>null</code>,
                      run the following sub steps:</p>
                      <ol>
                        <li>
                          <p>For each <a data-link-type="idl" href="#dom-mediadeviceinfo" class="internalDFN" id="ref-for-dom-mediadeviceinfo-6"><code><code>MediaDeviceInfo</code></code></a> object in <a href="#dfn-storeddevicelist" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-storeddevicelist-4">[[storedDeviceList]]</a>,
                          <var>storedDeviceInfo</var>:
                          </p><ul>
                             <li>
                               <p>Append to <var>resultList</var> a <a data-link-type="idl" href="#dom-mediadeviceinfo" class="internalDFN" id="ref-for-dom-mediadeviceinfo-7"><code><code>MediaDeviceInfo</code></code></a>
                               copy of <var>storedDeviceInfo</var>.</p>
                             </li>
                           </ul>
                         </li>
                         <li>
                           <p><a href="#dfn-resolve" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resolve-2">resolve</a> <var>p</var> with <var>resultList</var>.</p>
                        </li>
                        <li>
                           <p>Abort these steps.</p>
                        </li>
                      </ol>
                    </li>
                    <li>
                      <p>Probe the User Agent for available media devices, and let be <var>deviceList</var>
                      be the list of all discovered devices.</p>
                    </li>
                    <li>
                      <p>Let <var>microphoneList</var> and <var>cameraList</var> be empty lists.</p>
                    </li>
                    <li>
                      <p>Run the following sub steps for each discovered device in <var>deviceList</var>, <var>device</var>:</p>
                      <ol>
                        <li>
                          <p>If <var>device</var> is not a microphone, or <var>document</var> is not
                          <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">allowed to use</a> the feature identified by <a data-dfn-link-for="" href="#dfn-microphone" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-microphone-1"><code>"microphone"</code></a>,
                          abort these sub steps and continue with the next device (if any).</p>
                        </li>
                        <li>
                          <p>Let <var>deviceInfo</var> be the result of
                          <a href="#creating-a-device-info-object" class="internalDFN" data-link-type="dfn" id="ref-for-creating-a-device-info-object-1">creating a device info object</a> to represent <var>device</var>.</p>
                        </li>
                        <li>
                          <p>If <var>device</var> is the system default microphone,
                          prepend <var>deviceInfo</var> to <var>microphoneList</var>.
                          Otherwise, append <var>deviceInfo</var> to <var>microphoneList</var>.</p>
                        </li>
                      </ol>
                    </li>
                    <li>
                      <p>Run the following sub steps for each discovered device in <var>deviceList</var>, <var>device</var>:</p>
                      <ol>
                        <li>
                          <p>If <var>device</var> is not a camera, or <var>document</var> is not
                          <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">allowed to use</a> the feature identified by <a data-dfn-link-for="" href="#dfn-camera" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-camera-1"><code>"camera"</code></a>,
                          abort these sub steps and continue with the next device (if any).</p>
                        </li>
                        <li>
                          <p>Let <var>deviceInfo</var> be the result of
                          <a href="#creating-a-device-info-object" class="internalDFN" data-link-type="dfn" id="ref-for-creating-a-device-info-object-2">creating a device info object</a> to represent <var>device</var>.</p>
                        </li>
                        <li>
                          <p>If <var>device</var> is the system default camera,
                          prepend <var>deviceInfo</var> to <var>cameraList</var>.
                          Otherwise, append <var>deviceInfo</var> to <var>cameraList</var>.</p>
                        </li>
                      </ol>
                    </li>
                    <li>
                      <p>If <a href="#device-information-can-be-exposed" class="internalDFN" data-link-type="dfn" id="ref-for-device-information-can-be-exposed-3">device information can be exposed</a> is <code>false</code>,
                      run the following sub steps:</p><p>
                      </p><ol>
                        <li>
                          <p>Add to <var>resultList</var> the first item of <var>microphoneList</var> if <var>microphoneList</var> is not empty.</p>
                        </li>
                        <li>
                          <p>Add to <var>resultList</var> the first item of <var>cameraList</var> if <var>cameraList</var> is not empty.</p>
                        </li>
                      </ol>
                    </li>
                    <li>
                      <p>Otherwise, run the following steps:</p><p>
                      </p><ol>
                        <li>
                          <p>Append to <var>resultList</var> all devices of <var>microphoneList</var> in order.</p>
                        </li>
                        <li>
                          <p>Append to <var>resultList</var> all devices of <var>cameraList</var> in order.</p>
                        </li>
                        <li>
                          <p>Run the following sub steps for each discovered device in <var>deviceList</var>, <var>device</var>:</p>
                          <ol>
                            <li>
                              <p>If <var>device</var> is a microphone or <var>device</var> is a camera,
                              abort these sub steps and continue with the next device (if any).</p>
                            </li>
                            <li>
                              <p>Run the <a href="#device-exposure-decision-non-camera-microphone" class="internalDFN" data-link-type="dfn" id="ref-for-device-exposure-decision-non-camera-microphone-1">exposure decision algorithm for devices other than camera and microphone</a>,
                              with <var>device</var>, <var>microphoneList</var> and <var>cameraList</var> as input.
                              If the result of this algorithm is <code>false</code>,
                              abort these sub steps and continue with the next device (if any).</p>
                            </li>
                            <li>
                              <p>Let <var>deviceInfo</var> be the result of
                              <a href="#creating-a-device-info-object" class="internalDFN" data-link-type="dfn" id="ref-for-creating-a-device-info-object-3">creating a device info object</a> to represent <var>device</var>.</p>
                            </li>
                            <li>
                              <p>Append <var>deviceInfo</var> to <var>resultList</var>.</p>
                            </li>
                          </ol>
                        </li>
                      </ol>
                    </li>
                    <li>
                      <p>Set <a href="#dfn-storeddevicelist" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-storeddevicelist-5">[[storedDeviceList]]</a> to
                      <var>resultList</var>.</p>
                    </li>
                    <li>
                      <p><a href="#dfn-resolve" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resolve-3">resolve</a> <var>p</var> with <var>resultList</var>.</p>
                    </li>
                  </ol>
                </li>
                <li>
                  <p>Return <var>p</var>.</p>
                </li>
              </ol>
              <p class="fingerprint">Since this method returns persistent
              information across browsing sessions and origins via the availability
              of media capture devices, it adds to the
              fingerprinting surface exposed by the User Agent.<img src="images/fingerprint.png" alt="(This is a fingerprinting vector.)" width="15" height="21"></p>
              <p class="fingerprint">Once authorization has been granted to one
              of the capture devices, it provides additional persistent
              cross-origin information via the list of all media capture devices,
              including their grouping and human readable labels associated
              with the capture devices, which further adds to the
              fingerprinting surface.<img src="images/fingerprint.png" alt="(This is a fingerprinting vector.)" width="15" height="21"></p>
            </dd>
          </dl>
        </section>
      </div>
      <section id="access-control-model">
        <h4 id="x9-2-1-access-control-model"><bdi class="secno">9.2.1 </bdi>Access control model<a class="self-link" aria-label="§" href="#access-control-model"></a></h4>
        <p>The algorithm described above means that the access to media device
        information depends on whether or not the browsing context did capture.</p>
        <p>For camera and microphone devices, if the browsing context did not capture
        (i.e. <a data-link-type="idl" data-lt="getUserMedia()" href="#dom-mediadevices-getusermedia" class="internalDFN" id="ref-for-dom-mediadevices-getusermedia-16"><code><code>getUserMedia</code></code></a><code>()</code> was not called or never resolved successfully), the
        <a data-link-type="idl" href="#dom-mediadeviceinfo" class="internalDFN" id="ref-for-dom-mediadeviceinfo-8"><code><code>MediaDeviceInfo</code></code></a> object will contain a valid value for <a data-link-type="idl" href="#dom-mediadeviceinfo-kind" class="internalDFN" id="ref-for-dom-mediadeviceinfo-kind-1"><code><code>kind</code></code></a> but empty strings
        for <a data-link-type="idl" href="#dom-mediadeviceinfo-deviceid" class="internalDFN" id="ref-for-dom-mediadeviceinfo-deviceid-4"><code><code>deviceId</code></code></a>, <a data-link-type="idl" href="#dom-mediadeviceinfo-label" class="internalDFN" id="ref-for-dom-mediadeviceinfo-label-1"><code><code>label</code></code></a>, and <a data-link-type="idl" href="#dom-mediadeviceinfo-groupid" class="internalDFN" id="ref-for-dom-mediadeviceinfo-groupid-2"><code><code>groupId</code></code></a>.
        Additionally, at most one device of each <a data-link-type="idl" href="#dom-mediadeviceinfo-kind" class="internalDFN" id="ref-for-dom-mediadeviceinfo-kind-2"><code><code>kind</code></code></a> will be listed in <a data-link-type="idl" data-lt="enumerateDevices()" href="#dom-mediadevices-enumeratedevices" class="internalDFN" id="ref-for-dom-mediadevices-enumeratedevices-7"><code><code>enumerateDevices</code></code></a><code>()</code> result.</p>
        <p>Otherwise, the
        <dfn data-export="" data-dfn-type="interface" id="dom-mediadeviceinfo" data-idl="interface" data-title="MediaDeviceInfo" data-dfn-for=""><code>MediaDeviceInfo</code></dfn> object will contain meaningful values for <a data-link-type="idl" href="#dom-mediadeviceinfo-deviceid" class="internalDFN" id="ref-for-dom-mediadeviceinfo-deviceid-5"><code><code>deviceId</code></code></a>, <a data-link-type="idl" href="#dom-mediadeviceinfo-kind" class="internalDFN" id="ref-for-dom-mediadeviceinfo-kind-3"><code><code>kind</code></code></a>,
        <a data-link-type="idl" href="#dom-mediadeviceinfo-label" class="internalDFN" id="ref-for-dom-mediadeviceinfo-label-2"><code><code>label</code></code></a>, and <a data-link-type="idl" href="#dom-mediadeviceinfo-groupid" class="internalDFN" id="ref-for-dom-mediadeviceinfo-groupid-3"><code><code>groupId</code></code></a>. All available devices are listed in <a data-link-type="idl" data-lt="enumerateDevices()" href="#dom-mediadevices-enumeratedevices" class="internalDFN" id="ref-for-dom-mediadevices-enumeratedevices-8"><code><code>enumerateDevices</code></code></a><code>()</code> result.</p>
        <p>To perform <dfn data-lt="creating-a-device-info-object|creating a device info object" id="creating-a-device-info-object">creating a device info object</dfn> to represent a discovered device,
        <var>device</var>, run the following steps:</p>
        <ol>
          <li>
            <p>Let <var>deviceInfo</var> be a new <a data-link-type="idl" href="#dom-mediadeviceinfo" class="internalDFN" id="ref-for-dom-mediadeviceinfo-9"><code><code>MediaDeviceInfo</code></code></a> object to represent <var>device</var>.</p>
          </li>
          <li>
            <p>Initialize <var>deviceInfo</var>.<a data-link-type="idl" href="#dom-mediadeviceinfo-kind" class="internalDFN" id="ref-for-dom-mediadeviceinfo-kind-4"><code><code>kind</code></code></a> for <var>device</var>.</p>
          </li>
          <li>
            <p>If <var>deviceInfo</var>.<a data-link-type="idl" href="#dom-mediadeviceinfo-kind" class="internalDFN" id="ref-for-dom-mediadeviceinfo-kind-5"><code><code>kind</code></code></a> is equal to "audioinput" or "videoinput"
            and <a href="#device-information-can-be-exposed" class="internalDFN" data-link-type="dfn" id="ref-for-device-information-can-be-exposed-4">device information can be exposed</a> is <code>false</code>, return <var>deviceInfo</var></p>
          </li>
          <li>
            <p>Initialize <var>deviceInfo</var>.<a data-link-type="idl" href="#dom-mediadeviceinfo-label" class="internalDFN" id="ref-for-dom-mediadeviceinfo-label-3"><code><code>label</code></code></a> for <var>device</var>.</p>
          </li>
          <li>
            <p>If a stored <a data-link-type="idl" href="#dom-mediadeviceinfo-deviceid" class="internalDFN" id="ref-for-dom-mediadeviceinfo-deviceid-6"><code><code>deviceId</code></code></a> exists for
            <var>device</var>, initialize <var>deviceInfo</var>.<a data-link-type="idl" href="#dom-mediadeviceinfo-deviceid" class="internalDFN" id="ref-for-dom-mediadeviceinfo-deviceid-7"><code><code>deviceId</code></code></a> to that value.
            Otherwise, let <var>deviceInfo</var>.<a data-link-type="idl" href="#dom-mediadeviceinfo-deviceid" class="internalDFN" id="ref-for-dom-mediadeviceinfo-deviceid-8"><code><code>deviceId</code></code></a> be a
            newly generated unique identifier as described under <a data-link-type="idl" href="#dom-mediadeviceinfo-deviceid" class="internalDFN" id="ref-for-dom-mediadeviceinfo-deviceid-9"><code><code>deviceId</code></code></a>.</p>
          </li>
          <li>
            <p>If <var>device</var> belongs to the same physical
            device as a device already represented for <var>document</var>,
            initialize <var>deviceInfo</var>.<a data-link-type="idl" href="#dom-mediadeviceinfo-groupid" class="internalDFN" id="ref-for-dom-mediadeviceinfo-groupid-4"><code><code>groupId</code></code></a> to the
            <a data-link-type="idl" href="#dom-mediadeviceinfo-groupid" class="internalDFN" id="ref-for-dom-mediadeviceinfo-groupid-5"><code><code>groupId</code></code></a> value of the existing <a data-link-type="idl" href="#dom-mediadeviceinfo" class="internalDFN" id="ref-for-dom-mediadeviceinfo-10"><code><code>MediaDeviceInfo</code></code></a> object.
            Otherwise, let <var>deviceInfo</var>.<a data-link-type="idl" href="#dom-mediadeviceinfo-groupid" class="internalDFN" id="ref-for-dom-mediadeviceinfo-groupid-6"><code><code>groupId</code></code></a> be a
            newly generated unique identifier as described under <a data-link-type="idl" href="#dom-mediadeviceinfo-groupid" class="internalDFN" id="ref-for-dom-mediadeviceinfo-groupid-7"><code><code>groupId</code></code></a>.</p>
          </li>
          <li>
            <p>Return <var>deviceInfo</var></p>
          </li>
        </ol>
      </section>
      <section id="device-information-exposure">
        <h4 id="x9-2-2-device-information-exposure"><bdi class="secno">9.2.2 </bdi>Device information exposure<a class="self-link" aria-label="§" href="#device-information-exposure"></a></h4>
        <p>To perform a <dfn data-lt="device-enumeration-can-proceed|device enumeration can proceed" id="device-enumeration-can-proceed">device enumeration can proceed</dfn> check,
        run the following steps:</p>
        <ol>
          <li>
            <p>If <a href="#device-information-can-be-exposed" class="internalDFN" data-link-type="dfn" id="ref-for-device-information-can-be-exposed-5">device information can be exposed</a> is <code>true</code>,
            return <code>true</code>.</p>
          </li>
          <li>
            <p>If the <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object">relevant settings object</a>'s <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-document">responsible document</a> is <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#fully-active">fully active</a> and
            <a href="https://html.spec.whatwg.org/multipage/#gains-focus">has focus</a>, return
            <code>true</code>.</p>
          </li>
          <li>
            <p>Return <code>false</code>.</p></li>
        </ol>
        <p>To perform a <dfn data-lt="device-information-can-be-exposed|device information can be exposed" id="device-information-can-be-exposed">device information can be exposed</dfn>
        check, run the following steps:</p>
        <ol>
          <li>
            <p>If any of the local devices are attached to a live
            <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-107"><code><code>MediaStreamTrack</code></code></a> in the <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object">relevant settings object</a>'s
            <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-document">responsible document</a>, return
            <code>true</code>.</p>
          </li>
          <li>
            <p>Return <a href="#dfn-canexposedeviceinfo" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-canexposedeviceinfo-1">[[canExposeDeviceInfo]]</a>.</p>
          </li>
        </ol>
      </section>
      <section id="set-device-information-exposure-0">
        <h4 id="x9-2-3-set-device-information-exposure"><bdi class="secno">9.2.3 </bdi>Set device information exposure<a class="self-link" aria-label="§" href="#set-device-information-exposure-0"></a></h4>
        <p>To <dfn data-lt="set-device-information-exposure|set the device information exposure" id="set-device-information-exposure">set the device information exposure</dfn>,
        with a <var>value</var> of type boolean, run the following steps:</p>
        <ol>
          <li>
            <p>If <a href="#dfn-canexposedeviceinfo" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-canexposedeviceinfo-2">[[canExposeDeviceInfo]]</a> is already <var>value</var>,
            abort these steps.</p>
          </li>
          <li>
            <p>If <var>value</var> is <code>true</code>, set
            <a href="#dfn-storeddevicelist" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-storeddevicelist-6">[[storedDeviceList]]</a> to <code>null</code>.</p>
          </li>
          <li>Set <a href="#dfn-canexposedeviceinfo" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-canexposedeviceinfo-3">[[canExposeDeviceInfo]]</a> to <var>value</var>.</li>
        </ol>
        <div class="note" role="note" id="issue-container-generatedID-11"><div role="heading" class="note-title marker" id="h-note-11" aria-level="5"><span>Note</span></div><div class="">
          <p>A User Agent <em class="rfc2119">MAY</em> at any point set the device information exposure back to <code>false</code>,
          for instance if the User Agent decides to revoke device access on a given browsing context.</p>
        </div></div>
      </section>
      <section id="exposure-decision-algorithm-for-devices-other-than-camera-and-microphone">
        <h4 id="x9-2-4-exposure-decision-algorithm-for-devices-other-than-camera-and-microphone"><bdi class="secno">9.2.4 </bdi>Exposure decision algorithm for devices other than camera and microphone<a class="self-link" aria-label="§" href="#exposure-decision-algorithm-for-devices-other-than-camera-and-microphone"></a></h4>
        <p>The <dfn data-lt="device-exposure-decision-non-camera-microphone|exposure decision algorithm for devices other than camera and microphone" id="device-exposure-decision-non-camera-microphone">exposure decision algorithm for devices other than camera and microphone</dfn>
          takes a <var>device</var>, <var>microphoneList</var> and <var>cameraList</var> as input
          and returns a boolean to decide whether exposing the device to the web page or not.</p>
        <p>By default, it returns <code>false</code>.</p>
        <p>Other specifications can define the algorithm for specific device types.
      </p></section>
    </section>
    <section id="device-info">
      <h3 id="x9-3-device-info"><bdi class="secno">9.3 </bdi>Device Info<a class="self-link" aria-label="§" href="#device-info"></a></h3>
      <div>
        <pre class="idl def" id="webidl-1099534138"><span class="idlHeader"><a class="self-link" href="#webidl-1099534138">WebIDL</a></span><span data-idl="" class="idlInterface" id="idl-def-mediadeviceinfo" data-title="MediaDeviceInfo">[<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=<a data-type="interface" href="https://html.spec.whatwg.org/multipage/window-object.html#window">Window</a></span>, <span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext">SecureContext</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-mediadeviceinfo" id="ref-for-dom-mediadeviceinfo-11"><code>MediaDeviceInfo</code></a> {<span data-idl="" class="idlAttribute" id="idl-def-mediadeviceinfo-deviceid" data-title="deviceId" data-dfn-for="MediaDeviceInfo">
  readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediadeviceinfo-deviceid" id="ref-for-dom-mediadeviceinfo-deviceid-10"><code>deviceId</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-mediadeviceinfo-kind" data-title="kind" data-dfn-for="MediaDeviceInfo">
  readonly attribute<span class="idlType"> <a href="#dom-mediadevicekind" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediadevicekind-5"><code>MediaDeviceKind</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediadeviceinfo-kind" id="ref-for-dom-mediadeviceinfo-kind-6"><code>kind</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-mediadeviceinfo-label" data-title="label" data-dfn-for="MediaDeviceInfo">
  readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediadeviceinfo-label" id="ref-for-dom-mediadeviceinfo-label-4"><code>label</code></a>;</span><span data-idl="" class="idlAttribute" id="idl-def-mediadeviceinfo-groupid" data-title="groupId" data-dfn-for="MediaDeviceInfo">
  readonly attribute<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-mediadeviceinfo-groupid" id="ref-for-dom-mediadeviceinfo-groupid-8"><code>groupId</code></a>;</span><span data-idl="" class="idlMethod" id="idl-def-mediadeviceinfo-tojson" data-title="toJSON" data-dfn-for="MediaDeviceInfo">
  [<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Default">Default</a></span>]<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-object">object</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediadeviceinfo-tojson" id="ref-for-dom-mediadeviceinfo-tojson-1"><code>toJSON</code></a>();</span>
};</span></pre>
        <section>
          <h4 id="attributes-5">Attributes<a class="self-link" aria-label="§" href="#attributes-5"></a></h4>
          <dl data-link-for="MediaDeviceInfo" data-dfn-for="MediaDeviceInfo" class="attributes">
            <dt id="def-mediadeviceinfo-deviceId"><dfn data-export="" data-dfn-type="attribute" id="dom-mediadeviceinfo-deviceid" data-idl="attribute" data-title="deviceId" data-dfn-for="MediaDeviceInfo" data-type="DOMString" data-lt="deviceId" data-local-lt="MediaDeviceInfo.deviceId"><code>deviceId</code></dfn>
            of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><code>DOMString</code></a>, readonly</dt>
            <dd>
              <p>The identifier of the represented device. The device <em class="rfc2119">MUST</em> be
              uniquely identified by its identifier and its <a data-link-type="idl" href="#dom-mediadeviceinfo-kind" class="internalDFN" id="ref-for-dom-mediadeviceinfo-kind-7"><code><code>kind</code></code></a>.</p>
              <p>To to ensure stored identifiers are recognized, the identifier
              <em class="rfc2119">MUST</em> be the same in documents of the same origin in <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">top-level browsing contexts</a>.
              In <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#nested-browsing-context">nested browsing contexts</a>,
              the decision of whether or not the identifier is the same across
              documents, <em class="rfc2119">MUST</em> follow the User Agent's partitioning rules for
              storage (such as <a data-link-type="idl" data-type="attribute" href="https://html.spec.whatwg.org/multipage/webstorage.html#dom-localstorage"><code>localStorage</code></a>), if any,
              to not interfere with mitigations for cross-site correlation.
              If the identifier can uniquely
              identify the user, then it <em class="rfc2119">MUST</em> be un-guessable in documents from
              other origins to prevent the identifier from being used to
              correlate the same user across different origins. An identifier
              can be reused across origins as long as it is not tied to the user
              and can be guessed by other means, like the User-Agent string.</p>
              <p>If any local devices have been attached to a live
              <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-108"><code><code>MediaStreamTrack</code></code></a> in a page from this origin, or <a data-link-type="dfn" href="#stored-permissions" class="internalDFN" id="ref-for-stored-permissions-1">stored permission</a> to access local
              devices has been granted to this origin, then this identifier
              <em class="rfc2119">MUST</em> be persisted, except as detailed below. Unique and stable
              identifiers let the application save, identify the availability
              of, and directly request specific sources, across multiple
              visits.</p>
              <p>However, as long as no local device has been attached to a
              live MediaStreamTrack in a page from this origin, and no <a data-link-type="dfn" href="#stored-permissions" class="internalDFN" id="ref-for-stored-permissions-2">stored permission</a> to access local
              devices has been granted to this origin, then the User Agent <em class="rfc2119">MAY</em>
              clear this identifier once the last browsing session from this
              origin has been closed. If the User Agent chooses not to clear
              the identifier in this condition, then it <em class="rfc2119">MUST</em> provide for the
              user to visibly inspect and delete the identifier, like a
              cookie.</p>
              <p class="fingerprint">Since <a data-link-type="idl" href="#dom-mediadeviceinfo-deviceid" class="internalDFN" id="ref-for-dom-mediadeviceinfo-deviceid-11"><code><code>deviceId</code></code></a> may persist
              across browsing sessions and to reduce its potential as a
              fingerprinting mechanism, <a data-link-type="idl" href="#dom-mediadeviceinfo-deviceid" class="internalDFN" id="ref-for-dom-mediadeviceinfo-deviceid-12"><code><code>deviceId</code></code></a> is to be treated
              as other persistent storage mechanisms such as cookies
              [<cite><a class="bibref" data-link-type="biblio" href="#bib-cookies" title="HTTP State Management Mechanism">COOKIES</a></cite>], in that User Agents <em class="rfc2119">MUST NOT</em> persist device
              identifiers for sites that are blocked from using cookies, and
              User Agents <em class="rfc2119">MUST</em> rotate per-origin device identifiers when other
              persistent storage are cleared.<img src="images/fingerprint.png" alt="(This is a fingerprinting vector.)" width="15" height="21"></p>
            </dd>
            <dt id="def-mediadeviceinfo-kind"><dfn data-export="" data-dfn-type="attribute" id="dom-mediadeviceinfo-kind" data-idl="attribute" data-title="kind" data-dfn-for="MediaDeviceInfo" data-type="MediaDeviceKind" data-lt="kind" data-local-lt="MediaDeviceInfo.kind"><code>kind</code></dfn> of
            type <a data-link-type="idl" href="#dom-mediadevicekind" class="internalDFN" id="ref-for-dom-mediadevicekind-6"><code><code>MediaDeviceKind</code></code></a>,
            readonly</dt>
            <dd>
              <p>The kind of the represented device.</p>
            </dd>
            <dt><dfn data-export="" data-dfn-type="attribute" id="dom-mediadeviceinfo-label" data-idl="attribute" data-title="label" data-dfn-for="MediaDeviceInfo" data-type="DOMString" data-lt="label" data-local-lt="MediaDeviceInfo.label"><code>label</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><code>DOMString</code></a>, readonly</dt>
            <dd>
              <p>A label describing this device (for example "External USB
              Webcam"). This label is intended to allow the end user to tell the
              difference between devices. Applications can’t assume that the
              label contains any specific information, such as the device type or model.
              If the device has no associated label, then this
              attribute <em class="rfc2119">MUST</em> return the empty string.</p>
            </dd>
            <dt id="def-mediadeviceinfo-groupId"><dfn data-export="" data-dfn-type="attribute" id="dom-mediadeviceinfo-groupid" data-idl="attribute" data-title="groupId" data-dfn-for="MediaDeviceInfo" data-type="DOMString" data-lt="groupId" data-local-lt="MediaDeviceInfo.groupId"><code>groupId</code></dfn>
            of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><code>DOMString</code></a>, readonly</dt>
            <dd>
              <p>The group identifier of the represented device. Two devices
              have the same group identifier if they belong to the same
              physical device. For example, the audio input and output devices
              representing the speaker and microphone of the same headset
              have the same groupId.</p>
              <p>The group identifier <em class="rfc2119">MUST</em> be uniquely generated for each
              <a data-type="dfn" href="https://dom.spec.whatwg.org/#concept-document">document</a>.</p>
            </dd>
          </dl>
        </section>
        <section>
          <h4 id="methods-2">Methods<a class="self-link" aria-label="§" href="#methods-2"></a></h4>
          <dl data-link-for="MediaDeviceInfo" data-dfn-for="MediaDeviceInfo" class="methods">
            <dt><dfn data-export="" data-dfn-type="method" id="dom-mediadeviceinfo-tojson" data-idl="operation" data-title="toJSON" data-dfn-for="MediaDeviceInfo" data-type="object" data-lt="toJSON()" data-local-lt="MediaDeviceInfo.toJSON|MediaDeviceInfo.toJSON()|toJSON"><code>toJSON</code></dfn></dt>
            <dd>
              When called, run [<cite><a class="bibref" data-link-type="biblio" href="#bib-webidl" title="Web IDL">WEBIDL</a></cite>]'s <a data-type="dfn" href="https://heycam.github.io/webidl/#default-tojson-steps">default toJSON steps</a>.
            </dd>
          </dl>
        </section>
      </div>
      <div>
        <pre class="idl def" id="webidl-512153022"><span class="idlHeader"><a class="self-link" href="#webidl-512153022">WebIDL</a></span><span data-idl="" class="idlEnum" id="idl-def-mediadevicekind" data-title="MediaDeviceKind">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-mediadevicekind" id="ref-for-dom-mediadevicekind-7"><code>MediaDeviceKind</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-MediaDeviceKind.audioinput" id="ref-for-idl-def-MediaDeviceKind.audioinput-1"><code>audioinput</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-MediaDeviceKind.audiooutput" id="ref-for-idl-def-MediaDeviceKind.audiooutput-1"><code>audiooutput</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-MediaDeviceKind.videoinput" id="ref-for-idl-def-MediaDeviceKind.videoinput-1"><code>videoinput</code></a>"</span>
};</span></pre>
        <table data-link-for="MediaDeviceKind" data-dfn-for="MediaDeviceKind" class="simple">
          <tbody>
            <tr>
              <th colspan="2"><dfn data-export="" data-dfn-type="enum" id="dom-mediadevicekind" data-idl="enum" data-title="MediaDeviceKind" data-dfn-for=""><code>MediaDeviceKind</code></dfn> Enumeration
              description</th>
            </tr>
            <tr>
              <td><dfn id="idl-def-MediaDeviceKind.audioinput" data-export="" data-dfn-type="enum-value" data-idl="enum-value" data-title="audioinput" data-dfn-for="MediaDeviceKind"><code>audioinput</code></dfn></td>
              <td>
                <p>Represents an audio input device; for example a
                microphone.</p>
              </td>
            </tr>
            <tr>
              <td><dfn id="idl-def-MediaDeviceKind.audiooutput" data-export="" data-dfn-type="enum-value" data-idl="enum-value" data-title="audiooutput" data-dfn-for="MediaDeviceKind"><code>audiooutput</code></dfn></td>
              <td>
                <p>Represents an audio output device; for example a pair of
                headphones.</p>
              </td>
            </tr>
            <tr>
              <td><dfn id="idl-def-MediaDeviceKind.videoinput" data-export="" data-dfn-type="enum-value" data-idl="enum-value" data-title="videoinput" data-dfn-for="MediaDeviceKind"><code>videoinput</code></dfn></td>
              <td>
                <p>Represents a video input device; for example a webcam.</p>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>
    <section id="input-specific-device-info">
      <h3 id="x9-4-input-specific-device-info"><bdi class="secno">9.4 </bdi>Input-specific Device Info<a class="self-link" aria-label="§" href="#input-specific-device-info"></a></h3>
      <p>The <dfn data-export="" data-dfn-type="interface" id="dom-inputdeviceinfo" data-idl="interface" data-title="InputDeviceInfo" data-dfn-for=""><code>InputDeviceInfo</code></dfn> interface gives access to the
      capabilities of the input device it represents.</p>
      <div>
        <pre class="idl def" id="webidl-516297588"><span class="idlHeader"><a class="self-link" href="#webidl-516297588">WebIDL</a></span><span data-idl="" class="idlInterface" id="idl-def-inputdeviceinfo" data-title="InputDeviceInfo">[<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=<a data-type="interface" href="https://html.spec.whatwg.org/multipage/window-object.html#window">Window</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-inputdeviceinfo" id="ref-for-dom-inputdeviceinfo-2"><code>InputDeviceInfo</code></a> : <span class="idlSuperclass"><a href="#dom-mediadeviceinfo" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediadeviceinfo-12"><code>MediaDeviceInfo</code></a></span> {<span data-idl="" class="idlMethod" id="idl-def-inputdeviceinfo-getcapabilities" data-title="getCapabilities" data-dfn-for="InputDeviceInfo"><span class="idlType">
  <a href="#dom-mediatrackcapabilities" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediatrackcapabilities-5"><code>MediaTrackCapabilities</code></a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-inputdeviceinfo-getcapabilities" id="ref-for-dom-inputdeviceinfo-getcapabilities-1"><code>getCapabilities</code></a>();</span>
};</span></pre>
        <section>
          <h4 id="methods-3">Methods<a class="self-link" aria-label="§" href="#methods-3"></a></h4>
          <dl data-link-for="InputDeviceInfo" data-dfn-for="InputDeviceInfo" class="methods">
            <dt><dfn data-export="" data-dfn-type="method" id="dom-inputdeviceinfo-getcapabilities" data-idl="operation" data-title="getCapabilities" data-dfn-for="InputDeviceInfo" data-type="MediaTrackCapabilities" data-lt="getCapabilities()" data-local-lt="InputDeviceInfo.getCapabilities|InputDeviceInfo.getCapabilities()|getCapabilities"><code>getCapabilities</code></dfn></dt>
            <dd>
              <p>Returns a <a data-link-type="idl" href="#dom-mediatrackcapabilities" class="internalDFN" id="ref-for-dom-mediatrackcapabilities-6"><code><code>MediaTrackCapabilities</code></code></a> object
              describing the primary audio or video track of a device's
              <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-86"><code><code>MediaStream</code></code></a> (according to its
              <a data-link-type="idl" href="#dom-mediastreamtrack-kind" class="internalDFN" id="ref-for-dom-mediastreamtrack-kind-8"><code><code>kind</code></code></a> value), in the absence of any user-supplied
              constraints. These capabilities <em class="rfc2119">MUST</em> be identical to those that
              would have been obtained by calling
              <a data-link-type="idl" data-lt="getCapabilities()" href="#dom-mediastreamtrack-getcapabilities" class="internalDFN" id="ref-for-dom-mediastreamtrack-getcapabilities-5"><code><code>getCapabilities</code></code></a><code>()</code> on the first
              <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-109"><code><code>MediaStreamTrack</code></code></a> of this type in a
              <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-87"><code><code>MediaStream</code></code></a> returned by
              <code>getUserMedia({deviceId: <i>id</i>})</code> where <var>id</var>
              is the value of the <a data-link-type="idl" href="#dom-mediadeviceinfo-deviceid" class="internalDFN" id="ref-for-dom-mediadeviceinfo-deviceid-13"><code><code>deviceId</code></code></a> attribute of this
              <a data-link-type="idl" href="#dom-mediadeviceinfo" class="internalDFN" id="ref-for-dom-mediadeviceinfo-13"><code><code>MediaDeviceInfo</code></code></a>.</p>
              <p>If no access has been granted to any local devices and this
              <a data-link-type="idl" href="#dom-inputdeviceinfo" class="internalDFN" id="ref-for-dom-inputdeviceinfo-3"><code><code>InputDeviceInfo</code></code></a> has been filtered with respect to
              unique identifying information (see above description of
              <a data-link-type="idl" data-lt="enumerateDevices()" href="#dom-mediadevices-enumeratedevices" class="internalDFN" id="ref-for-dom-mediadevices-enumeratedevices-9"><code><code>enumerateDevices</code></code></a><code>()</code> result), then this method returns
              an empty dictionary.</p>
            </dd>
          </dl>
        </section>
      </div>
    </section>
  </section>
  <section id="local-content">
    <h2 id="x10-obtaining-local-multimedia-content"><bdi class="secno">10. </bdi>Obtaining local multimedia content<a class="self-link" aria-label="§" href="#local-content"></a></h2>
    <p>This section extends <a data-link-type="idl" href="#dom-navigator" class="internalDFN" id="ref-for-dom-navigator-3"><code><code>Navigator</code></code></a> and
    <a data-link-type="idl" href="#dom-mediadevices" class="internalDFN" id="ref-for-dom-mediadevices-6"><code><code>MediaDevices</code></code></a> with APIs to request permission to access
    media input devices available to the User Agent.</p>
    <p>Alternatively, a local <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-88"><code><code>MediaStream</code></code></a> can be captured
    from certain types of DOM elements, such as the video element
    [<cite><a class="bibref" data-link-type="biblio" href="#bib-mediacapture-fromelement" title="Media Capture from DOM Elements">mediacapture-fromelement</a></cite>]. This can be useful for automated testing.</p>
    <section id="legacy-interface-extensions">
      <h3 id="x10-1-legacy-interface-extensions"><bdi class="secno">10.1 </bdi>Legacy Interface Extensions<a class="self-link" aria-label="§" href="#legacy-interface-extensions"></a></h3>
      <div class="note" role="note" id="issue-container-generatedID-12"><div role="heading" class="note-title marker" id="h-note-12" aria-level="4"><span>Note</span></div><div class="">
        The definition of getUserMedia() in this section reflects two major
        changes from the method definition that has existed here for many
        months.
        <p>First, the official definition for the getUserMedia() method, and
        the one which developers are encouraged to use, is now at <a data-link-type="idl" href="#dom-mediadevices" class="internalDFN" id="ref-for-dom-mediadevices-7"><code><code>MediaDevices</code></code></a>. This decision
        reflected consensus as long as the original API remained available here
        under the Navigator object for backwards compatibility reasons, since
        the working group acknowledges that early users of these APIs have been
        encouraged to define getUserMedia as "var getUserMedia =
        navigator.getUserMedia || navigator.webkitGetUserMedia ||
        navigator.mozGetUserMedia;" in order for their code to be functional
        both before and after official implementations of getUserMedia() in
        popular User Agents. To ensure functional equivalence, the getUserMedia()
        method here is defined in terms of the method under MediaDevices.</p>
        <p>Second, the decision to change all other callback-based methods in
        the specification to be based on Promises instead required that the
        navigator.getUserMedia() definition reflect this in its use of
        navigator.mediaDevices.getUserMedia(). Because navigator.getUserMedia()
        is now the only callback-based method remaining in the specification,
        there is ongoing discussion as to a) whether it still belongs in the
        specification, and b) if it does, whether its syntax should remain
        callback-based or change in some way to use Promises. Input on these
        questions is encouraged, particularly from developers actively using
        today's implementations of this functionality.</p>
        <p>Note that the other methods that changed from a callback-based
        syntax to a Promises-based syntax were not considered to have been
        implemented widely enough in any form to have to consider legacy
        usage.</p>
      </div></div>
      <div>
        <pre class="idl def" id="webidl-453757607"><span class="idlHeader"><a class="self-link" href="#webidl-453757607">WebIDL</a></span><span data-idl="" class="idlInterface" id="idl-def-navigator-partial-2" data-title="Navigator">partial interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-navigator" id="ref-for-dom-navigator-4"><code>Navigator</code></a> {<span data-idl="" class="idlMethod" id="idl-def-navigator-getusermedia-constraints-successcallback-errorcallback" data-title="getUserMedia" data-dfn-for="Navigator">
  [<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext">SecureContext</a></span>]<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-undefined">undefined</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-navigator-getusermedia" id="ref-for-dom-navigator-getusermedia-1"><code>getUserMedia</code></a>(<span class="idlType"><a href="#dom-mediastreamconstraints" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastreamconstraints-1"><code>MediaStreamConstraints</code></a></span> <span class="idlParamName">constraints</span>,<span class="idlType">
                                    <a href="#dom-navigatorusermediasuccesscallback" class="internalDFN" data-link-type="idl" id="ref-for-dom-navigatorusermediasuccesscallback-1"><code>NavigatorUserMediaSuccessCallback</code></a></span> <span class="idlParamName">successCallback</span>,<span class="idlType">
                                    <a href="#dom-navigatorusermediaerrorcallback" class="internalDFN" data-link-type="idl" id="ref-for-dom-navigatorusermediaerrorcallback-1"><code>NavigatorUserMediaErrorCallback</code></a></span> <span class="idlParamName">errorCallback</span>);</span>
};</span></pre>
        <section>
          <h4 id="methods-4">Methods<a class="self-link" aria-label="§" href="#methods-4"></a></h4>
          <dl data-link-for="Navigator" data-dfn-for="Navigator" class="methods">
            <dt><dfn data-export="" data-dfn-type="method" id="dom-navigator-getusermedia" data-idl="operation" data-title="getUserMedia" data-dfn-for="Navigator" data-type="undefined" data-lt="getUserMedia()|getUserMedia(constraints, successCallback, errorCallback)" data-local-lt="Navigator.getUserMedia|Navigator.getUserMedia()|getUserMedia"><code>getUserMedia</code></dfn></dt>
            <dd>
              <p>Prompts the user for permission to use their Web cam or other
              video or audio input.</p>
              <p>The <var>constraints</var> argument is a dictionary of type
              <a data-link-type="idl" href="#dom-mediastreamconstraints" class="internalDFN" id="ref-for-dom-mediastreamconstraints-2"><code><code>MediaStreamConstraints</code></code></a>.</p>
              <p>The <var>successCallback</var> will be invoked with a suitable
              <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-89"><code><code>MediaStream</code></code></a> object as its argument if the
              user accepts valid tracks as described in <a data-link-type="idl" data-lt="getUserMedia()" href="#dom-mediadevices-getusermedia" class="internalDFN" id="ref-for-dom-mediadevices-getusermedia-17"><code><code>getUserMedia</code></code></a><code>()</code> on
              <a data-link-type="idl" href="#dom-navigator-mediadevices" class="internalDFN" id="ref-for-dom-navigator-mediadevices-4"><code><code>MediaDevices</code></code></a>.</p>
              <p>The <var>errorCallback</var> will be invoked if there is a
              failure in finding valid tracks or if the user denies permission,
              as described in <a data-link-type="idl" data-lt="getUserMedia()" href="#dom-mediadevices-getusermedia" class="internalDFN" id="ref-for-dom-mediadevices-getusermedia-18"><code><code>getUserMedia</code></code></a><code>()</code> on
              <a data-link-type="idl" href="#dom-navigator-mediadevices" class="internalDFN" id="ref-for-dom-navigator-mediadevices-5"><code><code>MediaDevices</code></code></a>.</p>
              <p>When the <a data-link-type="idl" data-lt="getUserMedia()" href="#dom-navigator-getusermedia" class="internalDFN" id="ref-for-dom-navigator-getusermedia-2"><code><code>getUserMedia</code></code></a><code>()</code> method is called,
              the User Agent <em class="rfc2119">MUST</em> run the following steps:</p>
              <ol>
                <li>
                  <p>Let <var>constraints</var> be the method's first
                  argument.</p>
                </li>
                <li>
                  <p>Let <var>successCallback</var> be the callback indicated
                  by the method's second argument.</p>
                </li>
                <li>
                  <p>Let <var>errorCallback</var> be the callback indicated by
                  the method's third argument.</p>
                </li>
                <li>
                  <p>Run the steps specified by the <a href="#dom-mediadevices-getusermedia" id="ref-for-dom-mediadevices-getusermedia-19">getUserMedia() algorithm</a>
                  with <var>constraints</var> as the argument, and let
                  <var>p</var> be the resulting promise.</p>
                </li>
                <li>
                  <p>Upon <a href="#dfn-fulfill" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-fulfill-2">fulfillment</a> of <var>p</var> with value
                  <var>stream</var>, run the following step:</p>
                  <ol>
                    <li>
                      <p>Invoke <var>successCallback</var> with
                      <var>stream</var> as the argument.</p>
                    </li>
                  </ol>
                </li>
                <li>
                  <p>Upon <a href="#dfn-reject" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-reject-2">rejection</a> of <var>p</var> with reason
                  <var>r</var>, run the following step:</p>
                  <ol>
                    <li>
                      <p>Invoke <var>errorCallback</var> with <var>r</var> as
                      the argument.</p>
                    </li>
                  </ol>
                </li>
              </ol>
            </dd>
          </dl>
        </section>
      </div>
    </section>
    <section id="mediadevices-interface-extensions">
      <h3 id="x10-2-mediadevices-interface-extensions"><bdi class="secno">10.2 </bdi><a data-link-type="idl" href="#dom-mediadevices" class="internalDFN" id="ref-for-dom-mediadevices-8"><code><code>MediaDevices</code></code></a> Interface Extensions<a class="self-link" aria-label="§" href="#mediadevices-interface-extensions"></a></h3>
      <div class="note" role="note" id="issue-container-generatedID-13"><div role="heading" class="note-title marker" id="h-note-13" aria-level="4"><span>Note</span></div><div class="">
        The definition of <a data-link-type="idl" data-lt="getUserMedia()" href="#dom-navigator-getusermedia" class="internalDFN" id="ref-for-dom-navigator-getusermedia-3"><code><code>getUserMedia</code></code></a><code>()</code> in this section reflects two major
        changes from the method definition that has existed under <a data-link-type="idl" href="#dom-navigator" class="internalDFN" id="ref-for-dom-navigator-5"><code><code>Navigator</code></code></a> for
        many months.
        <p>First, the official definition for the <a data-link-type="idl" data-lt="getUserMedia()" href="#dom-mediadevices-getusermedia" class="internalDFN" id="ref-for-dom-mediadevices-getusermedia-20"><code><code>getUserMedia</code></code></a><code>()</code> method, and
        the one which developers are encouraged to use, is now the one defined
        here under <a data-link-type="idl" href="#dom-mediadevices" class="internalDFN" id="ref-for-dom-mediadevices-9"><code><code>MediaDevices</code></code></a>. This decision reflected consensus as long as
        the original API remained available at <a href="#dom-navigator-getusermedia" class="internalDFN" data-link-type="idl" id="ref-for-dom-navigator-getusermedia-4"><code>Navigator.getUserMedia</code></a>
        under the <a data-link-type="idl" href="#dom-navigator" class="internalDFN" id="ref-for-dom-navigator-6"><code><code>Navigator</code></code></a> object for backwards compatibility reasons, since
        the working group acknowledges that early users of these APIs have been
        encouraged to define getUserMedia as "var getUserMedia =
        navigator.getUserMedia || navigator.webkitGetUserMedia ||
        navigator.mozGetUserMedia;" in order for their code to be functional
        both before and after official implementations of getUserMedia() in
        popular User Agents. To ensure functional equivalence, the getUserMedia()
        method under <a data-link-type="idl" href="#dom-navigator" class="internalDFN" id="ref-for-dom-navigator-7"><code><code>Navigator</code></code></a> is defined in terms of the method here.</p>
        <p>Second, the method defined here is Promises-based, while the one
        defined under <a data-link-type="idl" href="#dom-navigator" class="internalDFN" id="ref-for-dom-navigator-8"><code><code>Navigator</code></code></a> is currently still callback-based. Developers
        expecting to find getUserMedia() defined under Navigator are strongly
        encouraged to read the detailed Note given there.</p>
      </div></div>
      <p>The <a data-link-type="idl" href="#dom-mediadevices-getsupportedconstraints" class="internalDFN" id="ref-for-dom-mediadevices-getsupportedconstraints-1"><code><code>getSupportedConstraints</code></code></a> method is provided to allow
      the application to determine which constraints the User Agent
      recognizes.</p>
      <div>
        <pre class="idl def" id="webidl-823932458"><span class="idlHeader"><a class="self-link" href="#webidl-823932458">WebIDL</a></span><span data-idl="" class="idlInterface" id="idl-def-mediadevices-partial-1" data-title="MediaDevices">partial interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-mediadevices" id="ref-for-dom-mediadevices-10"><code>MediaDevices</code></a> {<span data-idl="" class="idlMethod" id="idl-def-mediadevices-getsupportedconstraints" data-title="getSupportedConstraints" data-dfn-for="MediaDevices"><span class="idlType">
  <a href="#dom-mediatracksupportedconstraints" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediatracksupportedconstraints-5"><code>MediaTrackSupportedConstraints</code></a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediadevices-getsupportedconstraints" id="ref-for-dom-mediadevices-getsupportedconstraints-2"><code>getSupportedConstraints</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-mediadevices-getusermedia-constraints" data-title="getUserMedia" data-dfn-for="MediaDevices"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-promise">Promise</a>&lt;<a href="#dom-mediastream" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastream-90"><code>MediaStream</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediadevices-getusermedia" id="ref-for-dom-mediadevices-getusermedia-21"><code>getUserMedia</code></a>(optional<span class="idlType"> <a href="#dom-mediastreamconstraints" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastreamconstraints-3"><code>MediaStreamConstraints</code></a></span> <span class="idlParamName">constraints</span> = {});</span>
};</span></pre>
        <section>
          <h4 id="methods-5">Methods<a class="self-link" aria-label="§" href="#methods-5"></a></h4>
          <dl data-link-for="MediaDevices" data-dfn-for="MediaDevices" class="methods">
            <dt><dfn data-export="" data-dfn-type="method" id="dom-mediadevices-getsupportedconstraints" data-idl="operation" data-title="getSupportedConstraints" data-dfn-for="MediaDevices" data-type="MediaTrackSupportedConstraints" data-lt="getSupportedConstraints()" data-local-lt="MediaDevices.getSupportedConstraints|MediaDevices.getSupportedConstraints()|getSupportedConstraints"><code>getSupportedConstraints</code></dfn></dt>
            <dd>
              <p>Returns a dictionary whose members are the constrainable
              properties known to the User Agent. A supported constrainable
              property <em class="rfc2119">MUST</em> be represented and any constrainable properties not
              supported by the User Agent <em class="rfc2119">MUST NOT</em> be present in the returned
              dictionary. The values returned represent what the User Agent
              implements and will not change during a browsing session.</p>
            </dd>
            <dt>getUserMedia</dt>
            <dd>
              <p>Prompts the user for permission to use their Web cam or other
              video or audio input.</p>
              <p>The <var>constraints</var> argument is a dictionary of type
              <a data-link-type="idl" href="#dom-mediastreamconstraints" class="internalDFN" id="ref-for-dom-mediastreamconstraints-4"><code><code>MediaStreamConstraints</code></code></a>.</p>
              <p>This method returns a promise. The promise will be
              <a href="#dfn-fulfill" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-fulfill-3">fulfilled</a> with a suitable <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-91"><code><code>MediaStream</code></code></a>
              object if the user accepts valid tracks as described below.</p>
              <p>The promise will be <a href="#dfn-reject" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-reject-3">rejected</a> if there is a failure in
              finding valid tracks or if the user denies permission, as
              described below.</p>
              <p>When the <dfn data-export="" data-dfn-type="method" id="dom-mediadevices-getusermedia" data-idl="operation" data-title="getUserMedia()" data-dfn-for="MediaDevices" data-type="Promise" data-lt="getUserMedia()|getUserMedia(constraints)" data-local-lt="MediaDevices.getUserMedia|MediaDevices.getUserMedia()|getUserMedia"><code>getUserMedia()</code></dfn> method is
              called, the User Agent <em class="rfc2119">MUST</em> run the following steps:</p>
              <ol>
                <li>
                  <p>Let <var>constraints</var> be the method's first
                  argument.</p>
                </li>
                <li>
                  <p>Let <var>requestedMediaTypes</var> be the set of media
                  types in <var>constraints</var> with either a dictionary
                  value or a value of <code>true</code>.</p>
                </li>
                <li>
                  <p>If <var>requestedMediaTypes</var> is the empty set, return
                  a promise <a href="#dfn-reject" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-reject-4">rejected</a> with a <a data-link-type="idl" data-type="exception" href="https://heycam.github.io/webidl/#exceptiondef-typeerror"><code>TypeError</code></a>. The
                  word "optional" occurs in the WebIDL due to WebIDL rules, but
                  the argument <em class="rfc2119">MUST</em> be supplied in order for the call to
                  succeed.</p>
                </li>
                <li>
                  <p>If the <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object">relevant settings object</a>'s
                  <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-document">responsible document</a> is NOT
                  <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#fully-active">fully active</a>, return a promise <a href="#dfn-reject" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-reject-5">rejected</a>
                  with a <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMException"><code>DOMException</code></a> object whose <a data-link-type="idl" data-type="attribute" href="https://heycam.github.io/webidl/#dom-domexception-name"><code>name</code></a>
                  attribute has the value "<a data-link-type="idl" data-type="exception" href="https://heycam.github.io/webidl/#invalidstateerror"><code>InvalidStateError</code></a>".</p>
                </li>
                <li>
                  <p>Let <var>p</var> be a new promise.</p>
                </li>
                <li>
                  <p>Run the following steps in parallel:</p>
                  <ol>
                    <li>
                      <p>The User Agent <em class="rfc2119">MUST</em> wait to proceed to the next step until
                      the <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object">relevant settings object</a>'s
                      <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-document">responsible document</a> is
                      <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#fully-active">fully active</a> and
                      <a href="https://html.spec.whatwg.org/multipage/#gains-focus">has focus.</a></p>
                    </li>
                    <li>
                      <p>Let <var>finalSet</var> be an (initially) empty
                      set.</p>
                    </li>
                    <li>
                      <p>For each media type <var>kind</var> in
                      <var>requestedMediaTypes</var>, run the following steps:</p>
                      <ol>
                        <li>
                          <p>For each possible source for media of type <var>kind</var>,
                          construct an unconstrained MediaStreamTrack with that
                          source as its source.</p>
                          <p>Call this set of tracks the
                          <var>candidateSet</var>.</p>
                          <p>If <var>candidateSet</var> is the empty set,
                          <a href="#dfn-reject" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-reject-6">reject</a> <var>p</var> with a new
                          <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMException"><code>DOMException</code></a> object whose
                          <a data-link-type="idl" data-type="attribute" href="https://heycam.github.io/webidl/#dom-domexception-name"><code>name</code></a> attribute has the value
                          "<a data-link-type="idl" data-type="exception" href="https://heycam.github.io/webidl/#notfounderror"><code>NotFoundError</code></a>" and abort these steps.</p>
                        </li>
                        <li>If the value of the <var>kind</var> entry of
                        <var>constraints</var> is <code>true</code>, set <var>CS</var> to
                        the empty constraint set (no constraint). Otherwise,
                        continue with <var>CS</var> set to the value of the
                        <var>kind</var> entry of <var>constraints</var>.</li>
                        <li>Remove any constrainable property inside of
                        <var>CS</var> that are not defined for
                        <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-110"><code><code>MediaStreamTrack</code></code></a> objects of type
                        <var>kind</var>. This means that audio-only constraints
                        inside of <a href="#dfn-video" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-video-2"><code>"video"</code></a> and video-only constraints inside of
                        <a href="#dfn-audio" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-audio-3"><code>"audio"</code></a> are simply ignored rather than causing
                        <code>OverconstrainedError</code>.</li>
                        <li><p>If <var>CS</var> contains a member that is a
                        <a href="#dfn-required-constraints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-required-constraints-5">required constraint</a> and whose name is not in the
                        list of <a href="#dfn-allowed-required-constraints-for-device-selection" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-allowed-required-constraints-for-device-selection-1">allowed required constraints for device selection</a>,
                        then <a href="#dfn-reject" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-reject-7">reject</a> <var>p</var> with a <a data-link-type="idl" data-type="exception" href="https://heycam.github.io/webidl/#exceptiondef-typeerror"><code>TypeError</code></a>, and abort
                        these steps.</p></li>
                        <li>
                          <p>Run the <a href="#dfn-selectsettings" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-selectsettings-2">SelectSettings</a> algorithm on each
                          track in <var>candidateSet</var> with <var>CS</var>
                          as the constraint set. If the algorithm returns
                          <code>undefined</code>, remove the track from
                          <var>candidateSet</var>. This eliminates devices
                          unable to satisfy the constraints, by verifying that
                          at least one settings dictionary exists that
                          satisfies the constraints.</p>
                          <p>If <var>candidateSet</var> is the empty set, let
                          <var>failedConstraint</var>  be any
                          <a data-lt="required constraints" href="#dfn-required-constraints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-required-constraints-6">required constraint</a>
                          whose fitness distance was infinity for
                          all settings dictionaries examined while executing
                          the <a href="#dfn-selectsettings" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-selectsettings-3">SelectSettings</a> algorithm, or
                          <code>""</code> if there isn't one, and jump to the
                          step labeled <em>Constraint Failure</em> below.</p>
                          <p class="fingerprint">This error gives information
                          about what the underlying device is not capable of
                          producing, before the user has given any
                          authorization to any device, and can thus be used as
                          a fingerprinting surface.<img src="images/fingerprint.png" alt="(This is a fingerprinting vector.)" width="15" height="21"></p>
                        </li>
                        <li>
                          <p><a data-lt="reading current permission state" data-link-type="dfn" href="https://www.w3.org/TR/permissions/#reading-current-states">Read the current permission state</a> for all
                          candidate devices in <var>candidateSet</var> that are
                          not attached to a live <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-111"><code><code>MediaStreamTrack</code></code></a>
                          in the current browsing context. Remove from
                          <var>candidateSet</var> any device for which the
                          permission state is "<a data-link-type="idl" data-type="enum-value" href="https://www.w3.org/TR/permissions/#dom-permissionstate-denied"><code>denied</code></a>".</p>
                          <p>If <var>candidateSet</var> is now empty,
                          indicating that all devices of this type are in state
                          "<a data-link-type="idl" data-type="enum-value" href="https://www.w3.org/TR/permissions/#dom-permissionstate-denied"><code>denied</code></a>", jump to the step labeled
                          <em>PermissionFailure</em> below.</p>
                        </li>
                        <li>
                          <p>Optionally, e.g., based on a previously-established
                          user preference, for security reasons, or due to platform
                          limitations, jump to the step labeled <em>Permission
                          Failure</em> below.</p>
                        </li>
                        <li>
                          <p>Add all tracks from <var>candidateSet</var> to
                          <var>finalSet</var>.</p>
                        </li>
                      </ol>
                    </li>
                    <li>
                      <p>Let <var>stream</var> be a new and empty
                      <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-92"><code><code>MediaStream</code></code></a> object.</p>
                    </li>
                    <li>
                      <p>For each media type <var>kind</var> in
                      <var>requestedMediaTypes</var>, run the following sub steps,
                      preferably at the same time:</p>
                      <div class="note" role="note" id="issue-container-generatedID-14"><div role="heading" class="note-title marker" id="h-note-14" aria-level="5"><span>Note</span></div><div class="">
                        <p>User Agents are encouraged to bundle concurrent
                        requests for different kinds of media into a single
                        user-facing permission prompt.</p>
                      </div></div>
                      <ol>
                        <li>
                          <p><a data-link-type="dfn" data-type="dfn" href="https://www.w3.org/TR/permissions/#request-permission-to-use">Request permission to
                          use</a> a <a data-link-type="idl" data-type="dictionary" href="https://www.w3.org/TR/permissions/#dictdef-permissiondescriptor"><code>PermissionDescriptor</code></a> with its <a data-link-type="idl" data-type="dict-member" href="https://www.w3.org/TR/permissions/#dom-permissiondescriptor-name"><code>name</code></a> member set
                          to the permission name associated with <var>kind</var>
                          (e.g. "<a data-link-type="idl" data-type="enum-value" href="https://www.w3.org/TR/permissions/#dom-permissionname-camera"><code>camera</code></a>" for <a href="#dfn-video" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-video-3"><code>"video"</code></a>, "<a data-link-type="idl" data-type="enum-value" href="https://www.w3.org/TR/permissions/#dom-permissionname-microphone"><code>microphone</code></a>" for <a href="#dfn-audio" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-audio-4"><code>"audio"</code></a>),
                          and, optionally, consider its deviceId member set to
                          any appropriate device's <var>deviceId</var>,
                          while considering all devices attached to a
                          live and <a href="#dfn-same-permission" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-same-permission-1">same-permission</a>
                          <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-112"><code><code>MediaStreamTrack</code></code></a> in the current <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#browsing-context">browsing
                          context</a> to have permission status "<a data-link-type="idl" data-type="enum-value" href="https://www.w3.org/TR/permissions/#dom-permissionstate-granted"><code>granted</code></a>",
                          resulting in a set of provided media.
                          <dfn id="dfn-same-permission">Same-permission</dfn> in this context means a
                          <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-113"><code><code>MediaStreamTrack</code></code></a> that required the same level of
                          permission to obtain as what is being requested (e.g. not
                          isolated).</p>
                          <p>When asking the user’s permission, the User Agent
                          <em class="rfc2119">MUST</em> disclose whether permission will be granted only to
                          the device chosen, or to all devices of that
                          <var>kind</var>.</p>
                          <p>Let <var>track</var> be the provided media, which
                          <em class="rfc2119">MUST</em> be precisely one track of type <var>kind</var> from
                          <var>finalSet</var>. The decision of which track to
                          choose from the <var>finalSet</var> is completely up to
                          the User Agent and may be determined by asking the user.
                          Once selected, the source of the
                          <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-114"><code><code>MediaStreamTrack</code></code></a> <em class="rfc2119">MUST NOT</em> change.</p>
                          <p>The User Agent <em class="rfc2119">SHOULD</em> use the value of the computed
                          <a href="#dfn-fitness-distance" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-fitness-distance-1">fitness distance</a> from the <a href="#dfn-selectsettings" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-selectsettings-4">SelectSettings</a>
                          algorithm as an input to the selection algorithm.
                          However, it <em class="rfc2119">MAY</em> also use other internally-available
                          information about the devices, such as user preference.</p>
                          <p>User Agents are encouraged to default to using the
                          user's primary or system default device for <var>kind</var>
                          (when possible). User Agents
                          <em class="rfc2119">MAY</em> allow users to use any media source, including
                          pre-recorded media files.</p>
                        </li>
                        <li>
                          <p>If the user never responds, this algorithm stalls on this step.</p>
                        </li>
                        <li>
                          <p>If the result of the request is "<a data-link-type="idl" data-type="enum-value" href="https://www.w3.org/TR/permissions/#dom-permissionstate-denied"><code>denied</code></a>",
                          jump to the step labeled <em>Permission Failure</em> below.</p>
                        </li>
                        <li>
                          <p>The result of the request is "<a data-link-type="idl" data-type="enum-value" href="https://www.w3.org/TR/permissions/#dom-permissionstate-granted"><code>granted</code></a>".
                          If a hardware error such as an OS/program/webpage lock prevents access,
                          remove <var>track</var> from <var>finalSet</var>.
                          If <var>finalSet</var> has no track of type <var>kind</var>,
                          <a href="#dfn-reject" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-reject-8">reject</a> <var>p</var> with a new
                          <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMException"><code>DOMException</code></a> object whose
                          <a data-link-type="idl" data-type="attribute" href="https://heycam.github.io/webidl/#dom-domexception-name"><code>name</code></a> attribute has the value
                          "<a data-link-type="idl" data-type="exception" href="https://heycam.github.io/webidl/#notreadableerror"><code>NotReadableError</code></a>" and abort these steps.
                          Otherwise, restart these sub steps with the updated <var>finalSet</var>.</p>
                          <p>If device access fails for any reason other than those listed above,
                          remove <var>track</var> from <var>finalSet</var>.
                          If <var>finalSet</var> has no track of type <var>kind</var>,
                          <a href="#dfn-reject" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-reject-9">reject</a> <var>p</var> with a new <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMException"><code>DOMException</code></a>
                          object whose <a data-link-type="idl" data-type="attribute" href="https://heycam.github.io/webidl/#dom-domexception-name"><code>name</code></a> attribute has the
                          value "<a data-link-type="idl" data-type="exception" href="https://heycam.github.io/webidl/#aborterror"><code>AbortError</code></a>" and abort these steps.
                          Otherwise, restart these sub steps with the updated <var>finalSet</var>.</p>
                        </li>
                        <li>
                          <p>Using the granted device's deviceId, <var>deviceId</var>, set
                          <a href="#dfn-deviceslivemap" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-deviceslivemap-4">[[devicesLiveMap]]</a>[<var>deviceId</var>] to
                          <code>true</code>, if it isn’t already <code>true</code>,
                          and set the
                          <a href="#dfn-devicesaccessiblemap" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-devicesaccessiblemap-5">[[devicesAccessibleMap]]</a>[<var>deviceId</var>] to
                          <code>true</code>, if it isn’t already
                          <code>true</code>.</p>
                        </li>
                        <li>
                          <p>Add <var>track</var> to <var>stream</var>'s track set.</p>
                        </li>
                      </ol>
                    </li>
                    <li>
                      <p>Run the <a href="#dfn-applyconstraints-algorithm" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-applyconstraints-algorithm-3">ApplyConstraints algorithm</a> on all
                      tracks in <var>stream</var> with the appropriate
                      constraints. If any of them returns something other than
                      <code>undefined</code>, let <var>failedConstraint</var> be
                      that result and jump to the step labeled
                      <em>Constraint Failure</em> below.</p>
                    </li>
                    <li>
                      <p><a href="#set-device-information-exposure" class="internalDFN" data-link-type="dfn" id="ref-for-set-device-information-exposure-1">Set the device information exposure</a> to <code>true</code>.</p>
                    </li>
                    <li>
                      <p><a href="#dfn-resolve" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resolve-4">Resolve</a> <var>p</var> with <var>stream</var> and
                      abort these steps.</p>
                    </li>
                    <li>
                      <p><em>Permission Failure</em>: <a href="#dfn-reject" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-reject-10">Reject</a>
                      <var>p</var> with a new <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMException"><code>DOMException</code></a>
                      object whose <a data-link-type="idl" data-type="attribute" href="https://heycam.github.io/webidl/#dom-domexception-name"><code>name</code></a> attribute has the
                      value "<a data-link-type="idl" data-type="exception" href="https://heycam.github.io/webidl/#notallowederror"><code>NotAllowedError</code></a>".</p>
                    </li>
                    <li>
                      <p><em>Constraint Failure</em>: Let <var>message</var> be
                      either <code>undefined</code> or an informative
                      human-readable message, let <var>constraint</var> be
                      <var>failedConstraint</var> if
                      <a href="#device-information-can-be-exposed" class="internalDFN" data-link-type="dfn" id="ref-for-device-information-can-be-exposed-6">device information can be exposed</a> is
                      <code>true</code>, or <code>""</code> otherwise,
                      and then <a href="#dfn-reject" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-reject-11">reject</a>
                      <var>p</var> with a new <code>OverconstrainedError</code>
                      created by calling
                      <code>OverconstrainedError(<var>constraint</var>,
                      <var>message</var>)</code>.</p>
                    </li>
                  </ol>
                </li>
                <li>
                  <p>Return <var>p</var>.</p>
                </li>
              </ol>
            </dd>
          </dl>
        </section>
      </div>
      <div class="note" role="note" id="issue-container-generatedID-15"><div role="heading" class="note-title marker" id="h-note-15" aria-level="4"><span>Note</span></div><div class="">
        <p>In the algorithm above, constraints are checked twice - once at
        device selection, and once after access approval. Time may have passed
        between those checks, so it is conceivable that the selected device is
        no longer suitable. In this case, a NotReadableError will result.</p>
      </div></div>
      <div>
        <p>The <dfn id="dfn-allowed-required-constraints-for-device-selection">allowed required constraints for device selection</dfn>
        contains the following constraint names:
          <a href="#dfn-width" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-width-1">width</a>,
          <a href="#dfn-height" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-height-1">height</a>,
          <a href="#dfn-aspectratio" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-aspectratio-1">aspectRatio</a>,
          <a href="#dfn-framerate" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-framerate-1">frameRate</a>,
          <a href="#dfn-facingmode" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-facingmode-1">facingMode</a>,
          <a href="#dfn-resizemode" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resizemode-1">resizeMode</a>,
          <a href="#dfn-samplerate" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-samplerate-1">sampleRate</a>,
          <a href="#dfn-samplesize" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-samplesize-1">sampleSize</a>,
          <a href="#dfn-echocancellation" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-echocancellation-1">echoCancellation</a>,
          <a href="#dfn-autogaincontrol" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-autogaincontrol-1">autoGainControl</a>,
          <a href="#dfn-noisesuppression" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-noisesuppression-1">noiseSuppression</a>,
          <a href="#dfn-latency" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-latency-1">latency</a>,
          <a href="#dfn-channelcount" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-channelcount-1">channelCount</a>,
          <a href="#dfn-deviceid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-deviceid-4">deviceId</a>,
          <a href="#dfn-groupid" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-groupid-1">groupId</a>.
        </p>
      </div>

    </section>
    <section id="mediastreamconstraints">
      <h3 id="x10-3-mediastreamconstraints"><bdi class="secno">10.3 </bdi><a data-link-type="idl" href="#dom-mediastreamconstraints" class="internalDFN" id="ref-for-dom-mediastreamconstraints-5"><code><code>MediaStreamConstraints</code></code></a><a class="self-link" aria-label="§" href="#mediastreamconstraints"></a></h3>
      <p>The <dfn data-export="" data-dfn-type="dictionary" id="dom-mediastreamconstraints" data-idl="dictionary" data-title="MediaStreamConstraints" data-dfn-for=""><code>MediaStreamConstraints</code></dfn> dictionary is used to instruct
      the User Agent what sort of <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-115"><code><code>MediaStreamTrack</code></code></a>s to include in the
      <a href="#dom-mediastream" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastream-93"><code>MediaStream</code></a> returned by <a href="#dom-mediadevices-getusermedia" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediadevices-getusermedia-22"><code>getUserMedia()</code></a>.</p>
      <div>
        <pre class="idl def" id="webidl-2044375472"><span class="idlHeader"><a class="self-link" href="#webidl-2044375472">WebIDL</a></span><span data-idl="" class="idlDictionary" id="idl-def-mediastreamconstraints" data-title="MediaStreamConstraints">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-mediastreamconstraints" id="ref-for-dom-mediastreamconstraints-6"><code>MediaStreamConstraints</code></a> {<span data-idl="" class="idlMember" id="idl-def-mediastreamconstraints-video" data-title="video" data-dfn-for="MediaStreamConstraints"><span class="idlType">
  (<a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> or <a href="#dom-mediatrackconstraints" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediatrackconstraints-5"><code>MediaTrackConstraints</code></a>)</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediastreamconstraints-video" id="ref-for-dom-mediastreamconstraints-video-1"><code>video</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-mediastreamconstraints-audio" data-title="audio" data-dfn-for="MediaStreamConstraints"><span class="idlType">
  (<a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> or <a href="#dom-mediatrackconstraints" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediatrackconstraints-6"><code>MediaTrackConstraints</code></a>)</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediastreamconstraints-audio" id="ref-for-dom-mediastreamconstraints-audio-1"><code>audio</code></a> = false;</span>
};</span></pre>
        <section>
          <h4 id="dictionary-mediastreamconstraints-members">Dictionary <a class="idlType internalDFN" href="#dom-mediastreamconstraints" data-link-type="idl" id="ref-for-dom-mediastreamconstraints-7"><code>MediaStreamConstraints</code></a>
          Members<a class="self-link" aria-label="§" href="#dictionary-mediastreamconstraints-members"></a></h4>
          <dl data-link-for="MediaStreamConstraints" data-dfn-for="MediaStreamConstraints" class="dictionary-members">
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediastreamconstraints-video" data-idl="field" data-title="video" data-dfn-for="MediaStreamConstraints" data-type="boolean|MediaTrackConstraints"><code>video</code></dfn> of type <code>(<a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a> or <a data-link-type="idl" href="#dom-mediatrackconstraints" class="internalDFN" id="ref-for-dom-mediatrackconstraints-7"><code><code>MediaTrackConstraints</code></code></a>)</code>,
            defaulting to <code>false</code></dt>
            <dd>
              <p>If <code>true</code>, it requests that the returned
              <a href="#dom-mediastream" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastream-94"><code>MediaStream</code></a> contain a video track. If a <a href="#dom-constraints" class="internalDFN" data-link-type="idl" id="ref-for-dom-constraints-4"><code>Constraints</code></a>
              structure is provided, it further specifies the nature and
              settings of the video Track. If <code>false</code>, the
              <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-95"><code><code>MediaStream</code></code></a> <em class="rfc2119">MUST NOT</em> contain a video Track.</p>
            </dd>
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediastreamconstraints-audio" data-idl="field" data-title="audio" data-dfn-for="MediaStreamConstraints" data-type="boolean|MediaTrackConstraints"><code>audio</code></dfn> of type <code>(<a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a> or <a data-link-type="idl" href="#dom-mediatrackconstraints" class="internalDFN" id="ref-for-dom-mediatrackconstraints-8"><code><code>MediaTrackConstraints</code></code></a>)</code>,
            defaulting to <code>false</code></dt>
            <dd>
              <p>If <code>true</code>, it requests that the returned
              <a href="#dom-mediastream" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastream-96"><code>MediaStream</code></a> contain an audio track. If a
              <a href="#dom-constraints" class="internalDFN" data-link-type="idl" id="ref-for-dom-constraints-5"><code>Constraints</code></a> structure is provided, it further specifies
              the nature and settings of the audio Track. If
              <code>false</code>, the <a href="#dom-mediastream" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastream-97"><code>MediaStream</code></a> <em class="rfc2119">MUST NOT</em> contain an
              audio Track.</p>
            </dd>
          </dl>
        </section>
      </div>
    </section>
    <section id="navigatorusermediasuccesscallback">
      <h3 id="x10-4-navigatorusermediasuccesscallback"><bdi class="secno">10.4 </bdi><dfn data-export="" data-dfn-type="callback" id="dom-navigatorusermediasuccesscallback" data-idl="callback" data-title="NavigatorUserMediaSuccessCallback" data-dfn-for=""><code>NavigatorUserMediaSuccessCallback</code></dfn><a class="self-link" aria-label="§" href="#navigatorusermediasuccesscallback"></a></h3>
      <div>
        <pre class="idl def" id="webidl-1645394190"><span class="idlHeader"><a class="self-link" href="#webidl-1645394190">WebIDL</a></span><span data-idl="" class="idlCallback" id="idl-def-navigatorusermediasuccesscallback" data-title="NavigatorUserMediaSuccessCallback">callback <a class="internalDFN idlID" data-link-type="callback" href="#dom-navigatorusermediasuccesscallback" id="ref-for-dom-navigatorusermediasuccesscallback-2"><code>NavigatorUserMediaSuccessCallback</code></a> =<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-undefined">undefined</a></span> (<span class="idlType"><a href="#dom-mediastream" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastream-98"><code>MediaStream</code></a></span> <span class="idlParamName">stream</span>);</span></pre>
        <section>
          <h4 id="callback-navigatorusermediasuccesscallback-parameters">Callback <a class="idlType internalDFN" href="#dom-navigatorusermediasuccesscallback" data-link-type="idl" id="ref-for-dom-navigatorusermediasuccesscallback-3"><code>NavigatorUserMediaSuccessCallback</code></a>
          Parameters<a class="self-link" aria-label="§" href="#callback-navigatorusermediasuccesscallback-parameters"></a></h4>
          <dl data-link-for="NavigatorUserMediaSuccessCallback" data-dfn-for="NavigatorUserMediaSuccessCallback" class="callback-members">
            <dt>stream of type <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-99"><code><code>MediaStream</code></code></a></dt>
            <dd>
              <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-100"><code><code>MediaStream</code></code></a> object representing the stream to
              which the user granted permission as described in the <a data-link-type="idl" href="#dom-navigator" class="internalDFN" id="ref-for-dom-navigator-9"><code><code>Navigator</code></code></a>.<a data-link-type="idl" href="#dom-navigator-getusermedia" class="internalDFN" id="ref-for-dom-navigator-getusermedia-5"><code><code>getUserMedia</code></code></a>
              algorithm.
            </dd>
          </dl>
        </section>
      </div>
    </section>
    <section id="navigatorusermediaerrorcallback">
      <h3 id="x10-5-navigatorusermediaerrorcallback"><bdi class="secno">10.5 </bdi><dfn data-export="" data-dfn-type="callback" id="dom-navigatorusermediaerrorcallback" data-idl="callback" data-title="NavigatorUserMediaErrorCallback" data-dfn-for=""><code>NavigatorUserMediaErrorCallback</code></dfn><a class="self-link" aria-label="§" href="#navigatorusermediaerrorcallback"></a></h3>
      <div>
        <pre class="idl def" id="webidl-1436108300"><span class="idlHeader"><a class="self-link" href="#webidl-1436108300">WebIDL</a></span><span data-idl="" class="idlCallback" id="idl-def-navigatorusermediaerrorcallback" data-title="NavigatorUserMediaErrorCallback">callback <a class="internalDFN idlID" data-link-type="callback" href="#dom-navigatorusermediaerrorcallback" id="ref-for-dom-navigatorusermediaerrorcallback-2"><code>NavigatorUserMediaErrorCallback</code></a> =<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-undefined">undefined</a></span> (<span class="idlType"><a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMException">DOMException</a></span> <span class="idlParamName">error</span>);</span></pre>
        <section>
          <h4 id="callback-navigatorusermediaerrorcallback-parameters">Callback <a class="idlType internalDFN" href="#dom-navigatorusermediaerrorcallback" data-link-type="idl" id="ref-for-dom-navigatorusermediaerrorcallback-3"><code>NavigatorUserMediaErrorCallback</code></a>
          Parameters<a class="self-link" aria-label="§" href="#callback-navigatorusermediaerrorcallback-parameters"></a></h4>
          <dl data-link-for="NavigatorUserMediaErrorCallback" data-dfn-for="NavigatorUserMediaErrorCallback" class="callback-members">
            <dt>error of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMException"><code>DOMException</code></a></dt>
            <dd>
              Error in obtaining a <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-101"><code><code>MediaStream</code></code></a> as described
              in the failure steps of the <a data-link-type="idl" href="#dom-navigator" class="internalDFN" id="ref-for-dom-navigator-10"><code><code>Navigator</code></code></a>.<a data-link-type="idl" href="#dom-navigator-getusermedia" class="internalDFN" id="ref-for-dom-navigator-getusermedia-6"><code><code>getUserMedia</code></code></a>
              algorithm.
            </dd>
          </dl>
        </section>
      </div>
    </section>
    <section class="informative" id="implementation-suggestions">
      <h3 id="x10-6-implementation-suggestions"><bdi class="secno">10.6 </bdi>Implementation Suggestions<a class="self-link" aria-label="§" href="#implementation-suggestions"></a></h3><p><em>This section is non-normative.</em></p>
      <div class="practice advisement"><a class="marker self-link" href="#resource-reservation"><bdi lang="en">Best Practice 1</bdi></a>: <span class="practicelab" id="resource-reservation">Resource
        reservation</span>
        
        <p class="practicedesc">The User Agent is encouraged to reserve
        resources when it has determined that a given call to <a href="#dom-mediadevices-getusermedia" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediadevices-getusermedia-23"><code>getUserMedia()</code></a> will be successful. It is preferable
        to reserve the resource prior to resolving the returned promise.
        Subsequent calls to <a href="#dom-mediadevices-getusermedia" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediadevices-getusermedia-24"><code>getUserMedia()</code></a>
        (in this page or any other) should treat the resource that was
        previously allocated, as well as resources held by other applications,
        as busy. Resources marked as busy should not be provided as sources to
        the current web page, unless specified by the user. Optionally, the
        User Agent may choose to provide a stream sourced from a busy source
        but only to a page whose origin matches the owner of the original
        stream that is keeping the source busy.</p>
        <p class="practicedesc">This document recommends that in the permission
        grant dialog or device selection interface (if one is present), the
        user be allowed to select any available hardware as a source for the
        stream requested by the page (provided the resource is able to fulfill
        any specified <a href="#dfn-required-constraints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-required-constraints-7">required constraints</a>). Although not specifically
        recommended as best practice, note that some User Agents may support
        the ability to substitute a video or audio source with local files and
        other media. A file picker may be used to provide this functionality to
        the user.</p>
        <p class="practicedesc">This document also recommends that the user be
        shown all resources that are currently busy as a result of prior calls
        to <a href="#dom-mediadevices-getusermedia" id="ref-for-dom-mediadevices-getusermedia-25">getUserMedia()</a> (in this
        page or any other page that is still alive) and be allowed to terminate
        that stream and utilize the resource for the current page instead. If
        possible in the current operating environment, it is also suggested
        that resources currently held by other applications be presented and
        treated in the same manner. If the user chooses this option, the track
        corresponding to the resource that was provided to the page whose
        stream was affected must be removed.</p>
      </div>
      <div class="practice advisement"><a class="marker self-link" href="#stored-permissions" id="ref-for-stored-permissions-3"><bdi lang="en">Best Practice 2</bdi></a>: <dfn id="stored-permissions" class="practicelab">Stored
        Permission</dfn>
        s
        <p class="practicedesc">When permission is requested for a device, the
        User Agent may choose to store this permission for later use by the same origin, so that
        the user does not need to grant permission again at a later time.
        It is a User Agent choice whether it offers functionality to store
        permission to each device separately, all devices of a given class, or
        all devices; the choice needs to be apparent to the user, and
        permission must have been granted for the entire set whose permission
        is being stored, e.g., to store permission to use all cameras the user
        must have given permission to use all cameras and not just one.</p>
        <p class="practicedesc">As described, this specification does not
        dictate whether or not granting permission results in a stored
        permission. When permission is not stored, permission will last only
        until such time as all MediaStreamTracks sourced from that device have
        been stopped.</p>
      </div>
      <div class="practice advisement"><a class="marker self-link" href="#handling-devices"><bdi lang="en">Best Practice 3</bdi></a>: <span class="practicelab" id="handling-devices">Handling multiple
        devices</span>
        
        <p class="practicedesc">A <a href="#dom-mediastream" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediastream-102"><code>MediaStream</code></a> may contain more than one
        video and audio track. This makes it possible to include video from two
        or more webcams in a single stream object, for example. However, the
        current API does not allow a page to express a need for multiple video
        streams from independent sources.</p>
        <p class="practicedesc">It is recommended for multiple calls to
        <a href="#dom-mediadevices-getusermedia" id="ref-for-dom-mediadevices-getusermedia-26">getUserMedia()</a> from the
        same page to be allowed as a way for pages to request multiple discrete
        video and/or audio streams.</p>
        <p class="practicedesc">Note also that if multiple <a href="#dom-mediadevices-getusermedia" id="ref-for-dom-mediadevices-getusermedia-27">getUserMedia()</a> calls are done by a
        page, the order in which they request resources, and the order in which
        they complete, is not constrained by this specification.</p>
        <p class="practicedesc">A single call to <a href="#dom-mediadevices-getusermedia" id="ref-for-dom-mediadevices-getusermedia-28">getUserMedia()</a> will always return
        a stream with either zero or one audio tracks, and either zero or one
        video tracks. If a script calls <a href="#dom-mediadevices-getusermedia" id="ref-for-dom-mediadevices-getusermedia-29">getUserMedia()</a> multiple times
        before reaching a stable state, this document advises the UI designer
        that the permission dialogs should be merged, so that the user can give
        permission for the use of multiple cameras and/or media sources in one
        dialog interaction. The constraints on each getUserMedia call can be
        used to decide which stream gets which media sources.</p>
      </div>
      <div class="practice advisement"><a class="marker self-link" href="#generating-deviceids"><bdi lang="en">Best Practice 4</bdi></a>: <span class="practicelab" id="generating-deviceids">Generating deviceIds</span>
        
        <p class="practicedesc">An efficient practice for generating a
        <a data-link-type="idl" href="#dom-mediadeviceinfo-deviceid" class="internalDFN" id="ref-for-dom-mediadeviceinfo-deviceid-14"><code><code>deviceId</code></code></a> is to generate a cryptographic hash from
        a private key + (origin or origin + top-level origin, based on the user
        agents' partitioning rules) + salt + device's underlying (hardware) id
        in the driver, and present the resulting hash as an alphanumeric string.
        Using 32 bits or fewer for the hash is recommended, but not much lower,
        to avoid risk of collision.
        </p>
        <p class="practicedesc">A lower-entropy alternative, at the cost of
        storage, is to assign the numbers 0 through 255 randomly to each
        new device encountered for each origin or origin + top-level origin,
        based on the User Agent's partitioning rules, retiring the number that
        hasn't been seen the longest if numbers run out.</p>
      </div>
      <div class="practice advisement"><a class="marker self-link" href="#muting-devices"><bdi lang="en">Best Practice 5</bdi></a>: <span class="practicelab" id="muting-devices">Device muting initiated by User Agent</span>
        
        <p class="practicedesc">A track sourced by a camera or microphone may be
        forcibly <a data-lt="muted" href="#track-muted" class="internalDFN" data-link-type="dfn" id="ref-for-track-muted-8">muted</a> by a User Agent at any time, in order
        to manage a user's privacy. However, doing so may create web
        compatibility issues, as well as leak information about user activity, so
        caution is advised.
        </p>
        <p class="practicedesc">Best practice is to
        <a data-lt="muted" href="#track-muted" class="internalDFN" data-link-type="dfn" id="ref-for-track-muted-9">mute</a> a camera or microphone track in the following
        instances:</p>
        <ul>
          <li>
            <p>An OS-level event for which the User Agent already suspends media
            playback globally, but JavaScript is not suspended. The rationale is
            users may otherwise be surprised if capture were to continue in this
            situation (unless they've intentionally configured it this way).
            If the OS-level event already causes frames to stop coming in
            on the track, then no new information of user activity is revealed
            by this. Even when this is not the case, revealing that capture is
            ending seems like a reasonable privacy tradeoff compared to
            continuing capture in situations that may surprise users.</p>
          </li>
          <li>
            <p>A web page <a href="https://html.spec.whatwg.org/multipage/#gains-focus">without focus</a>
            <a data-lt="enabled" href="#track-enabled" class="internalDFN" data-link-type="dfn" id="ref-for-track-enabled-8">re-enables</a> a track when all tracks from that
            source are <a data-lt="enabled" href="#track-enabled" class="internalDFN" data-link-type="dfn" id="ref-for-track-enabled-9">disabled</a>, in order to delay
            resumption of capture until the page
            <a href="https://html.spec.whatwg.org/multipage/#gains-focus">gains focus</a>.
            </p>
          </li>
        </ul>
        <p class="practicedesc">Best practice is to
        <a data-lt="muted" href="#track-muted" class="internalDFN" data-link-type="dfn" id="ref-for-track-muted-10">unmute</a> a camera or microphone track it previously
        <a data-lt="muted" href="#track-muted" class="internalDFN" data-link-type="dfn" id="ref-for-track-muted-11">muted</a>, in the following instances:</p>
        <ul>
          <li>
            <p>An OS-level event for which the User Agent already resumes media
            playback globally, <em>and</em> the page is visible to the user
            (e.g. not during a lock screen). User Agents may defer such action
            if it determines significant time has passed that may jeopardize a
            user's awareness of the earlier capture session.</p>
          </li>
          <li>
            <p>A web page <a href="https://html.spec.whatwg.org/multipage/#gains-focus">gains focus</a> and
            has one or more <a data-lt="enabled" href="#track-enabled" class="internalDFN" data-link-type="dfn" id="ref-for-track-enabled-10">enabled</a> tracks that are also
            <a data-lt="muted" href="#track-muted" class="internalDFN" data-link-type="dfn" id="ref-for-track-muted-12">muted</a>.
            </p>
          </li>
        </ul>
      </div>
    </section>
  </section>
  <section id="constrainable-interface">
    <h2 id="x11-constrainable-pattern"><bdi class="secno">11. </bdi>Constrainable Pattern<a class="self-link" aria-label="§" href="#constrainable-interface"></a></h2>
    <p>The Constrainable pattern allows applications to inspect and adjust the
    properties of objects implementing it (the <dfn id="dfn-constrainable-object">constrainable
    object</dfn>). It is broken out as a separate set of definitions so that it
    can be referred to by other specifications. The core concept is the
    Capability, which consists of a constrainable property of an object and the
    set of its possible values, which may be specified either as a range or as
    an enumeration. For example, a camera might be capable of framerates (a
    property) between 20 and 50 frames per second (a range) and may be able to
    be positioned (a property) facing towards the user, away from the user, or
    to the left or right of the user (an enumerated set). The application can
    examine a constrainable property's supported Capabilities via the
    <code>getCapabilities()</code> accessor.</p>
    <p>The application can select the (range of) values it wants for an
    object's Capabilities by means of basic and/or advanced ConstraintSets and
    the <code>applyConstraints()</code> method. A ConstraintSet consists of the
    names of one or more properties of the object plus the desired value (or a
    range of desired values) for each property. Each of those property/value
    pairs can be considered to be an individual constraint. For example, the
    application may set a ConstraintSet containing two constraints, the first
    stating that the framerate of a camera be between 30 and 40 frames per
    second (a range) and the second that the camera should be facing the user
    (a specific value). How the individual constraints interact depends on
    whether and how they are given in the basic Constraint structure, which is
    a ConstraintSet with an additional 'advanced' property, or whether they are
    in a ConstraintSet in the advanced list. The behavior is as follows: all
    'min', 'max', and 'exact' constraints in the basic Constraint structure are
    together treated as the <a href="#dfn-required-constraints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-required-constraints-8">required constraints</a>, and if it is not possible
    to satisfy simultaneously all of those individual constraints for the
    indicated property names, the User Agent <em class="rfc2119">MUST</em> <a href="#dfn-reject" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-reject-12">reject</a> the returned
    promise. Otherwise, it must apply the required constraints. Next, it will
    consider any ConstraintSets given in the
    <code><a href="#dom-constraints-advanced" id="ref-for-dom-constraints-advanced-2">advanced</a></code> list, in the
    order in which they are specified, and will try to satisfy/apply each complete
    ConstraintSet (i.e., all constraints in the ConstraintSet together), but
    will skip a ConstraintSet if and only if it cannot satisfy/apply it in its
    entirety. Next, the User Agent <em class="rfc2119">MUST</em> attempt to apply, individually, any
    'ideal' constraints or a constraint given as a bare value for the property
    (referred to as <a href="#dfn-optional-basic-constraints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-optional-basic-constraints-1">optional basic constraints</a>).
    Of these properties, it <em class="rfc2119">MUST</em> satisfy the largest number that it can, in any
    order. Finally, the User Agent <em class="rfc2119">MUST</em> <a href="#dfn-resolve" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resolve-5">resolve</a> the returned
    promise.</p>
    <div class="note" role="note" id="issue-container-generatedID-16"><div role="heading" class="note-title marker" id="h-note-16" aria-level="3"><span>Note</span></div><div class="">
      Any constraint provided via this API will only be considered if the given
      constrainable property is supported by the User Agent. JavaScript
      application code is expected to first check, via
      <code>getSupportedConstraints()</code>, that all the named properties
      that are used are supported by the User Agent. The reason for this is that
      WebIDL drops any unsupported names from the dictionary holding the
      constraints, so the User Agent does not see them and the unsupported names
      end up being silently ignored. This will cause confusing programming
      errors as the JavaScript code will be setting constraints but the User Agent
      will be ignoring them. User Agents that support (recognize) the name of a
      required constraint but cannot satisfy it will generate an error, while
      User Agents that do not support the constrainable property will not generate
      an error.
    </div></div>
    <p>The following examples may help to understand how constraints work. The
    first shows a basic Constraint structure. Three constraints are given, each
    of which the User Agent will attempt to satisfy individually. Depending
    upon the resolutions available for this camera, it is possible that not all
    three constraints can be satisfied at the same time. If so, the User Agent
    will satisfy two if it can, or only one if not even two constraints can be
    satisfied together. Note that if not all three can be satisfied
    simultaneously, it is possible that there is more than one combination of
    two constraints that could be satisfied. If so, the User Agent will
    choose.</p>
    <div class="example" id="example-1">
        <div class="marker">
    <a class="self-link" href="#example-1">Example<bdi> 1</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs javascript"><span class="hljs-keyword">const</span> supports = navigator.mediaDevices.getSupportedConstraints();
<span class="hljs-keyword">if</span> (!supports.aspectRatio) {
  <span class="hljs-comment">// Treat like an error.</span>
}
<span class="hljs-keyword">const</span> constraints = {
  <span class="hljs-attr">width</span>: <span class="hljs-number">1280</span>,
  <span class="hljs-attr">height</span>: <span class="hljs-number">720</span>,
  <span class="hljs-attr">aspectRatio</span>: <span class="hljs-number">3</span>/<span class="hljs-number">2</span>
};</code></pre>
      </div>
    <p>This next example adds a small bit of complexity. The ideal values are
    still given for width and height, but this time with minimum requirements
    on each as well as a minimum frameRate that must be satisfied. If it cannot
    satisfy the frameRate, width or height minimum it will <a href="#dfn-reject" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-reject-13">reject</a> the
    promise. Otherwise, it will try to satisfy the width, height, and
    aspectRatio target values as well and then <a href="#dfn-resolve" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resolve-6">resolve</a> the promise.</p>
    <div class="example" id="example-2">
        <div class="marker">
    <a class="self-link" href="#example-2">Example<bdi> 2</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs javascript"><span class="hljs-keyword">const</span> supports = navigator.mediaDevices.getSupportedConstraints();
<span class="hljs-keyword">if</span> (!supports.aspectRatio || !supports.frameRate) {
  <span class="hljs-comment">// Treat like an error.</span>
}
<span class="hljs-keyword">const</span> constraints = {
  <span class="hljs-attr">frameRate</span>: {<span class="hljs-attr">min</span>: <span class="hljs-number">20</span>},
  <span class="hljs-attr">width</span>: {<span class="hljs-attr">min</span>: <span class="hljs-number">640</span>, <span class="hljs-attr">ideal</span>: <span class="hljs-number">1280</span>},
  <span class="hljs-attr">height</span>: {<span class="hljs-attr">min</span>: <span class="hljs-number">480</span>, <span class="hljs-attr">ideal</span>: <span class="hljs-number">720</span>},
  <span class="hljs-attr">aspectRatio</span>: <span class="hljs-number">3</span>/<span class="hljs-number">2</span>
};</code></pre>
      </div>
    <p>This example illustrates the full control possible with the Constraints
    structure by adding the 'advanced' property. In this case, the User Agent
    behaves the same way with respect to the required constraints, but before
    attempting to satisfy the ideal values it will process the 'advanced' list.
    In this example the 'advanced' list contains two ConstraintSets. The first
    specifies width and height constraints, and the second specifies an
    aspectRatio constraint. Note that in the advanced list, these bare values
    are treated as 'exact' values. This example represents the following: "I
    need my video to be at least 640 pixels wide and at least 480 pixels high.
    My preference is for precisely 1920x1280, but if you can't give me that,
    give me an aspectRatio of 4x3 if at all possible. If even that is not
    possible, give me a resolution as close to 1280x720 as possible."</p>
    <div class="example" id="example-3">
        <div class="marker">
    <a class="self-link" href="#example-3">Example<bdi> 3</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs javascript"><span class="hljs-keyword">const</span> supports = navigator.mediaDevices.getSupportedConstraints();
<span class="hljs-keyword">if</span> (!supports.width || !supports.height) {
  <span class="hljs-comment">// Treat like an error.</span>
}
<span class="hljs-keyword">const</span> constraints = {
  <span class="hljs-attr">width</span>: {<span class="hljs-attr">min</span>: <span class="hljs-number">640</span>, <span class="hljs-attr">ideal</span>: <span class="hljs-number">1280</span>},
  <span class="hljs-attr">height</span>: {<span class="hljs-attr">min</span>: <span class="hljs-number">480</span>, <span class="hljs-attr">ideal</span>: <span class="hljs-number">720</span>},
  <span class="hljs-attr">advanced</span>: [
    {<span class="hljs-attr">width</span>: <span class="hljs-number">1920</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">1280</span>},
    {<span class="hljs-attr">aspectRatio</span>: <span class="hljs-number">4</span>/<span class="hljs-number">3</span>}
  ]
};</code></pre>
      </div>
    <p>The ordering of advanced ConstraintSets is significant. In the preceding
    example it is impossible to satisfy both the 1920x1280 ConstraintSet and
    the 4x3 aspect ratio ConstraintSet at the same time. Since the 1920x1280
    occurs first in the list, the User Agent will attempt to satisfy it first.
    Application authors can therefore implement a backoff strategy by
    specifying multiple advanced ConstraintSets for the same property. For
    example, an application might specify three advanced ConstraintSets, the
    first asking for a frame rate greater than 500, the second asking for a
    frame rate greater than 400, and the third asking for one greater than 300.
    If the User Agent is capable of setting a frame rate greater than 500, it
    will (and the subsequent two ConstraintSets will be trivially satisfied).
    However, if the User Agent cannot set the frame rate above 500, it will
    skip that ConstraintSet and attempt to set the frame rate above 400. If
    that fails, it will then try to set it above 300. If the User Agent cannot
    satisfy any of the three ConstraintSets, it will set the frame rate to any
    value it can get. If the developers wanted to insist on 300 as a lower
    bound, they could provide that as a 'min' value in the basic ConstraintSet.
    In that case, the User Agent would fail altogether if it couldn't get a
    value over 300, but would choose a value over 500 if possible, then try for
    a value over 400.</p>
    <p>Note that, unlike basic constraints, the constraints within a
    ConstraintSet in the advanced list must be satisfied together or skipped
    together. Thus, {width: 1920, height: 1280} is a request for that specific
    resolution, not a request for that width or that height. One can think of
    the basic constraints as requesting an 'or' (non-exclusive) of the
    individual constraints, while each advanced ConstraintSet is requesting an
    'and' of the individual constraints in the ConstraintSet. An application
    may inspect the full set of Constraints currently in effect via the
    <code>getConstraints()</code> accessor.</p>
    <p>The specific value that the User Agent chooses for a constrainable
    property is referred to as a Setting. For example, if the application
    applies a ConstraintSet specifying that the frameRate must be at least 30
    frames per second, and no greater than 40, the Setting can be any
    intermediate value, e.g., 32, 35, or 37 frames per second. The application
    can query the current settings of the object's constrainable properties via
    the <a data-link-type="idl" data-lt="getSettings()" href="#dom-mediastreamtrack-getsettings" class="internalDFN" id="ref-for-dom-mediastreamtrack-getsettings-2"><code><code>getSettings</code></code></a><code>()</code>
    accessor.</p>
    <section id="interface-definition">
      <h3 id="x11-1-interface-definition"><bdi class="secno">11.1 </bdi>Interface Definition<a class="self-link" aria-label="§" href="#interface-definition"></a></h3>
      <p>Although this specification formally defines
      <dfn data-export="" data-dfn-type="interface" id="dom-constrainablepattern" data-idl="interface" data-title="ConstrainablePattern" data-dfn-for=""><code>ConstrainablePattern</code></dfn> as a WebIDL interface, it is actually a
      template or pattern for other interfaces and cannot be inherited directly
      since the return values of the methods need to be extended, something
      WebIDL cannot do. Thus, each interface that wishes to make use of the
      functionality defined here will have to provide its own copy of the
      WebIDL for the functions and interfaces given here. However it can refer
      to the semantics defined here, which will not change. See <a href="#media-stream-track-interface-definition">MediaStreamTrack Interface
      Definition</a> for an example of this.</p>
      <p>This pattern relies on the <a href="#dfn-constrainable-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-constrainable-object-3">constrainable object</a> defining three
      internal slots:</p>
      <ol>
        <li>
          <p>A <dfn data-dfn-type="idl" id="dfn-capabilities-0">[[Capabilities]]</dfn> internal slot, initialized to a
          <code>Capabilities</code> dictionary describing the aggregate
          allowable values for each constrainable property exposed, as
          explained under
          <a href="#dom-capabilities" id="ref-for-dom-capabilities-1">Capabilities</a>, or an empty dictionary
          if it has none.</p>
        </li>
        <li>
          <p>A <dfn data-dfn-type="idl" id="dfn-constraints">[[Constraints]]</dfn> internal slot, initialized to an
          empty <code>Constraints</code> dictionary.</p>
        </li>
        <li>
          <p>A <dfn data-dfn-type="idl" id="dfn-settings-0">[[Settings]]</dfn> internal slot, initialized to a
          <code>Settings</code> dictionary describing the currently active
          settings values for each constrainable property exposed, as
          explained under <a href="#dom-settings" id="ref-for-dom-settings-1">Settings</a>, or an empty
          dictionary if it has none.</p>
        </li>
      </ol>
      <div>
      <div class="example">Template:
        <pre class="idl def" id="webidl-396517552"><span class="idlHeader"><a class="self-link" href="#webidl-396517552">WebIDL</a></span><span data-idl="" class="idlInterface" id="idl-def-constrainablepattern" data-title="ConstrainablePattern">[<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=<a data-type="interface" href="https://html.spec.whatwg.org/multipage/window-object.html#window">Window</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-constrainablepattern" id="ref-for-dom-constrainablepattern-6"><code>ConstrainablePattern</code></a> {<span data-idl="" class="idlMethod" id="idl-def-constrainablepattern-getcapabilities" data-title="getCapabilities" data-dfn-for="ConstrainablePattern"><span class="idlType">
  <a href="#dfn-capabilities" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-capabilities-5">Capabilities</a></span>  <a class="internalDFN idlName" data-link-type="method" href="#dom-constrainablepattern-getcapabilities" id="ref-for-dom-constrainablepattern-getcapabilities-1"><code>getCapabilities</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-constrainablepattern-getconstraints" data-title="getConstraints" data-dfn-for="ConstrainablePattern"><span class="idlType">
  <a href="#dom-constraints" class="internalDFN" data-link-type="idl" id="ref-for-dom-constraints-6"><code>Constraints</code></a></span>   <a class="internalDFN idlName" data-link-type="method" href="#dom-constrainablepattern-getconstraints" id="ref-for-dom-constrainablepattern-getconstraints-3"><code>getConstraints</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-constrainablepattern-getsettings" data-title="getSettings" data-dfn-for="ConstrainablePattern"><span class="idlType">
  <a href="#dfn-settings" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-settings-6">Settings</a></span>      <a class="internalDFN idlName" data-link-type="method" href="#dom-constrainablepattern-getsettings" id="ref-for-dom-constrainablepattern-getsettings-1"><code>getSettings</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-constrainablepattern-applyconstraints-constraints" data-title="applyConstraints" data-dfn-for="ConstrainablePattern"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-promise">Promise</a>&lt;<a data-type="interface" href="https://heycam.github.io/webidl/#idl-undefined">undefined</a>&gt;</span> <dfn data-export="" data-dfn-type="method" id="dom-constrainablepattern-applyconstraints" data-idl="operation" data-title="applyConstraints" data-dfn-for="ConstrainablePattern" data-type="Promise" data-lt="applyConstraints()|applyConstraints(constraints)" data-local-lt="ConstrainablePattern.applyConstraints|ConstrainablePattern.applyConstraints()|applyConstraints" class="idlName"><code>applyConstraints</code></dfn>(optional<span class="idlType"> <a href="#dom-constraints" class="internalDFN" data-link-type="idl" id="ref-for-dom-constraints-7"><code>Constraints</code></a></span> <span class="idlParamName">constraints</span> = {});</span>
};</span></pre></div>
        <section>
          <h4 id="methods-6">Methods<a class="self-link" aria-label="§" href="#methods-6"></a></h4>
          <dl data-link-for="ConstrainablePattern" data-dfn-for="ConstrainablePattern" class="methods">
            <dt>getCapabilities</dt>
            <dd>
              <p>The <dfn data-lt="getCapabilities()" data-export="" data-dfn-type="method" id="dom-constrainablepattern-getcapabilities" data-idl="operation" data-title="getCapabilities()" data-dfn-for="ConstrainablePattern" data-type="Capabilities" data-local-lt="ConstrainablePattern.getCapabilities|ConstrainablePattern.getCapabilities()|getCapabilities"><code>getCapabilities()</code></dfn>
              method returns the dictionary of the names of the constrainable
              properties that the object supports. When invoked, the User Agent
              <em class="rfc2119">MUST</em> return the value of the <a href="#dfn-capabilities-0" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-capabilities-0-1">[[Capabilities]]</a> internal
              slot.</p>
              <div class="note" role="note" id="issue-container-generatedID-17"><div role="heading" class="note-title marker" id="h-note-17" aria-level="5"><span>Note</span></div><div class="">
                <p>It is possible that the underlying hardware may not exactly
                map to the range defined for the constrainable property. Where
                this is possible, the entry <em class="rfc2119">SHOULD</em> define how to translate and
                scale the hardware's setting onto the values defined for the
                property. For example, suppose that a hypothetical
                fluxCapacitance property ranges from -10 (min) to 10 (max), but
                there are common hardware devices that support only values of
                "off" "medium" and "full". The constrainable property
                definition might specify that for such hardware, the User Agent
                should map the range value of -10 to "off", 10 to "full", and 0
                to "medium". It might also indicate that given a ConstraintSet
                imposing a strict value of 3, the User Agent should attempt to
                set the value of "medium" on the hardware, and that
                <a data-link-type="idl" data-lt="getSettings()" href="#dom-constrainablepattern-getsettings" class="internalDFN" id="ref-for-dom-constrainablepattern-getsettings-2"><code><code>getSettings</code></code></a><code>()</code> should return a
                fluxCapacitance of 0, since that is the value defined as
                corresponding to "medium".</p>
              </div></div>
            </dd>
            <dt><a data-link-type="idl" href="#dom-constrainablepattern-getconstraints" class="internalDFN" id="ref-for-dom-constrainablepattern-getconstraints-4"><code><code>getConstraints</code></code></a></dt>
            <dd>
              <p>The <dfn data-export="" data-dfn-type="method" id="dom-constrainablepattern-getconstraints" data-idl="operation" data-title="getConstraints()" data-dfn-for="ConstrainablePattern" data-type="Constraints" data-lt="getConstraints()" data-local-lt="ConstrainablePattern.getConstraints|ConstrainablePattern.getConstraints()|getConstraints"><code>getConstraints()</code></dfn> method returns the Constraints
              that were the argument to the most recent successful invocation
              of the <a href="#dfn-applyconstraints-algorithm" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-applyconstraints-algorithm-4">ApplyConstraints algorithm</a> on the object,
              maintaining the order in which they were specified. Note that
              some of the advanced ConstraintSets returned may not be currently
              satisfied. To check which ConstraintSets are currently in effect,
              the application should use <a data-link-type="idl" href="#dom-constrainablepattern-getsettings" class="internalDFN" id="ref-for-dom-constrainablepattern-getsettings-3"><code><code>getSettings</code></code></a>. Instead of
              returning the exact constraints as described above, the UA <em class="rfc2119">MAY</em>
              return a constraint set that has the identical effect in all
              situations as the applied constraints. When invoked, the User Agent
              <em class="rfc2119">MUST</em> return the value of the <a href="#dfn-constraints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-constraints-1">[[Constraints]]</a> internal slot.
              </p>
            </dd>
            <dt>getSettings</dt>
            <dd>
              <p>The <dfn data-export="" data-dfn-type="method" id="dom-constrainablepattern-getsettings" data-idl="operation" data-title="getSettings()" data-dfn-for="ConstrainablePattern" data-type="Settings" data-lt="getSettings()" data-local-lt="ConstrainablePattern.getSettings|ConstrainablePattern.getSettings()|getSettings"><code>getSettings()</code></dfn> method returns the current
              settings of all the constrainable properties of the object,
              whether they are platform defaults or have been set by the
              <a href="#dfn-applyconstraints-algorithm" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-applyconstraints-algorithm-5">ApplyConstraints algorithm</a>. Note that a setting is a
              target value that complies with constraints, and therefore may
              differ from measured performance at times. When invoked, the User
              Agent <em class="rfc2119">MUST</em> return the value of the <a href="#dfn-settings-0" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-settings-0-1">[[Settings]]</a>
              internal slot.</p>
            </dd>
            <dt>applyConstraints</dt>
            <dd>
              <p>When the <dfn id="dfn-applyconstraints-template-method">applyConstraints template method</dfn> is invoked, the
              User Agent <em class="rfc2119">MUST</em> run the following steps:</p>
              <ol>
                <li>
                  <p>Let <var>object</var> be the object on which this method
                  was invoked.</p>
                </li>
                <li>
                  <p>Let <var>newConstraints</var> be the argument to this
                  method.</p>
                </li>
                <li>
                  <p>Let <var>p</var> be a new promise.</p>
                </li>
                <li>
                  <p>Run the following steps in parallel, maintaining the order
                  of invocations if this method is called multiple times:</p>
                  <ol>
                    <li>
                      <p>Let <var>failedConstraint</var> be the result of
                      running the <a href="#dfn-applyconstraints-algorithm" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-applyconstraints-algorithm-6">ApplyConstraints algorithm</a> with
                      <var>newConstraints</var> as the argument.</p>
                    </li>
                    <li>
                      <p>Let <var>successfulSettings</var> be the
                      <var>object</var>'s current settings after the algorithm
                      in the above step has finished.</p>
                    </li>
                    <li>
                      <p>Queue a task that runs the following steps:</p>
                      <ol>
                        <li>
                          <p>If <var>failedConstraint</var> is not
                          <code>undefined</code>, let <var>message</var> be either
                          <code>undefined</code> or an informative human-readable
                          message, <a href="#dfn-reject" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-reject-14">reject</a> <var>p</var> with a new
                          <code>OverconstrainedError</code> created by calling
                          <code>OverconstrainedError(<var>failedConstraint</var>,
                          <var>message</var>)</code>, and abort these steps. The
                          existing constraints remain in effect in this case.</p>
                        </li>
                        <li>
                          <p>Set <var>object</var>'s <a href="#dfn-constraints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-constraints-2">[[Constraints]]</a>
                          internal slot to <var>newConstraints</var> or a
                          <code>Constraints</code> dictionary that has the
                          identical effect in all situations as
                          <var>newConstraints</var>.</p>
                        </li>
                        <li>
                          <p>Set <var>object</var>'s <a href="#dfn-settings-0" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-settings-0-2">[[Settings]]</a>
                          internal slot to <var>successfulSettings</var>.</p>
                        </li>
                        <li>
                          <p><a href="#dfn-resolve" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resolve-7">Resolve</a> <var>p</var> with
                          <code>undefined</code>.</p>
                        </li>
                      </ol>
                    </li>
                  </ol>
                </li>
                <li>
                  <p>Return <var>p</var>.</p>
                </li>
              </ol>
              <p>The <a href="#dfn-applyconstraints-algorithm" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-applyconstraints-algorithm-7">ApplyConstraints algorithm</a> for applying constraints
              is stated below. Here are some preliminary definitions that are
              used in the statement of the algorithm:</p>
              <p>We use the term <dfn data-plurals="settings dictionaries" id="dfn-settings-dictionary">settings dictionary</dfn> for the set of
              values that might be applied as settings to the object.</p>
              <p>For string valued constraints, we define "==" below to be true
              if one of the values in the sequence is exactly the same as the
              value being compared against.</p>
              <p>We define the <dfn id="dfn-fitness-distance">fitness distance</dfn> between a
              <a href="#dfn-settings-dictionary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-settings-dictionary-2">settings dictionary</a> and a constraint set <var>CS</var> as
              the sum, for each member (represented by a
              <var>constraintName</var> and <var>constraintValue</var> pair)
              <a href="https://heycam.github.io/webidl/#dfn-present">present</a> in
              <var>CS</var>, of the following values:</p>
              <ol>
                <li>
                  <p>If <var>constraintName</var> is not supported by the
                  User Agent, the fitness distance is 0.</p>
                </li>
                <li>
                  <p>If the constraint is <dfn id="dfn-required">required</dfn>
                  (<var>constraintValue</var>
                  either contains one or more members named 'min', 'max', or
                  'exact', or is itself a bare value and bare values are to be
                  treated as 'exact'), and the <a href="#dfn-settings-dictionary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-settings-dictionary-3">settings dictionary</a>'s
                  value for the constraint does not satisfy the constraint, the
                  fitness distance is positive infinity.</p>
                </li>
                <li>
                  <p>If the constraint is
                  <a data-lt="required" href="#dfn-required" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-required-2">not required</a>, and does not apply for
                  this type of device, the fitness distance is 0 (that is, the
                  constraint does not influence the fitness distance).</p>
                </li>
                <li>If no ideal value is specified (<var>constraintValue</var>
                either contains no member named 'ideal', or, if bare values are
                to be treated as 'ideal', isn't a bare value), the fitness
                distance is 0.</li>
                <li>For all positive numeric constraints (such as
                height, width, frameRate, aspectRatio, sampleRate and
                sampleSize), the fitness distance is the result of the formula
                  <pre aria-busy="false"><code class="hljs">(actual == ideal) ? 0 : |actual - ideal| / max(|actual|, |ideal|)</code></pre>
                </li>
                <li>For all string, enum and boolean constraints (e.g.
                deviceId, groupId, facingMode, resizeMode, echoCancellation),
                the fitness distance is the result of the formula
                  <pre aria-busy="false"><code class="hljs">(actual == ideal) ? 0 : 1</code></pre>
                </li>
              </ol>
              <p>More definitions:</p>
              <ul>
                <li>We refer to each element of a ConstraintSet (other than the
                special term 'advanced') as a 'constraint' since it is intended
                to constrain the acceptable settings for the given property
                from the full list or range given in the corresponding
                Capability of the ConstrainablePattern object to a value that
                is within the range or list of values it specifies.</li>
                <li>We refer to the "effective Capability" C of an object O as
                the possibly proper subset of the possible values of C (as
                returned by getCapabilities) taking into consideration
                environmental limitations and/or restrictions placed by other
                constraints. For example given a ConstraintSet that constrains
                the aspectRatio, height, and width properties, the values
                assigned to any two of the properties limit the effective
                Capability of the third. The set of effective Capabilities may
                be platform dependent. For example, on a resource-limited
                device it may not be possible to set properties P1 and P2 both
                to 'high', while on another less limited device, this may be
                possible.</li>
                <li>A settings dictionary, which is a set of values for the
                constrainable properties of an object O, satisfies
                ConstraintSet CS if the <a href="#dfn-fitness-distance" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-fitness-distance-2">fitness distance</a> between the set
                and CS is less than infinity.
                </li>
                <li>A set of ConstraintSets CS1...CSn (n &gt;= 1) can be
                satisfied by an object O if it is possible to find a settings
                dictionary of O that satisfies CS1...CSn simultaneously.</li>
                <li>To apply a set of ConstraintSets CS1...CSn to object O is
                to choose such a sequence of values that satisfy CS1...CSn and
                assign them as the settings for the properties of O.</li>
              </ul>
              <p>We define the <dfn id="dfn-selectsettings">SelectSettings</dfn> algorithm as
              follows:</p>
              <ol>
                <li>Each <a href="#dfn-constraint" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-constraint-1">constraint</a> specifies one
                or more values (or a range of values) for its property. A
                property <em class="rfc2119">MAY</em> appear more than once in the list of 'advanced'
                ConstraintSets. If an empty list has been given as the value
                for a constraint, it <em class="rfc2119">MUST</em> be interpreted as if the constraint
                were not specified (in other words, an empty constraint == no
                constraint).
                  <p>Note that unknown properties are discarded by WebIDL,
                  which means that unknown/unsupported required constraints
                  will silently disappear. To avoid this being a surprise,
                  application authors are expected to first use the
                  <a data-link-type="idl" data-lt="getSupportedConstraints()" href="#dom-mediadevices-getsupportedconstraints" class="internalDFN" id="ref-for-dom-mediadevices-getsupportedconstraints-3"><code><code>getSupportedConstraints</code></code></a><code>()</code> method as shown in the
                  Examples below.</p>
                </li>
                <li>Let <var>object</var> be the
                <code><a href="#dom-constrainablepattern" class="internalDFN" data-link-type="idl" id="ref-for-dom-constrainablepattern-7"><code>ConstrainablePattern</code></a></code> object on which this
                algorithm is applied. Let <var>copy</var> be an unconstrained
                copy of <var>object</var> (i.e., <var>copy</var> should behave
                as if it were <var>object</var> with all ConstraintSets
                removed.)</li>
                <li>
                  <p>For every possible <a href="#dfn-settings-dictionary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-settings-dictionary-4">settings dictionary</a> of
                  <var>copy</var> compute its <a href="#dfn-fitness-distance" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-fitness-distance-3">fitness distance</a>, treating
                  bare values of properties as ideal values. Let
                  <var>candidates</var> be the set of <a data-lt="settings dictionary" href="#dfn-settings-dictionary" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-settings-dictionary-5">settings dictionaries</a> for which the
                  fitness distance is finite.</p>
                </li>
                <li>
                  <p>If <var>candidates</var> is empty, return
                  <code>undefined</code> as the result of the
                  <a href="#dfn-selectsettings" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-selectsettings-5">SelectSettings</a> algorithm.</p>
                </li>
                <li>Iterate over the 'advanced' ConstraintSets in
                <var>newConstraints</var> in the order in which they were
                specified. For each ConstraintSet:
                  <ol>
                    <li>
                      <p>compute the <a href="#dfn-fitness-distance" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-fitness-distance-4">fitness distance</a> between it and
                      each settings dictionary in <var>candidates</var>,
                      treating bare values of properties as exact.</p>
                    </li>
                    <li>
                      <p>If the fitness distance is finite for one or more
                      settings dictionaries in <var>candidates</var>, keep
                      those settings dictionaries in <var>candidates</var>,
                      discarding others.</p>
                      <p>If the fitness distance is infinite for all settings
                      dictionaries in <var>candidates</var>, ignore this
                      ConstraintSet.</p>
                    </li>
                  </ol>
                </li>
                <li>
                  <p>Select one settings dictionary from <var>candidates</var>,
                  and return it as the result of the <a href="#dfn-selectsettings" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-selectsettings-6">SelectSettings</a>
                  algorithm. The UA <em class="rfc2119">SHOULD</em> use the one with the smallest
                  <a href="#dfn-fitness-distance" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-fitness-distance-5">fitness distance</a>, as calculated in step 3, but
                  <em class="rfc2119">MAY</em> prefer ones with <a href="#dfn-resizemode" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-resizemode-2">resizeMode</a> set to
                  <code>"none"</code> over <code>"crop-and-scale"</code>.</p>
                </li>
              </ol>
              <p>To apply the <dfn id="dfn-applyconstraints-algorithm">ApplyConstraints algorithm</dfn> to an
              <var>object</var>, given <var>newConstraints</var> as an
              argument, the User Agent <em class="rfc2119">MUST</em> run the following steps:</p>
              <ol>
                <li>
                  <p>Let <var>successfulSettings</var> be the result of running
                  the <a href="#dfn-selectsettings" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-selectsettings-7">SelectSettings</a> algorithm with
                  <var>newConstraints</var> as the constraint set.</p>
                </li>
                <li>
                  <p>If <var>successfulSettings</var> is
                  <code>undefined</code>, let <var>failedConstraint</var> be
                  any <a data-lt="required constraints" href="#dfn-required-constraints" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-required-constraints-9">required constraint</a>
                  whose fitness distance was infinity
                  for all settings dictionaries examined while executing the
                  <a href="#dfn-selectsettings" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-selectsettings-8">SelectSettings</a> algorithm, or <code>""</code> if there
                  isn't one, and then return
                  <var>failedConstraint</var> and abort these steps.</p>
                </li>
                <li>In a single operation, remove the existing constraints from
                <var>object</var>, apply <var>newConstraints</var>, and apply
                <var>successfulSettings</var> as the current settings.</li>
                <li>Return <code>undefined</code>.</li>
              </ol>
              <div class="note" role="note" id="issue-container-generatedID-18"><div role="heading" class="note-title marker" id="h-note-18" aria-level="5"><span>Note</span></div><div class="">
                <p>Any implementation that has the same result as the algorithm
                above is an allowed implementation. For instance, the
                implementation may choose to keep track of the maximum and
                minimum values for a setting that are OK under the constraints
                considered, rather than keeping track of all possible values
                for the setting.</p>
              </div></div>
              <div class="note" role="note" id="issue-container-generatedID-19"><div role="heading" class="note-title marker" id="h-note-19" aria-level="5"><span>Note</span></div><div class="">
                <p>When picking a settings dictionary, the UA can use any
                information available to it. Examples of such information may
                be whether the selection is done as part of device selection in
                getUserMedia, whether the energy usage of the camera varies
                between the settings dictionaries, or whether using a settings
                dictionary will cause the device driver to apply
                resampling.</p>
              </div></div>
              <p>The User Agent <em class="rfc2119">MAY</em> choose new settings for the constrainable
              properties of the object at any time. When it does so it <em class="rfc2119">MUST</em>
              attempt to satisfy all current Constraints, in the manner
              described in the algorithm above, let
              <var>successfulSettings</var> be the resulting new settings, and
              queue a task to run the following steps:</p>
              <ol>
                <li>
                  <p>Let <var>object</var> be the
                  <code><a href="#dom-constrainablepattern" class="internalDFN" data-link-type="idl" id="ref-for-dom-constrainablepattern-8"><code>ConstrainablePattern</code></a></code> object on which new
                  settings for one or more constrainable properties have changed.
                  </p>
                </li>
                <li>
                  <p>Set <var>object</var>'s <a href="#dfn-settings-0" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-settings-0-3">[[Settings]]</a> internal
                  slot to <var>successfulSettings</var>.</p>
                </li>
              </ol>
            </dd>
          </dl>
        </section>
      </div>
      <p>An example of Constraints that could be passed into
      <a data-link-type="idl" data-lt="applyConstraints()" href="#dom-mediastreamtrack-applyconstraints" class="internalDFN" id="ref-for-dom-mediastreamtrack-applyconstraints-7"><code><code>applyConstraints</code></code></a><code>()</code>
      or returned as a value of <code><a href="#dom-constraints" class="internalDFN" data-link-type="idl" id="ref-for-dom-constraints-8">constraints</a></code> is below. It
      uses the <a href="#constrainable-properties">constrainable properties</a>
      defined for <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-116"><code><code>MediaStreamTrack</code></code></a>.</p>
      <div class="example" id="example-4">
        <div class="marker">
    <a class="self-link" href="#example-4">Example<bdi> 4</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs javascript"><span class="hljs-keyword">const</span> supports = navigator.mediaDevices.getSupportedConstraints();
<span class="hljs-keyword">if</span> (!supports.facingMode) {
  <span class="hljs-comment">// Treat like an error.</span>
}
<span class="hljs-keyword">const</span> constraints = {
  <span class="hljs-attr">width</span>: {<span class="hljs-attr">min</span>: <span class="hljs-number">640</span>},
  <span class="hljs-attr">height</span>: {<span class="hljs-attr">min</span>: <span class="hljs-number">480</span>},
  <span class="hljs-attr">advanced</span>: [
    {<span class="hljs-attr">width</span>: <span class="hljs-number">650</span>},
    {<span class="hljs-attr">width</span>: {<span class="hljs-attr">min</span>: <span class="hljs-number">650</span>}},
    {<span class="hljs-attr">frameRate</span>: <span class="hljs-number">60</span>},
    {<span class="hljs-attr">width</span>: {<span class="hljs-attr">max</span>: <span class="hljs-number">800</span>}},
    {<span class="hljs-attr">facingMode</span>: <span class="hljs-string">'user'</span>}
  ]
};</code></pre>
      </div>
      <p>Here is another example, specifically for a video track where I must
      have a particular camera and have separate preferences for the width and
      height:</p>
      <div class="example" id="example-5">
        <div class="marker">
    <a class="self-link" href="#example-5">Example<bdi> 5</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs javascript"><span class="hljs-keyword">const</span> supports = navigator.mediaDevices.getSupportedConstraints();
<span class="hljs-keyword">if</span> (!supports.deviceId) {
  <span class="hljs-comment">// Treat like an error.</span>
}
<span class="hljs-keyword">const</span> constraints = {
  <span class="hljs-attr">deviceId</span>: {<span class="hljs-attr">exact</span>: <span class="hljs-string">'20983-20o198-109283-098-09812'</span>},
  <span class="hljs-attr">advanced</span>: [
    {<span class="hljs-attr">width</span>: {<span class="hljs-attr">min</span>: <span class="hljs-number">800</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">1200</span>}},
    {<span class="hljs-attr">height</span>: {<span class="hljs-attr">min</span>: <span class="hljs-number">600</span>}}
  ]
};</code></pre>
      </div>
      <p>And here's one for an audio track:</p>
      <div class="example" id="example-6">
        <div class="marker">
    <a class="self-link" href="#example-6">Example<bdi> 6</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs javascript"><span class="hljs-keyword">const</span> supports = navigator.mediaDevices.getSupportedConstraints();
<span class="hljs-keyword">if</span> (!supports.deviceId || !supports.channelCount) {
  <span class="hljs-comment">// Treat like an error.</span>
}
<span class="hljs-keyword">const</span> constraints = {
  <span class="hljs-attr">advanced</span>: [
    {<span class="hljs-attr">deviceId</span>: <span class="hljs-string">'64815-wi3c89-1839dk-x82-392aa'</span>},
    {<span class="hljs-attr">channelCount</span>: <span class="hljs-number">2</span>}
  ]
};</code></pre>
      </div>
      <p>Here's an example of use of ideal:</p>
      <div class="example" id="example-7">
        <div class="marker">
    <a class="self-link" href="#example-7">Example<bdi> 7</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs javascript"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">useIdeal</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">const</span> supports = navigator.mediaDevices.getSupportedConstraints();
  <span class="hljs-keyword">if</span> (!supports.aspectRatio || !supports.facingMode) {
    <span class="hljs-comment">// Treat like an error.</span>
  }
  <span class="hljs-keyword">const</span> stream = <span class="hljs-keyword">await</span> navigator.mediaDevices.getUserMedia({
    <span class="hljs-attr">video</span>: {
      <span class="hljs-attr">width</span>: {<span class="hljs-attr">min</span>: <span class="hljs-number">320</span>, <span class="hljs-attr">ideal</span>: <span class="hljs-number">1280</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">1920</span>},
      <span class="hljs-attr">height</span>: {<span class="hljs-attr">min</span>: <span class="hljs-number">240</span>, <span class="hljs-attr">ideal</span>: <span class="hljs-number">720</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">1080</span>},
      <span class="hljs-attr">frameRate</span>: <span class="hljs-number">30</span>, <span class="hljs-comment">// Shorthand for ideal.</span>
      <span class="hljs-attr">facingMode</span>: {
        <span class="hljs-attr">exact</span>: <span class="hljs-string">'environment'</span>
        <span class="hljs-comment">// facingMode: "environment" would be optional.</span>
      }
    }
  });
}</code></pre>
      </div>
      <p>Here's an example of "I want 720p, but I can accept up to 1080p and
      down to VGA.":</p>
      <div class="example" id="example-8">
        <div class="marker">
    <a class="self-link" href="#example-8">Example<bdi> 8</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs javascript"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">constrainVideo</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">const</span> supports = navigator.mediaDevices.getSupportedConstraints();
  <span class="hljs-keyword">if</span> (!supports.width || !supports.height) {
    <span class="hljs-comment">// Treat like an error.</span>
  }
  <span class="hljs-keyword">const</span> stream = <span class="hljs-keyword">await</span> navigator.mediaDevices.getUserMedia({
    <span class="hljs-attr">video</span>: {
      <span class="hljs-attr">width</span>: {<span class="hljs-attr">min</span>: <span class="hljs-number">640</span>, <span class="hljs-attr">ideal</span>: <span class="hljs-number">1280</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">1920</span>},
      <span class="hljs-attr">height</span>: {<span class="hljs-attr">min</span>: <span class="hljs-number">480</span>, <span class="hljs-attr">ideal</span>: <span class="hljs-number">720</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">1080</span>},
    }
  });
}</code></pre>
      </div>
      <p>Here's an example of "I want a front-facing camera and it must be
      VGA.":</p>
      <div class="example" id="example-9">
        <div class="marker">
    <a class="self-link" href="#example-9">Example<bdi> 9</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs javascript"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">specifyCamera</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">const</span> supports = navigator.mediaDevices.getSupportedConstraints();
  <span class="hljs-keyword">if</span> (!supports.width || !supports.height || !supports.facingMode) {
    <span class="hljs-comment">// Treat like an error.</span>
  }
  <span class="hljs-keyword">const</span> stream = <span class="hljs-keyword">await</span> navigator.mediaDevices.getUserMedia({
    <span class="hljs-attr">video</span>: {
      <span class="hljs-attr">facingMode</span>: {<span class="hljs-attr">exact</span>: <span class="hljs-string">'user'</span>},
      <span class="hljs-attr">width</span>: {<span class="hljs-attr">exact</span>: <span class="hljs-number">640</span>},
      <span class="hljs-attr">height</span>: {<span class="hljs-attr">exact</span>: <span class="hljs-number">480</span>}
    }
  });
}</code></pre>
      </div>
    </section>
    <section id="types-for-constrainable-properties">
      <h3 id="x11-2-types-for-constrainable-properties"><bdi class="secno">11.2 </bdi>Types for Constrainable Properties<a class="self-link" aria-label="§" href="#types-for-constrainable-properties"></a></h3>
      <p>The syntax for the specification of the set of legal values depends on
      the type of the values. In addition to the standard atomic types
      (boolean, long, double, DOMString), legal values include lists of any of
      the atomic types, plus min-max ranges, as defined below.</p>
      <p>List values <em class="rfc2119">MUST</em> be interpreted as disjunctions. For example, if a
      property 'facingMode' for a camera is defined as having legal values
      ["left", "right", "user", "environment"], this means that 'facingMode'
      can have the values "left", "right", "environment", and "user". Similarly
      <a href="#dom-constraints" class="internalDFN" data-link-type="idl" id="ref-for-dom-constraints-9"><code>Constraints</code></a> restricting 'facingMode' to ["user", "left", "right"]
      would mean that the User Agent should select a camera (or point the
      camera, if that is possible) so that "facingMode" is either "user",
      "left", or "right". This Constraint would thus request that the camera
      not be facing away from the user, but would allow the User Agent to allow
      the user to choose other directions.</p>
      <div>
        <pre class="idl def" id="webidl-1305047395"><span class="idlHeader"><a class="self-link" href="#webidl-1305047395">WebIDL</a></span><span data-idl="" class="idlDictionary" id="idl-def-doublerange" data-title="DoubleRange">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-doublerange" id="ref-for-dom-doublerange-7"><code>DoubleRange</code></a> {<span data-idl="" class="idlMember" id="idl-def-doublerange-max" data-title="max" data-dfn-for="DoubleRange"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-double">double</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-doublerange-max" id="ref-for-dom-doublerange-max-1"><code>max</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-doublerange-min" data-title="min" data-dfn-for="DoubleRange"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-double">double</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-doublerange-min" id="ref-for-dom-doublerange-min-1"><code>min</code></a>;</span>
};</span></pre>
        <section>
          <h4 id="dictionary-doublerange-members">Dictionary <dfn data-export="" data-dfn-type="dictionary" id="dom-doublerange" data-idl="dictionary" data-title="DoubleRange" data-dfn-for=""><code>DoubleRange</code></dfn> Members<a class="self-link" aria-label="§" href="#dictionary-doublerange-members"></a></h4>
          <dl data-link-for="DoubleRange" data-dfn-for="DoubleRange" class="dictionary-members">
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-doublerange-max" data-idl="field" data-title="max" data-dfn-for="DoubleRange" data-type="double"><code>max</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-double"><code>double</code></a></dt>
            <dd>
              <p>The maximum legal value of this property.</p>
            </dd>
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-doublerange-min" data-idl="field" data-title="min" data-dfn-for="DoubleRange" data-type="double"><code>min</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-double"><code>double</code></a></dt>
            <dd>
              <p>The minimum value of this Property.</p>
            </dd>
          </dl>
        </section>
      </div>
      <div>
        <pre class="idl def" id="webidl-2000666622"><span class="idlHeader"><a class="self-link" href="#webidl-2000666622">WebIDL</a></span><span data-idl="" class="idlDictionary" id="idl-def-constraindoublerange" data-title="ConstrainDoubleRange">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-constraindoublerange" id="ref-for-dom-constraindoublerange-1"><code>ConstrainDoubleRange</code></a> : <span class="idlSuperclass"><a href="#dom-doublerange" class="internalDFN" data-link-type="idl" id="ref-for-dom-doublerange-8"><code>DoubleRange</code></a></span> {<span data-idl="" class="idlMember" id="idl-def-constraindoublerange-exact" data-title="exact" data-dfn-for="ConstrainDoubleRange"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-double">double</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-constraindoublerange-exact" id="ref-for-dom-constraindoublerange-exact-1"><code>exact</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-constraindoublerange-ideal" data-title="ideal" data-dfn-for="ConstrainDoubleRange"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-double">double</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-constraindoublerange-ideal" id="ref-for-dom-constraindoublerange-ideal-1"><code>ideal</code></a>;</span>
};</span></pre>
        <section>
          <h4 id="dictionary-constraindoublerange-members">Dictionary <dfn data-export="" data-dfn-type="dictionary" id="dom-constraindoublerange" data-idl="dictionary" data-title="ConstrainDoubleRange" data-dfn-for=""><code>ConstrainDoubleRange</code></dfn> Members<a class="self-link" aria-label="§" href="#dictionary-constraindoublerange-members"></a></h4>
          <dl data-link-for="ConstrainDoubleRange" data-dfn-for="ConstrainDoubleRange" class="dictionary-members">
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-constraindoublerange-exact" data-idl="field" data-title="exact" data-dfn-for="ConstrainDoubleRange" data-type="double"><code>exact</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-double"><code>double</code></a></dt>
            <dd>
              <p>The exact required value for this property.</p>
            </dd>
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-constraindoublerange-ideal" data-idl="field" data-title="ideal" data-dfn-for="ConstrainDoubleRange" data-type="double"><code>ideal</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-double"><code>double</code></a></dt>
            <dd>
              <p>The ideal (target) value for this property.</p>
            </dd>
          </dl>
        </section>
      </div>
      <div>
        <pre class="idl def" id="webidl-1217868165"><span class="idlHeader"><a class="self-link" href="#webidl-1217868165">WebIDL</a></span><span data-idl="" class="idlDictionary" id="idl-def-ulongrange" data-title="ULongRange">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-ulongrange" id="ref-for-dom-ulongrange-11"><code>ULongRange</code></a> {<span data-idl="" class="idlMember" id="idl-def-ulongrange-max" data-title="max" data-dfn-for="ULongRange">
  [<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Clamp">Clamp</a></span>]<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-ulongrange-max" id="ref-for-dom-ulongrange-max-1"><code>max</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-ulongrange-min" data-title="min" data-dfn-for="ULongRange">
  [<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Clamp">Clamp</a></span>]<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-ulongrange-min" id="ref-for-dom-ulongrange-min-1"><code>min</code></a>;</span>
};</span></pre>
        <section>
          <h4 id="dictionary-ulongrange-members">Dictionary <dfn data-export="" data-dfn-type="dictionary" id="dom-ulongrange" data-idl="dictionary" data-title="ULongRange" data-dfn-for=""><code>ULongRange</code></dfn> Members<a class="self-link" aria-label="§" href="#dictionary-ulongrange-members"></a></h4>
          <dl data-link-for="ULongRange" data-dfn-for="ULongRange" class="dictionary-members">
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-ulongrange-max" data-idl="field" data-title="max" data-dfn-for="ULongRange" data-type="unsigned long"><code>max</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long"><code>unsigned long</code></a></dt>
            <dd>
              <p>The maximum legal value of this property.</p>
            </dd>
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-ulongrange-min" data-idl="field" data-title="min" data-dfn-for="ULongRange" data-type="unsigned long"><code>min</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long"><code>unsigned long</code></a></dt>
            <dd>
              <p>The minimum value of this property.</p>
            </dd>
          </dl>
        </section>
      </div>
      <div>
        <pre class="idl def" id="webidl-1319739680"><span class="idlHeader"><a class="self-link" href="#webidl-1319739680">WebIDL</a></span><span data-idl="" class="idlDictionary" id="idl-def-constrainulongrange" data-title="ConstrainULongRange">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-constrainulongrange" id="ref-for-dom-constrainulongrange-1"><code>ConstrainULongRange</code></a> : <span class="idlSuperclass"><a href="#dom-ulongrange" class="internalDFN" data-link-type="idl" id="ref-for-dom-ulongrange-12"><code>ULongRange</code></a></span> {<span data-idl="" class="idlMember" id="idl-def-constrainulongrange-exact" data-title="exact" data-dfn-for="ConstrainULongRange">
  [<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Clamp">Clamp</a></span>]<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-constrainulongrange-exact" id="ref-for-dom-constrainulongrange-exact-1"><code>exact</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-constrainulongrange-ideal" data-title="ideal" data-dfn-for="ConstrainULongRange">
  [<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Clamp">Clamp</a></span>]<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-constrainulongrange-ideal" id="ref-for-dom-constrainulongrange-ideal-1"><code>ideal</code></a>;</span>
};</span></pre>
        <section>
          <h4 id="dictionary-constrainulongrange-members">Dictionary <dfn data-export="" data-dfn-type="dictionary" id="dom-constrainulongrange" data-idl="dictionary" data-title="ConstrainULongRange" data-dfn-for=""><code>ConstrainULongRange</code></dfn> Members<a class="self-link" aria-label="§" href="#dictionary-constrainulongrange-members"></a></h4>
          <dl data-link-for="ConstrainULongRange" data-dfn-for="ConstrainULongRange" class="dictionary-members">
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-constrainulongrange-exact" data-idl="field" data-title="exact" data-dfn-for="ConstrainULongRange" data-type="unsigned long"><code>exact</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long"><code>unsigned long</code></a></dt>
            <dd>
              <p>The exact required value for this property.</p>
            </dd>
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-constrainulongrange-ideal" data-idl="field" data-title="ideal" data-dfn-for="ConstrainULongRange" data-type="unsigned long"><code>ideal</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long"><code>unsigned long</code></a></dt>
            <dd>
              <p>The ideal (target) value for this property.</p>
            </dd>
          </dl>
        </section>
      </div>
      <div>
        <pre class="idl def" id="webidl-630267860"><span class="idlHeader"><a class="self-link" href="#webidl-630267860">WebIDL</a></span><span data-idl="" class="idlDictionary" id="idl-def-constrainbooleanparameters" data-title="ConstrainBooleanParameters">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-constrainbooleanparameters" id="ref-for-dom-constrainbooleanparameters-1"><code>ConstrainBooleanParameters</code></a> {<span data-idl="" class="idlMember" id="idl-def-constrainbooleanparameters-exact" data-title="exact" data-dfn-for="ConstrainBooleanParameters"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-constrainbooleanparameters-exact" id="ref-for-dom-constrainbooleanparameters-exact-1"><code>exact</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-constrainbooleanparameters-ideal" data-title="ideal" data-dfn-for="ConstrainBooleanParameters"><span class="idlType">
  <a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-constrainbooleanparameters-ideal" id="ref-for-dom-constrainbooleanparameters-ideal-1"><code>ideal</code></a>;</span>
};</span></pre>
        <section>
          <h4 id="dictionary-constrainbooleanparameters-members">Dictionary <dfn data-export="" data-dfn-type="dictionary" id="dom-constrainbooleanparameters" data-idl="dictionary" data-title="ConstrainBooleanParameters" data-dfn-for=""><code>ConstrainBooleanParameters</code></dfn> Members<a class="self-link" aria-label="§" href="#dictionary-constrainbooleanparameters-members"></a></h4>
          <dl data-link-for="ConstrainBooleanParameters" data-dfn-for="ConstrainBooleanParameters" class="dictionary-members">
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-constrainbooleanparameters-exact" data-idl="field" data-title="exact" data-dfn-for="ConstrainBooleanParameters" data-type="boolean"><code>exact</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a></dt>
            <dd>
              <p>The exact required value for this property.</p>
            </dd>
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-constrainbooleanparameters-ideal" data-idl="field" data-title="ideal" data-dfn-for="ConstrainBooleanParameters" data-type="boolean"><code>ideal</code></dfn> of type <a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean"><code>boolean</code></a></dt>
            <dd>
              <p>The ideal (target) value for this property.</p>
            </dd>
          </dl>
        </section>
      </div>
      <div>
        <pre class="idl def" id="webidl-2128815303"><span class="idlHeader"><a class="self-link" href="#webidl-2128815303">WebIDL</a></span><span data-idl="" class="idlDictionary" id="idl-def-constraindomstringparameters" data-title="ConstrainDOMStringParameters">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-constraindomstringparameters" id="ref-for-dom-constraindomstringparameters-1"><code>ConstrainDOMStringParameters</code></a> {<span data-idl="" class="idlMember" id="idl-def-constraindomstringparameters-exact" data-title="exact" data-dfn-for="ConstrainDOMStringParameters"><span class="idlType">
  (<a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> or <a data-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence">sequence</a>&lt;<a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>&gt;)</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-constraindomstringparameters-exact" id="ref-for-dom-constraindomstringparameters-exact-1"><code>exact</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-constraindomstringparameters-ideal" data-title="ideal" data-dfn-for="ConstrainDOMStringParameters"><span class="idlType">
  (<a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> or <a data-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence">sequence</a>&lt;<a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>&gt;)</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-constraindomstringparameters-ideal" id="ref-for-dom-constraindomstringparameters-ideal-1"><code>ideal</code></a>;</span>
};</span></pre>
        <section>
          <h4 id="dictionary-constraindomstringparameters-members">Dictionary <dfn data-export="" data-dfn-type="dictionary" id="dom-constraindomstringparameters" data-idl="dictionary" data-title="ConstrainDOMStringParameters" data-dfn-for=""><code>ConstrainDOMStringParameters</code></dfn> Members<a class="self-link" aria-label="§" href="#dictionary-constraindomstringparameters-members"></a></h4>
          <dl data-link-for="ConstrainDOMStringParameters" data-dfn-for="ConstrainDOMStringParameters" class="dictionary-members">
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-constraindomstringparameters-exact" data-idl="field" data-title="exact" data-dfn-for="ConstrainDOMStringParameters" data-type="DOMString|sequence"><code>exact</code></dfn> of type <code>(<a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><code>DOMString</code></a> or
            sequence&lt;<a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><code>DOMString</code></a>&gt;)</code></dt>
            <dd>
              <p>The exact required value for this property.</p>
            </dd>
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-constraindomstringparameters-ideal" data-idl="field" data-title="ideal" data-dfn-for="ConstrainDOMStringParameters" data-type="DOMString|sequence"><code>ideal</code></dfn> of type <code>(<a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><code>DOMString</code></a> or
            sequence&lt;<a data-link-type="idl" data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString"><code>DOMString</code></a>&gt;)</code></dt>
            <dd>
              <p>The ideal (target) value for this property.</p>
            </dd>
          </dl>
        </section>
      </div>
      <div>
        <pre class="idl def" id="webidl-14693557"><span class="idlHeader"><a class="self-link" href="#webidl-14693557">WebIDL</a></span><span data-idl="" class="idlTypedef" id="idl-def-constrainulong" data-title="ConstrainULong">typedef<span class="idlType"> ([<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Clamp">Clamp</a></span>] <a data-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long">unsigned long</a> or <a href="#dom-constrainulongrange" class="internalDFN" data-link-type="idl" id="ref-for-dom-constrainulongrange-2"><code>ConstrainULongRange</code></a>)</span> <a class="internalDFN idlID" data-link-type="typedef" href="#dom-constrainulong" id="ref-for-dom-constrainulong-16"><code>ConstrainULong</code></a>;</span></pre>
        <div class="idlTypedefDesc">
          Throughout this specification, the identifier
          <dfn data-export="" data-dfn-type="typedef" id="dom-constrainulong" data-idl="typedef" data-title="ConstrainULong" data-dfn-for=""><code>ConstrainULong</code></dfn> is used to refer to the <span class="idlTypedefType">([Clamp] unsigned long or
          ConstrainULongRange)</span> type.
        </div>
      </div>
      <div>
        <pre class="idl def" id="webidl-206140352"><span class="idlHeader"><a class="self-link" href="#webidl-206140352">WebIDL</a></span><span data-idl="" class="idlTypedef" id="idl-def-constraindouble" data-title="ConstrainDouble">typedef<span class="idlType"> (<a data-type="interface" href="https://heycam.github.io/webidl/#idl-double">double</a> or <a href="#dom-constraindoublerange" class="internalDFN" data-link-type="idl" id="ref-for-dom-constraindoublerange-2"><code>ConstrainDoubleRange</code></a>)</span> <a class="internalDFN idlID" data-link-type="typedef" href="#dom-constraindouble" id="ref-for-dom-constraindouble-10"><code>ConstrainDouble</code></a>;</span></pre>
        <div class="idlTypedefDesc">
          Throughout this specification, the identifier
          <dfn data-export="" data-dfn-type="typedef" id="dom-constraindouble" data-idl="typedef" data-title="ConstrainDouble" data-dfn-for=""><code>ConstrainDouble</code></dfn> is used to refer to the <span class="idlTypedefType">(double or ConstrainDoubleRange)</span> type.
        </div>
      </div>
      <div>
        <pre class="idl def" id="webidl-550440922"><span class="idlHeader"><a class="self-link" href="#webidl-550440922">WebIDL</a></span><span data-idl="" class="idlTypedef" id="idl-def-constrainboolean" data-title="ConstrainBoolean">typedef<span class="idlType"> (<a data-type="interface" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a> or <a href="#dom-constrainbooleanparameters" class="internalDFN" data-link-type="idl" id="ref-for-dom-constrainbooleanparameters-2"><code>ConstrainBooleanParameters</code></a>)</span> <a class="internalDFN idlID" data-link-type="typedef" href="#dom-constrainboolean" id="ref-for-dom-constrainboolean-10"><code>ConstrainBoolean</code></a>;</span></pre>
        <div class="idlTypedefDesc">
          Throughout this specification, the identifier
          <dfn data-export="" data-dfn-type="typedef" id="dom-constrainboolean" data-idl="typedef" data-title="ConstrainBoolean" data-dfn-for=""><code>ConstrainBoolean</code></dfn> is used to refer to the <span class="idlTypedefType">(boolean or ConstrainBooleanParameters)</span> type.
        </div>
      </div>
      <div>
        <pre class="idl def" id="webidl-1617827164"><span class="idlHeader"><a class="self-link" href="#webidl-1617827164">WebIDL</a></span><span data-idl="" class="idlTypedef" id="idl-def-constraindomstring" data-title="ConstrainDOMString">typedef<span class="idlType"> (<a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a> or
         <a data-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence">sequence</a>&lt;<a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a>&gt; or
         <a href="#dom-constraindomstringparameters" class="internalDFN" data-link-type="idl" id="ref-for-dom-constraindomstringparameters-2"><code>ConstrainDOMStringParameters</code></a>)</span> <a class="internalDFN idlID" data-link-type="typedef" href="#dom-constraindomstring" id="ref-for-dom-constraindomstring-11"><code>ConstrainDOMString</code></a>;</span></pre>
        <div class="idlTypedefDesc">
          Throughout this specification, the identifier
          <dfn data-export="" data-dfn-type="typedef" id="dom-constraindomstring" data-idl="typedef" data-title="ConstrainDOMString" data-dfn-for=""><code>ConstrainDOMString</code></dfn> is used to refer to the <span class="idlTypedefType">(DOMString or sequence&lt;DOMString&gt; or
          ConstrainDOMStringParameters)</span> type.
        </div>
      </div>
    </section>
    <section id="capabilities">
      <h3 id="x11-3-capabilities"><bdi class="secno">11.3 </bdi>Capabilities<a class="self-link" aria-label="§" href="#capabilities"></a></h3>
      <p><dfn data-dfn-type="dictionary" data-export="" id="dom-capabilities" data-idl="dictionary" data-title="Capabilities" data-dfn-for=""><code>Capabilities</code></dfn> is a dictionary containing one or more
      key-value pairs, where each key <em class="rfc2119">MUST</em> be a constrainable property, and
      each value <em class="rfc2119">MUST</em> be a subset of the set of values allowed for that
      property. The exact syntax of the value expression depends on the type of
      the property. The Capabilities dictionary specifies which constrainable
      properties that can be applied, as constraints, to the <a href="#dfn-constrainable-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-constrainable-object-4">constrainable
      object</a>. Note that the Capabilities of a <a href="#dfn-constrainable-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-constrainable-object-5">constrainable object</a>
      <em class="rfc2119">MAY</em> be a subset of the properties defined in the Web platform, with a
      subset of the set values for those properties. Note that Capabilities are
      returned from the User Agent to the application, and cannot be specified
      by the application. However, the application can control the Settings
      that the User Agent chooses for constrainable properties by means of
      Constraints.</p>
      <p>An example of a Capabilities dictionary is shown below. In this case,
      the <a href="#dfn-constrainable-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-constrainable-object-6">constrainable object</a> is a video source with a very limited set
      of Capabilities.</p>
      <div class="example" id="example-10">
        <div class="marker">
    <a class="self-link" href="#example-10">Example<bdi> 10</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs css">{
  <span class="hljs-attribute">frameRate</span>: {min: <span class="hljs-number">1.0</span>, max: <span class="hljs-number">60.0</span>},
  <span class="hljs-selector-tag">facingMode</span>: <span class="hljs-selector-attr">[<span class="hljs-string">'user'</span>, <span class="hljs-string">'left'</span>]</span>
}</code></pre>
      </div>
      <p>The next example below points out that capabilities for range values
      provide ranges for individual constrainable properties, not combinations.
      This is particularly relevant for video width and height, since the
      ranges for width and height are reported separately. In the example, if
      the <a href="#dfn-constrainable-object" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-constrainable-object-7">constrainable object</a> can only provide 640x480 and 800x600
      resolutions the relevant capabilities returned would be:</p>
      <div class="example" id="example-11">
        <div class="marker">
    <a class="self-link" href="#example-11">Example<bdi> 11</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs">{
  width: {min: 640, max: 800},
  height: {min: 480, max: 600},
  aspectRatio: 4/3
}</code></pre>
      </div>
      <p>Note in the example above that the aspectRatio would make clear that
      arbitrary combination of widths and heights are not possible, although it
      would still suggest that more than two resolutions were available.</p>A
      specification using the Constrainable Pattern should not subclass the
      below dictionary, but instead provide its own definition. See
      <a data-link-type="idl" href="#dom-mediatrackcapabilities" class="internalDFN" id="ref-for-dom-mediatrackcapabilities-7"><code><code>MediaTrackCapabilities</code></code></a> for an example.
      <div>
        <pre class="idl def" id="webidl-1716666343"><span class="idlHeader"><a class="self-link" href="#webidl-1716666343">WebIDL</a></span><span data-idl="" class="idlDictionary" id="idl-def-capabilities" data-title="Capabilities">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-capabilities" id="ref-for-dom-capabilities-2"><code>Capabilities</code></a> {};</span></pre>
      </div>
    </section>
    <section id="settings">
      <h3 id="x11-4-settings"><bdi class="secno">11.4 </bdi>Settings<a class="self-link" aria-label="§" href="#settings"></a></h3>
      <p><dfn data-export="" data-dfn-type="dictionary" id="dom-settings" data-idl="dictionary" data-title="Settings" data-dfn-for=""><code>Settings</code></dfn> is a dictionary containing one or more key-value
      pairs. It <em class="rfc2119">MUST</em> contain each key returned in
      <code>getCapabilities()</code> for which the property is defined on the
      object type it's returned on; for instance, an audio
      <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-117"><code><code>MediaStreamTrack</code></code></a> has no "width" property. There <em class="rfc2119">MUST</em>
      be a single value for each key and the value <em class="rfc2119">MUST</em> be a member of the set
      defined for that property by <code>getCapabilities()</code>. The
      <code>Settings</code> dictionary contains the actual values that the User
      Agent has chosen for the object's constrainable properties. The exact
      syntax of the value depends on the type of the property.</p>
      <p>A conforming User Agent <em class="rfc2119">MUST</em> support all the constrainable properties
      defined in this specification.</p>
      <p>An example of a Settings dictionary is shown below. This example is
      not very realistic in that a User Agent would actually be required to
      support more constrainable properties than just these.</p>
      <div class="example" id="example-12">
        <div class="marker">
    <a class="self-link" href="#example-12">Example<bdi> 12</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs css">{
  <span class="hljs-attribute">frameRate</span>: <span class="hljs-number">30.0</span>,
  facingMode: <span class="hljs-string">'user'</span>
}</code></pre>
      </div>A specification using the Constrainable Pattern should not subclass
the below dictionary, but instead provide its own definition. See <code><a href="#dom-mediatracksettings" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediatracksettings-7"><code>
      MediaTrackSettings</code></a></code> for an example.
      <div>
        <pre class="idl def" id="webidl-1939026694"><span class="idlHeader"><a class="self-link" href="#webidl-1939026694">WebIDL</a></span><span data-idl="" class="idlDictionary" id="idl-def-settings" data-title="Settings">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-settings" id="ref-for-dom-settings-2"><code>Settings</code></a> {};</span></pre>
      </div>
    </section>
    <section id="constraints">
      <h3 id="x11-5-constraints-and-constraintset"><bdi class="secno">11.5 </bdi><dfn id="dfn-constraints-and-constraintset">Constraints and ConstraintSet</dfn><a class="self-link" aria-label="§" href="#constraints"></a></h3>
      <p>Due to the limitations of WebIDL, interfaces implementing the
      Constrainable Pattern cannot simply subclass Constraints and
      ConstraintSet as they are defined here. Instead they must provide their
      own definitions that follow this pattern. See <a href="#media-track-constraints">MediaTrackConstraints</a> for an example of
      this.</p>
      <div>
        <pre class="idl def" id="webidl-168034668"><span class="idlHeader"><a class="self-link" href="#webidl-168034668">WebIDL</a></span><span data-idl="" class="idlDictionary" id="idl-def-constraintset" data-title="ConstraintSet">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-constraintset" id="ref-for-dom-constraintset-3"><code>ConstraintSet</code></a> {};</span></pre>
      </div>
      <p>Each member of a <dfn data-export="" data-dfn-type="dictionary" id="dom-constraintset" data-idl="dictionary" data-title="ConstraintSet" data-dfn-for=""><code>ConstraintSet</code></dfn> corresponds to a
      constrainable property and specifies a subset of the property's legal
      Capability values. Applying a ConstraintSet instructs the User Agent to
      restrict the settings of the corresponding constrainable properties to
      the specified values or ranges of values. A given property <em class="rfc2119">MAY</em> occur both
      in the basic Constraints set and in the advanced ConstraintSets list, and
      <em class="rfc2119">MAY</em> occur at most once in each ConstraintSet in the advanced list.</p>
      <div>
        <pre class="idl def" id="webidl-26239275"><span class="idlHeader"><a class="self-link" href="#webidl-26239275">WebIDL</a></span><span data-idl="" class="idlDictionary" id="idl-def-constraints" data-title="Constraints">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-constraints" id="ref-for-dom-constraints-10"><code>Constraints</code></a> : <span class="idlSuperclass"><a href="#dom-constraintset" class="internalDFN" data-link-type="idl" id="ref-for-dom-constraintset-4"><code>ConstraintSet</code></a></span> {<span data-idl="" class="idlMember" id="idl-def-constraints-advanced" data-title="advanced" data-dfn-for="Constraints"><span class="idlType">
  <a data-type="dfn" href="https://heycam.github.io/webidl/#idl-sequence">sequence</a>&lt;<a href="#dom-constraintset" class="internalDFN" data-link-type="idl" id="ref-for-dom-constraintset-5"><code>ConstraintSet</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-constraints-advanced" id="ref-for-dom-constraints-advanced-3"><code>advanced</code></a>;</span>
};</span></pre>
        <section>
          <h4 id="dictionary-constraints-members">Dictionary <dfn data-export="" data-dfn-type="dictionary" id="dom-constraints" data-idl="dictionary" data-title="Constraints" data-dfn-for=""><code>Constraints</code></dfn> Members<a class="self-link" aria-label="§" href="#dictionary-constraints-members"></a></h4>
          <dl data-link-for="Constraints" data-dfn-for="Constraints" class="dictionary-members">
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-constraints-advanced" data-idl="field" data-title="advanced" data-dfn-for="Constraints" data-type="sequence"><code>advanced</code></dfn> of type <span class="idlMemberType">sequence&lt;<a href="#dom-constraintset" class="internalDFN" data-link-type="idl" id="ref-for-dom-constraintset-6"><code>ConstraintSet</code></a>&gt;</span></dt>
            <dd>
              <p>This is the list of ConstraintSets that the User Agent <em class="rfc2119">MUST</em>
              attempt to satisfy, in order, skipping only those that cannot be
              satisfied. The order of these ConstraintSets is significant. In
              particular, when they are passed as an argument to
              <code>applyConstraints</code>, the User Agent <em class="rfc2119">MUST</em> try to satisfy
              them in the order that is specified. Thus if advanced
              ConstraintSets C1 and C2 can be satisfied individually, but not
              together, then whichever of C1 and C2 is first in this list will
              be satisfied, and the other will not. The User Agent <em class="rfc2119">MUST</em> attempt
              to satisfy all ConstraintSets in the list, even if some cannot be
              satisfied. Thus, in the preceding example, if constraint C3 is
              specified after C1 and C2, the User Agent will attempt to satisfy
              C3 even though C2 cannot be satisfied. Note that a given property
              name may occur only once in each ConstraintSet but may occur in
              more than one ConstraintSet.</p>
            </dd>
          </dl>
        </section>
      </div>
    </section>
  </section>
  <section id="examples">
    <h2 id="x12-examples"><bdi class="secno">12. </bdi>Examples<a class="self-link" aria-label="§" href="#examples"></a></h2>
    <div>
      <p>This sample code exposes a button. When clicked, the button is
      disabled and the user is prompted to offer a stream. The user can cause
      the button to be re-enabled by providing a stream (e.g., giving the page
      access to the local camera) and then disabling the stream (e.g., revoking
      that access).</p>
      <div class="example" id="example-13">
        <div class="marker">
    <a class="self-link" href="#example-13">Example<bdi> 13</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"startBtn"</span>&gt;</span>Start<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> startBtn = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'startBtn'</span>);

startBtn.onclick = <span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">try</span> {
    startBtn.disabled = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">const</span> constraints = {
      <span class="hljs-attr">audio</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">video</span>: <span class="hljs-literal">true</span>
    };

    <span class="hljs-keyword">const</span> stream = <span class="hljs-keyword">await</span> navigator.mediaDevices.getUserMedia(constraints);

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> track <span class="hljs-keyword">of</span> stream.getTracks()) {
      track.onended = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        startBtn.disabled = stream.getTracks().some(<span class="hljs-function">(<span class="hljs-params">t</span>) =&gt;</span> t.readyState == <span class="hljs-string">'live'</span>);
      };
    }
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-built_in">console</span>.error(err);
  }
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
      </div>
    </div>
    <div>
      <p>This example allows people to take photos of themselves from the local
      video camera. Note that the Image Capture specification [<cite><a class="bibref" data-link-type="biblio" href="#bib-image-capture" title="&quot;MediaStream Image Capture&quot;">image-capture</a></cite>]
      provides a simpler way to accomplish this.</p>
      <div class="example" id="example-14">
        <div class="marker">
    <a class="self-link" href="#example-14">Example<bdi> 14</bdi></a>
  </div> <pre aria-busy="false"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-built_in">window</span>.onload = <span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> video = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'monitor'</span>);
  <span class="hljs-keyword">const</span> canvas = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'photo'</span>);
  <span class="hljs-keyword">const</span> shutter = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'shutter'</span>);

  <span class="hljs-keyword">try</span> {
    video.srcObject = <span class="hljs-keyword">await</span> navigator.mediaDevices.getUserMedia({<span class="hljs-attr">video</span>: <span class="hljs-literal">true</span>});

    <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> video.onloadedmetadata = resolve);
    canvas.width = video.videoWidth;
    canvas.height = video.videoHeight;
    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'splash'</span>).hidden = <span class="hljs-literal">true</span>;
    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'app'</span>).hidden = <span class="hljs-literal">false</span>;

    shutter.onclick = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> canvas.getContext(<span class="hljs-string">'2d'</span>).drawImage(video, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-built_in">console</span>.error(err);
  }
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Snapshot Kiosk<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"splash"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"errorMessage"</span>&gt;</span>Loading...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span> <span class="hljs-attr">hidden</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"monitor"</span> <span class="hljs-attr">autoplay</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">video</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"shutter"</span>&gt;</span><span class="hljs-symbol">&amp;#x1F4F7;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"photo"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></code></pre>
      </div>
    </div>
  </section>
  <section id="permissions-policy-integration-0">
    <h2 id="permissions-policy-integration"><bdi class="secno">13. </bdi>Permissions Policy Integration<a class="self-link" aria-label="§" href="#permissions-policy-integration"></a></h2>
    <p>This specification defines two <a data-link-type="dfn" data-type="dfn" href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">policy-controlled feature</a>s
    identified by the strings
    <code><dfn id="dfn-camera">"camera"</dfn></code> and
    <code><dfn id="dfn-microphone">"microphone"</dfn></code>.
    Both have a <a data-link-type="dfn" data-type="dfn" href="https://www.w3.org/TR/permissions-policy-1/#default-allowlist">default allowlist</a> of <code class="permissionspolicy">"self"</code>.
    </p><div class="note" role="note" id="issue-container-generatedID-20"><div role="heading" class="note-title marker" id="h-note-20" aria-level="3"><span>Note</span></div><div class="">
      <p>A <a data-link-type="dfn" data-type="dfn" href="https://dom.spec.whatwg.org/#concept-document">document</a>'s <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-document-permissions-policy">permissions policy</a>
      determines whether any content in that document is allowed to use
      <a data-link-type="idl" href="#dom-mediadevices-getusermedia" class="internalDFN" id="ref-for-dom-mediadevices-getusermedia-30"><code><code>getUserMedia</code></code></a> to request camera or microphone respectively. If
      disabled in any document, no content in the document will be <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">allowed to use</a>
      <a data-link-type="idl" href="#dom-mediadevices-getusermedia" class="internalDFN" id="ref-for-dom-mediadevices-getusermedia-31"><code><code>getUserMedia</code></code></a> to request the camera or microphone
      respectively. This is enforced by the <a data-link-type="dfn" data-type="dfn" href="https://www.w3.org/TR/permissions/#request-permission-to-use">request permission to use</a>
      algorithm.
      </p>
      <p>Additionally, <a data-link-type="idl" href="#dom-mediadevices-enumeratedevices" class="internalDFN" id="ref-for-dom-mediadevices-enumeratedevices-10"><code><code>enumerateDevices</code></code></a> will only enumerate devices
      the document is <a data-link-type="dfn" data-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">allowed to use</a>.</p>
    </div></div>
  </section>
  <section id="privacy-indicator-requirements">
    <h2 id="x14-privacy-indicator-requirements"><bdi class="secno">14. </bdi>Privacy Indicator Requirements<a class="self-link" aria-label="§" href="#privacy-indicator-requirements"></a></h2>
    <p>For each <var>kind</var> of device that <a href="#dom-mediadevices-getusermedia" class="internalDFN" data-link-type="idl" id="ref-for-dom-mediadevices-getusermedia-32"><code>getUserMedia()</code></a> exposes,</p>
    <ul>
      <li>Define <var>any&lt;kind&gt;Accessible</var> (e.g.
      <var>anyAudioAccessible</var>, <var>anyVideoAccessible</var>) as the
      logical OR of the <a href="#dfn-kindsaccessiblemap" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-kindsaccessiblemap-4">[[kindsAccessibleMap]]</a><var>[kind]</var> value and all
      the <a href="#dfn-devicesaccessiblemap" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-devicesaccessiblemap-6">[[devicesAccessibleMap]]</a><var>[deviceId]</var> values for devices of
      that kind.</li>
      <li>Define any<var>&lt;kind&gt;Live</var> (e.g. <var>anyAudioLive</var>,
      <var>anyVideoLive</var>) to be the logical OR of the
      <a href="#dfn-kindsaccessiblemap" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-kindsaccessiblemap-5">[[kindsAccessibleMap]]</a><var>[kind]</var> value and all the
      <a href="#dfn-deviceslivemap" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-deviceslivemap-5">[[devicesLiveMap]]</a><var>[deviceId]</var> values for devices of that
      kind.</li>
    </ul>
    <p>Define <var>anyAccessible</var> to be the logical OR of all
    <var>any&lt;kind&gt;Accessible</var> values.</p>
    <p>Define <var>anyLive</var> to be the logical OR of all
    <var>any&lt;kind&gt;Live</var> values.</p>
    <p>Then the following are requirements on the User Agent:</p>
    <ul>
      <li>The User Agent <em class="rfc2119">MUST</em> indicate to the user when the value of
      <var>anyAccessible</var> changes.</li>
      <li>The User Agent <em class="rfc2119">MUST</em> indicate to the user when the value of
      <var>anyLive</var> changes.</li>
      <li>If the User Agent provides indication to the user per
      <var>kind</var>, then for each <var>any&lt;kind&gt;Accessible</var> value
      and <var>any&lt;kind&gt;Live</var> value, it <em class="rfc2119">MUST</em> at minimum indicate
      when the value changes.</li>
      <li>If the User Agent provides indication to the user per
      <var>device</var>, then for each
      <a href="#dfn-devicesaccessiblemap" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-devicesaccessiblemap-7">[[devicesAccessibleMap]]</a><var>[deviceId]</var> value and
      <a href="#dfn-deviceslivemap" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-deviceslivemap-6">[[devicesLiveMap]]</a><var>[deviceId]</var> value, it <em class="rfc2119">MUST</em> at minimum
      indicate when the value changes.</li>
      <li>Any false-to-true transition indicated <em class="rfc2119">MUST</em> remain observable for a
      sufficient time that a reasonably-observant user could become aware of
      it. This <em class="rfc2119">SHOULD</em> be at least 3 seconds.</li>
      <li>Any of the above transition indications <em class="rfc2119">MAY</em> be combined as long as
      the combined indication cannot transition to false if any of its
      component indications are still true.</li>
    </ul>
    <p>and the following are encouraged behaviors for the User Agent:</p>
    <ul>
      <li>The User Agent is encouraged to provide ongoing indication of the
      current state of <var>anyAccessible</var>.</li>
      <li>The User Agent is encouraged to provide ongoing indication of the
      current state of <var>anyLive</var> and to make any generic hardware
      device indicator light match.</li>
      <li>If the User Agent provides indication to the user per
      <var>kind</var>, then for each any<var>&lt;kind&gt;Accessible</var> value
      and any<var>&lt;kind&gt;Live</var> value, it is encouraged to provide
      ongoing indication of the current state of the value. It is also
      encouraged to make any device-type-specific hardware indicator light
      match the corresponding any<var>&lt;kind&gt;Live</var> value.</li>
      <li>If the User Agent provides indication to the user per
      <var>device</var>, then for each
      <a href="#dfn-devicesaccessiblemap" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-devicesaccessiblemap-8">[[devicesAccessibleMap]]</a><var>[deviceId]</var> value and
      <a href="#dfn-deviceslivemap" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-deviceslivemap-7">[[devicesLiveMap]]</a><var>[deviceId]</var> value, it is encouraged to
      provide ongoing indication of the current state of the value. It is also
      encouraged to make any device-specific hardware indicator light match the
      corresponding <a href="#dfn-deviceslivemap" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-deviceslivemap-8">[[devicesLiveMap]]</a><var>[deviceId]</var> value.</li>
      <li>Any of the above ongoing indications <em class="rfc2119">MAY</em> be used instead of the
      corresponding required transition indication provided the false-to-true
      transition requirement is met.</li>
    </ul>
  </section>
  <section id="privacy-and-security-considerations">
    <h2 id="x15-privacy-and-security-considerations"><bdi class="secno">15. </bdi>Privacy and Security Considerations<a class="self-link" aria-label="§" href="#privacy-and-security-considerations"></a></h2>
    <p>This section is non-normative; it specifies no new behavior, but instead
    summarizes information already present in other parts of the
    specification.</p>
    <p>This document extends the Web platform with the ability to manage input
    devices for media - in this iteration, microphones, and cameras. It also
    allows the manipulation of audio output devices (speakers and headphones).
    Capturing audio and video exposes personally-identifiable information to
    applications, and this specification requires obtaining explicit user
    consent before sharing it.</p>
    <p>Without authorization (to the "drive-by web"), it offers the ability to
    tell how many devices there are of each class, and how they are grouped
    together (e.g. a microphone and camera belonging to a single Web cam). The
    identifiers for the devices are designed to not be useful for a fingerprint
    that can track the user between origins, but the number and grouping of
    devices adds to the fingerprint surface. It recommends to treat the
    per-origin persistent identifier <a data-link-type="idl" href="#dom-mediadeviceinfo-deviceid" class="internalDFN" id="ref-for-dom-mediadeviceinfo-deviceid-15"><code><code>deviceId</code></code></a> as other persistent
    storage (e.g. cookies) are treated.</p>
    <p>When authorization is given, this document describes how to get access
    to, and use, media data from the devices mentioned. This data may be
    sensitive; advice is given that indicators should be supplied to indicate
    that devices are in use, but both the nature of authorization and the
    indicators of in-use devices are platform decisions.</p>
    <p>Authorization may be given on a case-by-case basis, or be persistent. In
    the case of a case-by-case authorization, it is important that the user be
    able to say "no" in a way that prevents the UI from blocking user
    interaction until permission is given - either by offering a way to say a
    "persistent NO" or by not using a modal permissions dialog.</p>
    <p>When authorization to any media device is given, application developers
    gain access to the labels of all available media capture devices. In most
    cases, the labels are persistent across browsing sessions and across
    origins that have also been granted authorization, and thus potentially
    provide a way to track a given device across time and origins.</p>
    <p>For origins to which permission has been granted, the
    <code class="event"><a href="#event-mediadevices-devicechange" class="internalDFN" data-link-type="dfn" id="ref-for-event-mediadevices-devicechange-4"><code>devicechange</code></a></code> event will be emitted across browsing
    contexts and origins each time a new media device is added or removed; user
    agents can mitigate the risk of correlation of browsing activity across
    origins by fuzzing the timing of these events.</p>
    <p>Once a developer gains access to a media stream from a capture device,
    the developer also gains access to detailed information about the device,
    including its range of operating capabilities (e.g. available resolutions
    for a camera). These operating capabilities are for the most part
    persistent across browsing sessions and origins, and thus provide a way to
    track a given device across time and origins.</p>
    <p>Once access to a video stream from a capture device is obtained, that
    stream can most likely be used to fingerprint uniquely the said device
    (e.g. via dead pixel detection). Similarly, once access to an audio stream
    is obtained, that stream can most likely be used to fingerprint user
    location down to the level of a room or even simultaneous occupation of a
    room by disparate users (e.g. via analysis of ambient audio or of unique
    audio purposely played out of the device speaker). User-level mitigation
    for both audio and video consists of covering up the camera and/or
    microphone or revoking permission via User Agent chrome controls.</p>
    <p>It is possible to use constraints so that the failure of a getUserMedia
    call will return information about devices on the system without prompting
    the user, which increases the surface available for fingerprinting. The
    User Agent should consider limiting the rate at which failed getUserMedia
    calls are allowed in order to limit this additional surface.</p>
    <p>In the case of persistent authorization via a stored permission, it is
    important that it is easy to find the list of granted permissions and
    revoke permissions that the user wishes to revoke.</p>
    <p>Once permission has been granted, the User Agent should make two things
    readily apparent to the user:</p>
    <ul>
      <li>That the page has access to the devices for which permission is
      given</li>
      <li>Whether or not any of the devices are presently recording ("on air")
      indicator</li>
    </ul>
    <div class="note" role="note" id="issue-container-generatedID-21"><div role="heading" class="note-title marker" id="h-note-21" aria-level="3"><span>Note</span></div><div class="">
      <p>Developers of sites with stored permissions should be careful that
      these permissions not be abused. These permissions can be revoked using
      the [<cite><a class="bibref" data-link-type="biblio" href="#bib-permissions" title="Permissions">permissions</a></cite>] API.</p>
      <p>In particular, they should not make it possible to automatically send
      audio or video streams from authorized media devices to an end point that
      a third party can select.</p>
      <p>Indeed, if a site offered URLs such as
      <code>https://webrtc.example.org/?call=<var>user</var></code> that would
      automatically set up calls and transmit audio/video to
      <code><var>user</var></code>, it would be open for instance to the
      following abuse:</p>
      <p>Users who have granted stored permissions to
      <code>https://webrtc.example.org/</code> could be tricked to send their
      audio/video streams to an attacker <code>EvilSpy</code> by following a
      link or being redirected to
      <code>https://webrtc.example.org/?user=EvilSpy</code>.</p>
    </div></div>
  </section>
  <section class="informative" id="extensibility">
    <h2 id="x16-extensibility"><bdi class="secno">16. </bdi>Extensibility<a class="self-link" aria-label="§" href="#extensibility"></a></h2><p><em>This section is non-normative.</em></p>
    <p>Although new versions of this specification may be produced in the
    future, it is also expected that other standards will need to define new
    capabilities that build upon those in this specification. The purpose of
    this section is to provide guidance to creators of such extensions.</p>
    <p>Any WebIDL-defined interfaces, methods, or attributes in the
    specification may be extended. Two likely extension points are defining a
    new media type and defining a new constrainable property.</p>
    <section id="defining-a-new-media-type-beyond-the-existing-audio-and-video-types">
      <h3 id="x16-1-defining-a-new-media-type-beyond-the-existing-audio-and-video-types"><bdi class="secno">16.1 </bdi>Defining a new media type (beyond the existing Audio and Video
      types)<a class="self-link" aria-label="§" href="#defining-a-new-media-type-beyond-the-existing-audio-and-video-types"></a></h3>
      <p>At a minimum, defining a new media type would require</p>
      <ul>
        <li>adding a new getXXXXTracks() method for the type to the
        <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-103"><code><code>MediaStream</code></code></a> interface,</li>
        <li>describing what a muted or disabled track of that type will render
        (see <a href="#life-cycle-and-media-flow" class="sec-ref">§&nbsp;<bdi class="secno">4.3.1 </bdi>Life-cycle and Media Flow</a>),
        </li>
        <li>adding the new type as an additional legal value for the
        <a data-link-type="idl" href="#dom-mediastreamtrack-kind" class="internalDFN" id="ref-for-dom-mediastreamtrack-kind-9"><code><code>kind</code></code></a> attribute on
        the <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-118"><code><code>MediaStreamTrack</code></code></a> interface,</li>
        <li>defining any constrainable properties (see <a href="#constrainable-properties" class="sec-ref">§&nbsp;<bdi class="secno">4.3.8 </bdi>Constrainable Properties</a>) that are applicable to the media
        type,
        </li>
        <li>updating how the <a data-link-type="idl" data-type="interface" href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"><code>HTMLMediaElement</code></a> works with a
          <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-104"><code><code>MediaStream</code></code></a> containing a track of the new media type
          (see <a href="#mediastreams-in-media-elements" class="sec-ref">§&nbsp;<bdi class="secno">6. </bdi>MediaStreams in Media Elements</a>), including
          adding a corollary to <a href="#stream-audible" id="ref-for-stream-audible-4">audible</a>/inaudible
          for the new media type,
        </li>
        <li>updating <a data-link-type="idl" href="#dom-mediadevicekind" class="internalDFN" id="ref-for-dom-mediadevicekind-8"><code><code>MediaDeviceKind</code></code></a> if the new type has
        enumerable devices,</li>
        <li>updating the <a data-link-type="idl" data-lt="getCapabilities()" href="#dom-mediastreamtrack-getcapabilities" class="internalDFN" id="ref-for-dom-mediastreamtrack-getcapabilities-6"><code><code>getCapabilities</code></code></a><code>()</code> and
        <a data-link-type="idl" data-lt="getUserMedia()" href="#dom-mediadevices-getusermedia" class="internalDFN" id="ref-for-dom-mediadevices-getusermedia-33"><code><code>getUserMedia</code></code></a><code>()</code> descriptions,</li>
        <li>adding the new type to the
        <a data-link-type="idl" href="#dom-mediastreamconstraints" class="internalDFN" id="ref-for-dom-mediastreamconstraints-8"><code><code>MediaStreamConstraints</code></code></a> dictionary,</li>
        <li>describing any new security and/or privacy considerations (see
        <a href="#privacy-and-security-considerations" class="sec-ref">§&nbsp;<bdi class="secno">15. </bdi>Privacy and Security Considerations</a>) introduced by the
        new type, and
        </li>
        <li>if the new type requires user authorization, defining new
        permissions for it, including a new PermissionDescriptor name
        associated with the new <a data-link-type="idl" href="#dom-mediastreamtrack-kind" class="internalDFN" id="ref-for-dom-mediastreamtrack-kind-10"><code><code>kind</code></code></a>, and defining how these
        permissions, along with access starting and ending, as well as
        muting/disabling, affect any new and/or existing "on-air" and "device
        accessible" indicator states (see <a href="#mediadevices">MediaDevices</a>).
        </li>
      </ul>
      <p>Additionally, it should include updating</p>
      <ul>
        <li>the <a href="#dfn-source" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-source-1">source</a> definition,
        </li>
        <li>the list of media stream <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-2">consumer</a>s,
        </li>
        <li>the description of the <a data-link-type="idl" href="#dom-mediastreamtrack-label" class="internalDFN" id="ref-for-dom-mediastreamtrack-label-4"><code><code>label</code></code></a> attribute on the
        <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-119"><code><code>MediaStreamTrack</code></code></a> interface,</li>
        <li>the list of sinks (see <a href="#the-model-sources-sinks-constraints-and-settings" class="sec-ref">§&nbsp;<bdi class="secno">5. </bdi>The model: sources, sinks, constraints, and settings</a>), and
        </li>
        <li>the best practice statements referring to video and audio (see
        <a href="#implementation-suggestions" class="sec-ref">§&nbsp;<bdi class="secno">10.6 </bdi>Implementation Suggestions</a>).
        </li>
      </ul>
      <p>It might also include</p>
      <ul>
        <li>explaining how the media is expected to be used by potential
        <a href="#dfn-consumer" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-consumer-3">consumer</a>s, and
        </li>
        <li>giving examples in <a data-link-type="idl" href="#dom-mediastreamtrackstate" class="internalDFN" id="ref-for-dom-mediastreamtrackstate-4"><code><code>MediaStreamTrackState</code></code></a> of how
        such a track might become ended.</li>
      </ul>
    </section>
    <section id="defining-a-new-constrainable-property">
      <h3 id="x16-2-defining-a-new-constrainable-property"><bdi class="secno">16.2 </bdi>Defining a new constrainable property<a class="self-link" aria-label="§" href="#defining-a-new-constrainable-property"></a></h3>
      <p>This will require thinking through and defining how Constraints,
      Capabilities, and Settings for the property (see <a href="#terminology" class="sec-ref">§&nbsp;<bdi class="secno">3. </bdi>Terminology</a>) will work. The relevant text in
      <a data-link-type="idl" href="#dom-mediatracksupportedconstraints" class="internalDFN" id="ref-for-dom-mediatracksupportedconstraints-6"><code><code>MediaTrackSupportedConstraints</code></code></a>,
      <a data-link-type="idl" href="#dom-mediatrackcapabilities" class="internalDFN" id="ref-for-dom-mediatrackcapabilities-8"><code><code>MediaTrackCapabilities</code></code></a>,
      <a data-link-type="idl" href="#dom-mediatrackconstraints" class="internalDFN" id="ref-for-dom-mediatrackconstraints-9"><code><code>MediaTrackConstraints</code></code></a>,
      <a data-link-type="idl" href="#dom-mediatracksettings" class="internalDFN" id="ref-for-dom-mediatracksettings-8"><code><code>MediaTrackSettings</code></code></a>, <a href="#constrainable-properties" class="sec-ref">§&nbsp;<bdi class="secno">4.3.8 </bdi>Constrainable Properties</a>, and
      <a data-link-type="idl" href="#dom-mediastreamconstraints" class="internalDFN" id="ref-for-dom-mediastreamconstraints-9"><code><code>MediaStreamConstraints</code></code></a> are the model to use.</p>
      <p>Creators of extension specifications are strongly encouraged to notify
      the specification maintainers on <a href="https://github.com/w3c/mediacapture-main/issues">the specification repository</a>.<br>
      Future versions of this specification and others created by the WebRTC Working Group will take into consideration all extensions they are
      aware of in an attempt to reduce potential usage conflicts.</p>
    </section>
    <p>&nbsp;</p>
    <p>It is also likely that new consumers of <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-105"><code><code>MediaStream</code></code></a>s
    or <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-120"><code><code>MediaStreamTrack</code></code></a>s will be defined in the future. The
    following section provides guidance.</p>
    <section id="defining-new-consumers-of-mediastreams-and-mediastreamtracks">
      <h3 id="x16-3-defining-new-consumers-of-mediastreams-and-mediastreamtracks"><bdi class="secno">16.3 </bdi>Defining new consumers of <a data-link-type="idl" href="#dom-mediastream" class="internalDFN" id="ref-for-dom-mediastream-106"><code><code>MediaStream</code></code></a>s and <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-121"><code><code>MediaStreamTrack</code></code></a>s<a class="self-link" aria-label="§" href="#defining-new-consumers-of-mediastreams-and-mediastreamtracks"></a></h3>
      <p>At a minimum, any new consumer of a
      <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-122"><code><code>MediaStreamTrack</code></code></a> will need to define</p>
      <ul>
        <li>how a <a data-link-type="idl" href="#dom-mediastreamtrack" class="internalDFN" id="ref-for-dom-mediastreamtrack-123"><code><code>MediaStreamTrack</code></code></a> will render in the
        various states in which it can be, including muted and disabled (see
        <a href="#life-cycle-and-media-flow" class="sec-ref">§&nbsp;<bdi class="secno">4.3.1 </bdi>Life-cycle and Media Flow</a>).
        </li>
      </ul>
    </section>
  </section>
  <section class="appendix" id="acknowledgements">
    <h2 id="a-acknowledgements"><bdi class="secno">A. </bdi>Acknowledgements<a class="self-link" aria-label="§" href="#acknowledgements"></a></h2>
    <p>The editors wish to thank the Working Group chairs and Team Contact,
    Harald Alvestrand, Stefan Håkansson, Erik Lagerway and Dominique
    Hazaël-Massieux, for their support. Substantial text in this specification
    was provided by many people including
    
     Jim Barnett,  Harald Alvestrand,  Travis
    Leithead,  Josh Soref,  Martin Thomson,
     Jan-Ivar Bruaroey,  Peter Thatcher,
     Dominique Hazaël-Massieux,  and Stefan
    Håkansson. Dan Burnett would like to acknowledge the significant support
    received from Voxeo and Aspect during the development of this
    specification.</p>
  </section>


<section id="references" class="appendix"><h2 id="b-references"><bdi class="secno">B. </bdi>References<a class="self-link" aria-label="§" href="#references"></a></h2><section id="normative-references">
    <h3 id="b-1-normative-references"><bdi class="secno">B.1 </bdi>Normative references<a class="self-link" aria-label="§" href="#normative-references"></a></h3>
    <dl class="bibliography"><dt id="bib-cookies">[COOKIES]</dt><dd><a href="https://httpwg.org/specs/rfc6265.html"><cite>HTTP State Management Mechanism</cite></a>. A. Barth.  IETF. April 2011. Proposed Standard. URL: <a href="https://httpwg.org/specs/rfc6265.html">https://httpwg.org/specs/rfc6265.html</a></dd><dt id="bib-dom">[DOM]</dt><dd><a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Anne van Kesteren.  WHATWG. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a></dd><dt id="bib-ecma-262">[ECMA-262]</dt><dd><a href="https://tc39.es/ecma262/"><cite>ECMAScript Language Specification</cite></a>.  Ecma International. URL: <a href="https://tc39.es/ecma262/">https://tc39.es/ecma262/</a></dd><dt id="bib-html">[HTML]</dt><dd><a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Anne van Kesteren; Domenic Denicola; Ian Hickson; Philip Jägenstedt; Simon Pieters.  WHATWG. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a></dd><dt id="bib-permissions">[permissions]</dt><dd><a href="https://www.w3.org/TR/permissions/"><cite>Permissions</cite></a>. Mounir Lamouri; Marcos Caceres; Jeffrey Yasskin.  W3C. 20 July 2020. W3C Working Draft. URL: <a href="https://www.w3.org/TR/permissions/">https://www.w3.org/TR/permissions/</a></dd><dt id="bib-permissions-policy">[permissions-policy]</dt><dd><a href="https://www.w3.org/TR/permissions-policy-1/"><cite>Permissions Policy</cite></a>. Ian Clelland.  W3C. 16 July 2020. W3C Working Draft. URL: <a href="https://www.w3.org/TR/permissions-policy-1/">https://www.w3.org/TR/permissions-policy-1/</a></dd><dt id="bib-rfc2119">[RFC2119]</dt><dd><a href="https://tools.ietf.org/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. S. Bradner.  IETF. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a></dd><dt id="bib-rfc4122">[rfc4122]</dt><dd><a href="https://tools.ietf.org/html/rfc4122"><cite>A Universally Unique IDentifier (UUID) URN Namespace</cite></a>. P. Leach; M. Mealling; R. Salz.  IETF. July 2005. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc4122">https://tools.ietf.org/html/rfc4122</a></dd><dt id="bib-rfc8174">[RFC8174]</dt><dd><a href="https://tools.ietf.org/html/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</cite></a>. B. Leiba.  IETF. May 2017. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc8174">https://tools.ietf.org/html/rfc8174</a></dd><dt id="bib-webaudio">[WEBAUDIO]</dt><dd><a href="https://www.w3.org/TR/webaudio/"><cite>Web Audio API</cite></a>. Paul Adenot; Hongchan Choi.  W3C. 11 June 2020. W3C Candidate Recommendation. URL: <a href="https://www.w3.org/TR/webaudio/">https://www.w3.org/TR/webaudio/</a></dd><dt id="bib-webidl">[WEBIDL]</dt><dd><a href="https://heycam.github.io/webidl/"><cite>Web IDL</cite></a>. Boris Zbarsky.  W3C. 15 December 2016. W3C Editor's Draft. URL: <a href="https://heycam.github.io/webidl/">https://heycam.github.io/webidl/</a></dd></dl>
  </section><section id="informative-references">
    <h3 id="b-2-informative-references"><bdi class="secno">B.2 </bdi>Informative references<a class="self-link" aria-label="§" href="#informative-references"></a></h3>
    <dl class="bibliography"><dt id="bib-image-capture">[image-capture]</dt><dd><a href="https://www.w3.org/TR/image-capture/"><cite>"MediaStream Image Capture"</cite></a>. Giridhar Mandyam; Miguel Casas-sanchez.  W3C. 21 June 2017. W3C Working Draft. URL: <a href="https://www.w3.org/TR/image-capture/">https://www.w3.org/TR/image-capture/</a></dd><dt id="bib-mediacapture-fromelement">[mediacapture-fromelement]</dt><dd><a href="https://www.w3.org/TR/mediacapture-fromelement/"><cite>Media Capture from DOM Elements</cite></a>. Martin Thomson; Miguel Casas-sanchez; Emircan Uysaler.  W3C. 6 September 2017. W3C Working Draft. URL: <a href="https://www.w3.org/TR/mediacapture-fromelement/">https://www.w3.org/TR/mediacapture-fromelement/</a></dd><dt id="bib-mediastream-recording">[mediastream-recording]</dt><dd><a href="https://www.w3.org/TR/mediastream-recording/"><cite>MediaStream Recording</cite></a>. Miguel Casas-sanchez; James Barnett; Travis Leithead.  W3C. 21 June 2017. W3C Working Draft. URL: <a href="https://www.w3.org/TR/mediastream-recording/">https://www.w3.org/TR/mediastream-recording/</a></dd><dt id="bib-webrtc">[WEBRTC]</dt><dd><a href="https://www.w3.org/TR/webrtc/"><cite>WebRTC 1.0: Real-Time Communication Between Browsers</cite></a>. Cullen Jennings; Henrik Boström; Jan-Ivar Bruaroey; Adam Bergkvist; Daniel Burnett; Anant Narayanan; Bernard Aboba; Taylor Brandstetter.  W3C. 5 November 2020. W3C Candidate Recommendation. URL: <a href="https://www.w3.org/TR/webrtc/">https://www.w3.org/TR/webrtc/</a></dd></dl>
  </section></section><p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-user-agent">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-user-agent">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-fulfill">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-fulfill">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-fulfill-1">Methods</a> <a href="#ref-for-dfn-fulfill-2">(2)</a> <a href="#ref-for-dfn-fulfill-3">(3)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-reject">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-reject">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-reject-1">5. The model: sources, sinks, constraints, and settings</a> 
  </li><li>
    <a href="#ref-for-dfn-reject-2">Methods</a> <a href="#ref-for-dfn-reject-3">(2)</a> <a href="#ref-for-dfn-reject-4">(3)</a> <a href="#ref-for-dfn-reject-5">(4)</a> <a href="#ref-for-dfn-reject-6">(5)</a> <a href="#ref-for-dfn-reject-7">(6)</a> <a href="#ref-for-dfn-reject-8">(7)</a> <a href="#ref-for-dfn-reject-9">(8)</a> <a href="#ref-for-dfn-reject-10">(9)</a> <a href="#ref-for-dfn-reject-11">(10)</a> <a href="#ref-for-dfn-reject-14">(11)</a> 
  </li><li>
    <a href="#ref-for-dfn-reject-12">11. Constrainable Pattern</a> <a href="#ref-for-dfn-reject-13">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-resolve">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-resolve">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-resolve-1">Methods</a> <a href="#ref-for-dfn-resolve-2">(2)</a> <a href="#ref-for-dfn-resolve-3">(3)</a> <a href="#ref-for-dfn-resolve-4">(4)</a> <a href="#ref-for-dfn-resolve-7">(5)</a> 
  </li><li>
    <a href="#ref-for-dfn-resolve-5">11. Constrainable Pattern</a> <a href="#ref-for-dfn-resolve-6">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-source">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-source">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-source-1">16.1 Defining a new media type (beyond the existing Audio and Video types)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-settings">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-settings">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-settings-1">3. Terminology</a> 
  </li><li>
    <a href="#ref-for-dfn-settings-2">4.3.7 MediaTrackSettings</a> 
  </li><li>
    <a href="#ref-for-dfn-settings-3">5. The model: sources, sinks, constraints, and settings</a> <a href="#ref-for-dfn-settings-4">(2)</a> <a href="#ref-for-dfn-settings-5">(3)</a> 
  </li><li>
    <a href="#ref-for-dfn-settings-6">11.1 Interface Definition</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-capabilities">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-capabilities">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-capabilities-1">3. Terminology</a> 
  </li><li>
    <a href="#ref-for-dfn-capabilities-2">4.3.4 MediaTrackSupportedConstraints</a> 
  </li><li>
    <a href="#ref-for-dfn-capabilities-3">4.3.5 MediaTrackCapabilities</a> 
  </li><li>
    <a href="#ref-for-dfn-capabilities-4">5. The model: sources, sinks, constraints, and settings</a> 
  </li><li>
    <a href="#ref-for-dfn-capabilities-5">11.1 Interface Definition</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-constraint">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-constraint">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-constraint-1">Methods</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-required-constraints">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-required-constraints">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-required-constraints-1">3. Terminology</a> 
  </li><li>
    <a href="#ref-for-dfn-required-constraints-2">5. The model: sources, sinks, constraints, and settings</a> <a href="#ref-for-dfn-required-constraints-3">(2)</a> <a href="#ref-for-dfn-required-constraints-4">(3)</a> 
  </li><li>
    <a href="#ref-for-dfn-required-constraints-5">Methods</a> <a href="#ref-for-dfn-required-constraints-6">(2)</a> <a href="#ref-for-dfn-required-constraints-9">(3)</a> 
  </li><li>
    <a href="#ref-for-dfn-required-constraints-7">10.6 Implementation Suggestions</a> 
  </li><li>
    <a href="#ref-for-dfn-required-constraints-8">11. Constrainable Pattern</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-optional-basic-constraints">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-optional-basic-constraints">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-optional-basic-constraints-1">11. Constrainable Pattern</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-advanced-constraints">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-advanced-constraints">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-advanced-constraints-1">3. Terminology</a> <a href="#ref-for-dfn-advanced-constraints-2">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-reading-current-permission-state">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-reading-current-permission-state">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamtrack">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamtrack">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-103228790">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamtrack-1">4.1 Introduction</a> <a href="#ref-for-dom-mediastreamtrack-2">(2)</a> <a href="#ref-for-dom-mediastreamtrack-3">(3)</a> <a href="#ref-for-dom-mediastreamtrack-4">(4)</a> <a href="#ref-for-dom-mediastreamtrack-5">(5)</a> <a href="#ref-for-dom-mediastreamtrack-6">(6)</a> <a href="#ref-for-dom-mediastreamtrack-7">(7)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-8">4.2 MediaStream</a> <a href="#ref-for-dom-mediastreamtrack-9">(2)</a> <a href="#ref-for-dom-mediastreamtrack-10">(3)</a> <a href="#ref-for-dom-mediastreamtrack-11">(4)</a> <a href="#ref-for-dom-mediastreamtrack-12">(5)</a> <a href="#ref-for-dom-mediastreamtrack-13">(6)</a> <a href="#ref-for-dom-mediastreamtrack-14">(7)</a> <a href="#ref-for-dom-mediastreamtrack-15">(8)</a> <a href="#ref-for-dom-mediastreamtrack-16">(9)</a> <a href="#ref-for-dom-mediastreamtrack-17">(10)</a> <a href="#ref-for-dom-mediastreamtrack-18">(11)</a> <a href="#ref-for-dom-mediastreamtrack-19">(12)</a> <a href="#ref-for-dom-mediastreamtrack-20">(13)</a> <a href="#ref-for-dom-mediastreamtrack-21">(14)</a> <a href="#ref-for-dom-mediastreamtrack-22">(15)</a> <a href="#ref-for-dom-mediastreamtrack-23">(16)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-24">Methods</a> <a href="#ref-for-dom-mediastreamtrack-25">(2)</a> <a href="#ref-for-dom-mediastreamtrack-26">(3)</a> <a href="#ref-for-dom-mediastreamtrack-27">(4)</a> <a href="#ref-for-dom-mediastreamtrack-28">(5)</a> <a href="#ref-for-dom-mediastreamtrack-29">(6)</a> <a href="#ref-for-dom-mediastreamtrack-30">(7)</a> <a href="#ref-for-dom-mediastreamtrack-31">(8)</a> <a href="#ref-for-dom-mediastreamtrack-32">(9)</a> <a href="#ref-for-dom-mediastreamtrack-71">(10)</a> <a href="#ref-for-dom-mediastreamtrack-72">(11)</a> <a href="#ref-for-dom-mediastreamtrack-73">(12)</a> <a href="#ref-for-dom-mediastreamtrack-74">(13)</a> <a href="#ref-for-dom-mediastreamtrack-75">(14)</a> <a href="#ref-for-dom-mediastreamtrack-76">(15)</a> <a href="#ref-for-dom-mediastreamtrack-77">(16)</a> <a href="#ref-for-dom-mediastreamtrack-78">(17)</a> <a href="#ref-for-dom-mediastreamtrack-79">(18)</a> <a href="#ref-for-dom-mediastreamtrack-80">(19)</a> <a href="#ref-for-dom-mediastreamtrack-109">(20)</a> <a href="#ref-for-dom-mediastreamtrack-110">(21)</a> <a href="#ref-for-dom-mediastreamtrack-111">(22)</a> <a href="#ref-for-dom-mediastreamtrack-112">(23)</a> <a href="#ref-for-dom-mediastreamtrack-113">(24)</a> <a href="#ref-for-dom-mediastreamtrack-114">(25)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-33">4.3 MediaStreamTrack</a> <a href="#ref-for-dom-mediastreamtrack-34">(2)</a> <a href="#ref-for-dom-mediastreamtrack-35">(3)</a> <a href="#ref-for-dom-mediastreamtrack-36">(4)</a> <a href="#ref-for-dom-mediastreamtrack-37">(5)</a> <a href="#ref-for-dom-mediastreamtrack-38">(6)</a> <a href="#ref-for-dom-mediastreamtrack-39">(7)</a> <a href="#ref-for-dom-mediastreamtrack-40">(8)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-41">4.3.1 Life-cycle and Media Flow</a> <a href="#ref-for-dom-mediastreamtrack-42">(2)</a> <a href="#ref-for-dom-mediastreamtrack-43">(3)</a> <a href="#ref-for-dom-mediastreamtrack-44">(4)</a> <a href="#ref-for-dom-mediastreamtrack-45">(5)</a> <a href="#ref-for-dom-mediastreamtrack-46">(6)</a> <a href="#ref-for-dom-mediastreamtrack-47">(7)</a> <a href="#ref-for-dom-mediastreamtrack-48">(8)</a> <a href="#ref-for-dom-mediastreamtrack-49">(9)</a> <a href="#ref-for-dom-mediastreamtrack-50">(10)</a> <a href="#ref-for-dom-mediastreamtrack-51">(11)</a> <a href="#ref-for-dom-mediastreamtrack-52">(12)</a> <a href="#ref-for-dom-mediastreamtrack-53">(13)</a> <a href="#ref-for-dom-mediastreamtrack-54">(14)</a> <a href="#ref-for-dom-mediastreamtrack-55">(15)</a> <a href="#ref-for-dom-mediastreamtrack-56">(16)</a> <a href="#ref-for-dom-mediastreamtrack-57">(17)</a> <a href="#ref-for-dom-mediastreamtrack-58">(18)</a> <a href="#ref-for-dom-mediastreamtrack-59">(19)</a> <a href="#ref-for-dom-mediastreamtrack-60">(20)</a> <a href="#ref-for-dom-mediastreamtrack-61">(21)</a> <a href="#ref-for-dom-mediastreamtrack-62">(22)</a> <a href="#ref-for-dom-mediastreamtrack-63">(23)</a> <a href="#ref-for-dom-mediastreamtrack-64">(24)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-65">4.3.2 Tracks and Constraints</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-66">4.3.3 Interface Definition</a> <a href="#ref-for-dom-mediastreamtrack-67">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-68">Attributes</a> <a href="#ref-for-dom-mediastreamtrack-69">(2)</a> <a href="#ref-for-dom-mediastreamtrack-70">(3)</a> <a href="#ref-for-dom-mediastreamtrack-94">(4)</a> <a href="#ref-for-dom-mediastreamtrack-95">(5)</a> <a href="#ref-for-dom-mediastreamtrack-108">(6)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-81">4.3.4 MediaTrackSupportedConstraints</a> <a href="#ref-for-dom-mediastreamtrack-82">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-83">4.3.5 MediaTrackCapabilities</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-84">4.3.7 MediaTrackSettings</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-85">4.3.8 Constrainable Properties</a> <a href="#ref-for-dom-mediastreamtrack-86">(2)</a> <a href="#ref-for-dom-mediastreamtrack-87">(3)</a> <a href="#ref-for-dom-mediastreamtrack-88">(4)</a> <a href="#ref-for-dom-mediastreamtrack-89">(5)</a> <a href="#ref-for-dom-mediastreamtrack-90">(6)</a> <a href="#ref-for-dom-mediastreamtrack-91">(7)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-92">4.4 MediaStreamTrackEvent</a> <a href="#ref-for-dom-mediastreamtrack-93">(2)</a> <a href="#ref-for-dom-mediastreamtrack-96">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-97">Dictionary MediaStreamTrackEventInit Members</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-98">6. MediaStreams in Media Elements</a> <a href="#ref-for-dom-mediastreamtrack-99">(2)</a> <a href="#ref-for-dom-mediastreamtrack-100">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-101">8. Event summary</a> <a href="#ref-for-dom-mediastreamtrack-102">(2)</a> <a href="#ref-for-dom-mediastreamtrack-103">(3)</a> <a href="#ref-for-dom-mediastreamtrack-104">(4)</a> <a href="#ref-for-dom-mediastreamtrack-105">(5)</a> <a href="#ref-for-dom-mediastreamtrack-106">(6)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-107">9.2.2 Device information exposure</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-115">10.3 MediaStreamConstraints</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-116">11.1 Interface Definition</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-117">11.4 Settings</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-118">16.1 Defining a new media type (beyond the existing Audio and Video types)</a> <a href="#ref-for-dom-mediastreamtrack-119">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-120">16. Extensibility</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-121">16.3 Defining new consumers of MediaStreams and MediaStreamTracks</a> <a href="#ref-for-dom-mediastreamtrack-122">(2)</a> <a href="#ref-for-dom-mediastreamtrack-123">(3)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastream">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastream">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1647796506">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastream-1">4.1 Introduction</a> <a href="#ref-for-dom-mediastream-2">(2)</a> <a href="#ref-for-dom-mediastream-3">(3)</a> <a href="#ref-for-dom-mediastream-4">(4)</a> <a href="#ref-for-dom-mediastream-5">(5)</a> <a href="#ref-for-dom-mediastream-6">(6)</a> <a href="#ref-for-dom-mediastream-7">(7)</a> <a href="#ref-for-dom-mediastream-8">(8)</a> <a href="#ref-for-dom-mediastream-9">(9)</a> <a href="#ref-for-dom-mediastream-10">(10)</a> <a href="#ref-for-dom-mediastream-11">(11)</a> <a href="#ref-for-dom-mediastream-12">(12)</a> <a href="#ref-for-dom-mediastream-13">(13)</a> <a href="#ref-for-dom-mediastream-14">(14)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-15">4.2 MediaStream</a> <a href="#ref-for-dom-mediastream-16">(2)</a> <a href="#ref-for-dom-mediastream-17">(3)</a> <a href="#ref-for-dom-mediastream-18">(4)</a> <a href="#ref-for-dom-mediastream-19">(5)</a> <a href="#ref-for-dom-mediastream-20">(6)</a> <a href="#ref-for-dom-mediastream-21">(7)</a> <a href="#ref-for-dom-mediastream-22">(8)</a> <a href="#ref-for-dom-mediastream-23">(9)</a> <a href="#ref-for-dom-mediastream-24">(10)</a> <a href="#ref-for-dom-mediastream-25">(11)</a> <a href="#ref-for-dom-mediastream-26">(12)</a> <a href="#ref-for-dom-mediastream-27">(13)</a> <a href="#ref-for-dom-mediastream-28">(14)</a> <a href="#ref-for-dom-mediastream-29">(15)</a> <a href="#ref-for-dom-mediastream-30">(16)</a> <a href="#ref-for-dom-mediastream-31">(17)</a> <a href="#ref-for-dom-mediastream-32">(18)</a> <a href="#ref-for-dom-mediastream-33">(19)</a> <a href="#ref-for-dom-mediastream-34">(20)</a> <a href="#ref-for-dom-mediastream-35">(21)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-36">Constructors</a> <a href="#ref-for-dom-mediastream-37">(2)</a> <a href="#ref-for-dom-mediastream-38">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-39">Attributes</a> <a href="#ref-for-dom-mediastream-40">(2)</a> <a href="#ref-for-dom-mediastream-51">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-41">Methods</a> <a href="#ref-for-dom-mediastream-42">(2)</a> <a href="#ref-for-dom-mediastream-43">(3)</a> <a href="#ref-for-dom-mediastream-44">(4)</a> <a href="#ref-for-dom-mediastream-45">(5)</a> <a href="#ref-for-dom-mediastream-46">(6)</a> <a href="#ref-for-dom-mediastream-47">(7)</a> <a href="#ref-for-dom-mediastream-48">(8)</a> <a href="#ref-for-dom-mediastream-86">(9)</a> <a href="#ref-for-dom-mediastream-87">(10)</a> <a href="#ref-for-dom-mediastream-89">(11)</a> <a href="#ref-for-dom-mediastream-91">(12)</a> <a href="#ref-for-dom-mediastream-92">(13)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-49">4.3.1 Life-cycle and Media Flow</a> <a href="#ref-for-dom-mediastream-50">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-52">4.3.3 Interface Definition</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-53">4.4 MediaStreamTrackEvent</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-54">5. The model: sources, sinks, constraints, and settings</a> <a href="#ref-for-dom-mediastream-55">(2)</a> <a href="#ref-for-dom-mediastream-56">(3)</a> <a href="#ref-for-dom-mediastream-57">(4)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-58">6. MediaStreams in Media Elements</a> <a href="#ref-for-dom-mediastream-59">(2)</a> <a href="#ref-for-dom-mediastream-60">(3)</a> <a href="#ref-for-dom-mediastream-61">(4)</a> <a href="#ref-for-dom-mediastream-62">(5)</a> <a href="#ref-for-dom-mediastream-63">(6)</a> <a href="#ref-for-dom-mediastream-64">(7)</a> <a href="#ref-for-dom-mediastream-65">(8)</a> <a href="#ref-for-dom-mediastream-66">(9)</a> <a href="#ref-for-dom-mediastream-67">(10)</a> <a href="#ref-for-dom-mediastream-68">(11)</a> <a href="#ref-for-dom-mediastream-69">(12)</a> <a href="#ref-for-dom-mediastream-70">(13)</a> <a href="#ref-for-dom-mediastream-71">(14)</a> <a href="#ref-for-dom-mediastream-72">(15)</a> <a href="#ref-for-dom-mediastream-73">(16)</a> <a href="#ref-for-dom-mediastream-74">(17)</a> <a href="#ref-for-dom-mediastream-75">(18)</a> <a href="#ref-for-dom-mediastream-76">(19)</a> <a href="#ref-for-dom-mediastream-77">(20)</a> <a href="#ref-for-dom-mediastream-78">(21)</a> <a href="#ref-for-dom-mediastream-79">(22)</a> <a href="#ref-for-dom-mediastream-80">(23)</a> <a href="#ref-for-dom-mediastream-81">(24)</a> <a href="#ref-for-dom-mediastream-82">(25)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-83">8. Event summary</a> <a href="#ref-for-dom-mediastream-84">(2)</a> <a href="#ref-for-dom-mediastream-85">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-88">10. Obtaining local multimedia content</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-90">10.2 MediaDevices Interface Extensions</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-93">10.3 MediaStreamConstraints</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-94">Dictionary MediaStreamConstraints Members</a> <a href="#ref-for-dom-mediastream-95">(2)</a> <a href="#ref-for-dom-mediastream-96">(3)</a> <a href="#ref-for-dom-mediastream-97">(4)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-98">10.4 NavigatorUserMediaSuccessCallback</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-99">Callback NavigatorUserMediaSuccessCallback Parameters</a> <a href="#ref-for-dom-mediastream-100">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-101">Callback NavigatorUserMediaErrorCallback Parameters</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-102">10.6 Implementation Suggestions</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-103">16.1 Defining a new media type (beyond the existing Audio and Video types)</a> <a href="#ref-for-dom-mediastream-104">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-105">16. Extensibility</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-106">16.3 Defining new consumers of MediaStreams and MediaStreamTracks</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastream-constructor">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastream-constructor">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1647796506">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastream-constructor-1">4.2 MediaStream</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-track-set">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#track-set">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-track-set-1">4.2 MediaStream</a> <a href="#ref-for-track-set-2">(2)</a> <a href="#ref-for-track-set-3">(3)</a> <a href="#ref-for-track-set-4">(4)</a> <a href="#ref-for-track-set-5">(5)</a> <a href="#ref-for-track-set-6">(6)</a> <a href="#ref-for-track-set-7">(7)</a> <a href="#ref-for-track-set-8">(8)</a> <a href="#ref-for-track-set-9">(9)</a> 
  </li><li>
    <a href="#ref-for-track-set-10">Methods</a> <a href="#ref-for-track-set-11">(2)</a> <a href="#ref-for-track-set-12">(3)</a> <a href="#ref-for-track-set-13">(4)</a> <a href="#ref-for-track-set-14">(5)</a> <a href="#ref-for-track-set-15">(6)</a> <a href="#ref-for-track-set-16">(7)</a> <a href="#ref-for-track-set-17">(8)</a> <a href="#ref-for-track-set-18">(9)</a> <a href="#ref-for-track-set-19">(10)</a> <a href="#ref-for-track-set-20">(11)</a> <a href="#ref-for-track-set-21">(12)</a> 
  </li><li>
    <a href="#ref-for-track-set-22">4.4 MediaStreamTrackEvent</a> 
  </li><li>
    <a href="#ref-for-track-set-23">6. MediaStreams in Media Elements</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-consumer">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-consumer">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-consumer-1">4.1 Introduction</a> 
  </li><li>
    <a href="#ref-for-dfn-consumer-2">16.1 Defining a new media type (beyond the existing Audio and Video types)</a> <a href="#ref-for-dfn-consumer-3">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-stream-active">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#stream-active">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-stream-active-1">Attributes</a> <a href="#ref-for-stream-active-2">(2)</a> 
  </li><li>
    <a href="#ref-for-stream-active-3">6. MediaStreams in Media Elements</a> <a href="#ref-for-stream-active-4">(2)</a> <a href="#ref-for-stream-active-5">(3)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-stream-inactive">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#stream-inactive">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-stream-inactive-1">6. MediaStreams in Media Elements</a> <a href="#ref-for-stream-inactive-2">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-stream-audible">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#stream-audible">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-stream-audible-1">6. MediaStreams in Media Elements</a> <a href="#ref-for-stream-audible-2">(2)</a> <a href="#ref-for-stream-audible-3">(3)</a> 
  </li><li>
    <a href="#ref-for-stream-audible-4">16.1 Defining a new media type (beyond the existing Audio and Video types)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-stream-inaudible">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#stream-inaudible">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-stream-inaudible-1">6. MediaStreams in Media Elements</a> <a href="#ref-for-stream-inaudible-2">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-add-track">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#add-track">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-remove-track">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#remove-track">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastream-constructor!overload-1">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastream-constructor!overload-1">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <b>Referenced in:</b>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastream-constructor!overload-2">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastream-constructor!overload-2">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <b>Referenced in:</b>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastream-id">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastream-id">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1647796506">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastream-id-1">4.2 MediaStream</a> <a href="#ref-for-dom-mediastream-id-2">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-id-3">Attributes</a> <a href="#ref-for-dom-mediastream-id-4">(2)</a> <a href="#ref-for-dom-mediastream-id-6">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-id-5">Methods</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastream-active">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastream-active">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1647796506">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastream-active-1">4.2 MediaStream</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastream-onaddtrack">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastream-onaddtrack">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1647796506">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastream-onaddtrack-1">4.2 MediaStream</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastream-onremovetrack">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastream-onremovetrack">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1647796506">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastream-onremovetrack-1">4.2 MediaStream</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastream-getaudiotracks">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastream-getaudiotracks">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1647796506">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastream-getaudiotracks-1">4.2 MediaStream</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-getaudiotracks-2">Methods</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastream-getvideotracks">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastream-getvideotracks">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1647796506">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastream-getvideotracks-1">4.2 MediaStream</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-getvideotracks-2">Methods</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastream-gettracks">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastream-gettracks">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1647796506">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastream-gettracks-1">4.2 MediaStream</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-gettracks-2">Methods</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastream-gettrackbyid">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastream-gettrackbyid">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1647796506">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastream-gettrackbyid-1">4.2 MediaStream</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-gettrackbyid-2">Methods</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastream-addtrack">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastream-addtrack">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1647796506">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastream-addtrack-1">4.2 MediaStream</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-addtrack-2">Attributes</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-addtrack-3">Methods</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastream-removetrack">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastream-removetrack">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1647796506">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastream-removetrack-1">4.2 MediaStream</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-removetrack-2">Attributes</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-removetrack-3">Methods</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastream-clone">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastream-clone">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1647796506">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastream-clone-1">4.2 MediaStream</a> 
  </li><li>
    <a href="#ref-for-dom-mediastream-clone-2">Methods</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-source-stopped">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#source-stopped">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-source-stopped-1">4.3.1 Life-cycle and Media Flow</a> <a href="#ref-for-source-stopped-2">(2)</a> 
  </li><li>
    <a href="#ref-for-source-stopped-3">Methods</a> 
  </li><li>
    <a href="#ref-for-source-stopped-4">9.2 MediaDevices</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-track-clone">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#track-clone">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-track-clone-1">Methods</a> <a href="#ref-for-track-clone-2">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-track-ended">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#track-ended">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-track-ended-1">4.2 MediaStream</a> <a href="#ref-for-track-ended-2">(2)</a> <a href="#ref-for-track-ended-3">(3)</a> <a href="#ref-for-track-ended-4">(4)</a> 
  </li><li>
    <a href="#ref-for-track-ended-5">4.3.1 Life-cycle and Media Flow</a> <a href="#ref-for-track-ended-6">(2)</a> 
  </li><li>
    <a href="#ref-for-track-ended-7">Attributes</a> 
  </li><li>
    <a href="#ref-for-track-ended-8">Methods</a> 
  </li><li>
    <a href="#ref-for-track-ended-9">4.3.3 Interface Definition</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-ends-nostop">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#ends-nostop">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-ends-nostop-1">4.3.1 Life-cycle and Media Flow</a> <a href="#ref-for-ends-nostop-2">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-device-permission-revocation-algorithm">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-device-permission-revocation-algorithm">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-track-muted">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#track-muted">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-track-muted-1">4.3.1 Life-cycle and Media Flow</a> <a href="#ref-for-track-muted-2">(2)</a> <a href="#ref-for-track-muted-3">(3)</a> <a href="#ref-for-track-muted-4">(4)</a> <a href="#ref-for-track-muted-5">(5)</a> <a href="#ref-for-track-muted-6">(6)</a> <a href="#ref-for-track-muted-7">(7)</a> 
  </li><li>
    <a href="#ref-for-track-muted-8">10.6 Implementation Suggestions</a> <a href="#ref-for-track-muted-9">(2)</a> <a href="#ref-for-track-muted-10">(3)</a> <a href="#ref-for-track-muted-11">(4)</a> <a href="#ref-for-track-muted-12">(5)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-set-track-muted">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#set-track-muted">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-set-track-muted-1">4.3.1 Life-cycle and Media Flow</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-track-enabled">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#track-enabled">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-track-enabled-1">4.3.1 Life-cycle and Media Flow</a> <a href="#ref-for-track-enabled-2">(2)</a> <a href="#ref-for-track-enabled-3">(3)</a> <a href="#ref-for-track-enabled-4">(4)</a> <a href="#ref-for-track-enabled-5">(5)</a> 
  </li><li>
    <a href="#ref-for-track-enabled-6">Attributes</a> <a href="#ref-for-track-enabled-7">(2)</a> 
  </li><li>
    <a href="#ref-for-track-enabled-8">10.6 Implementation Suggestions</a> <a href="#ref-for-track-enabled-9">(2)</a> <a href="#ref-for-track-enabled-10">(3)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-list-of-inherent-constrainable-track-properties">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#list-of-inherent-constrainable-track-properties">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-list-of-inherent-constrainable-track-properties-1">Methods</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamtrack-kind">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamtrack-kind">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-103228790">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamtrack-kind-1">4.2 MediaStream</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-kind-2">Methods</a> <a href="#ref-for-dom-mediastreamtrack-kind-3">(2)</a> <a href="#ref-for-dom-mediastreamtrack-kind-4">(3)</a> <a href="#ref-for-dom-mediastreamtrack-kind-8">(4)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-kind-5">4.3 MediaStreamTrack</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-kind-6">4.3.3 Interface Definition</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-kind-7">Attributes</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-kind-9">16.1 Defining a new media type (beyond the existing Audio and Video types)</a> <a href="#ref-for-dom-mediastreamtrack-kind-10">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-audio">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-audio">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-audio-1">4.2 MediaStream</a> 
  </li><li>
    <a href="#ref-for-dfn-audio-2">Methods</a> <a href="#ref-for-dfn-audio-3">(2)</a> <a href="#ref-for-dfn-audio-4">(3)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-video">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-video">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-video-1">Methods</a> <a href="#ref-for-dfn-video-2">(2)</a> <a href="#ref-for-dfn-video-3">(3)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamtrack-id">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamtrack-id">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-103228790">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamtrack-id-1">4.2 MediaStream</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-id-2">Methods</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-id-3">4.3 MediaStreamTrack</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-id-4">4.3.3 Interface Definition</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-id-5">Attributes</a> <a href="#ref-for-dom-mediastreamtrack-id-6">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamtrack-label">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamtrack-label">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-103228790">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamtrack-label-1">4.3 MediaStreamTrack</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-label-2">4.3.3 Interface Definition</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-label-3">Attributes</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-label-4">16.1 Defining a new media type (beyond the existing Audio and Video types)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamtrack-enabled">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamtrack-enabled">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-103228790">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamtrack-enabled-1">4.3 MediaStreamTrack</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-enabled-2">4.3.1 Life-cycle and Media Flow</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-enabled-3">4.3.3 Interface Definition</a> <a href="#ref-for-dom-mediastreamtrack-enabled-5">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-enabled-4">Attributes</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamtrack-muted">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamtrack-muted">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-103228790">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamtrack-muted-1">4.3.1 Life-cycle and Media Flow</a> <a href="#ref-for-dom-mediastreamtrack-muted-2">(2)</a> <a href="#ref-for-dom-mediastreamtrack-muted-3">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-muted-4">4.3.3 Interface Definition</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-muted-5">Attributes</a> <a href="#ref-for-dom-mediastreamtrack-muted-6">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamtrack-onmute">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamtrack-onmute">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-103228790">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamtrack-onmute-1">4.3.3 Interface Definition</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamtrack-onunmute">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamtrack-onunmute">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-103228790">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamtrack-onunmute-1">4.3.3 Interface Definition</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamtrack-readystate">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamtrack-readystate">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-103228790">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamtrack-readystate-1">4.3 MediaStreamTrack</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-readystate-2">4.3.1 Life-cycle and Media Flow</a> <a href="#ref-for-dom-mediastreamtrack-readystate-3">(2)</a> <a href="#ref-for-dom-mediastreamtrack-readystate-4">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-readystate-5">4.3.3 Interface Definition</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-readystate-6">Attributes</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-readystate-7">Methods</a> <a href="#ref-for-dom-mediastreamtrack-readystate-8">(2)</a> <a href="#ref-for-dom-mediastreamtrack-readystate-9">(3)</a> <a href="#ref-for-dom-mediastreamtrack-readystate-10">(4)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamtrack-onended">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamtrack-onended">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-103228790">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamtrack-onended-1">4.3.3 Interface Definition</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamtrack-clone">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamtrack-clone">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-103228790">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamtrack-clone-1">4.3.3 Interface Definition</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-clone-2">Methods</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamtrack-stop">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamtrack-stop">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-103228790">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamtrack-stop-1">4.3 MediaStreamTrack</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-stop-2">4.3.1 Life-cycle and Media Flow</a> <a href="#ref-for-dom-mediastreamtrack-stop-3">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-stop-4">4.3.3 Interface Definition</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-stop-5">Methods</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamtrack-getcapabilities">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamtrack-getcapabilities">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-103228790">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamtrack-getcapabilities-1">3. Terminology</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-getcapabilities-2">4.3.3 Interface Definition</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-getcapabilities-3">4.3.8 Constrainable Properties</a> <a href="#ref-for-dom-mediastreamtrack-getcapabilities-4">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-getcapabilities-5">Methods</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-getcapabilities-6">16.1 Defining a new media type (beyond the existing Audio and Video types)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamtrack-getconstraints">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamtrack-getconstraints">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-103228790">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamtrack-getconstraints-1">4.3.3 Interface Definition</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamtrack-getsettings">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamtrack-getsettings">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-103228790">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamtrack-getsettings-1">4.3.3 Interface Definition</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-getsettings-2">11. Constrainable Pattern</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamtrack-applyconstraints">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamtrack-applyconstraints">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-103228790">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamtrack-applyconstraints-1">4.3.3 Interface Definition</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-applyconstraints-2">Methods</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-applyconstraints-3">4.3.8 Constrainable Properties</a> <a href="#ref-for-dom-mediastreamtrack-applyconstraints-4">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-applyconstraints-5">5. The model: sources, sinks, constraints, and settings</a> <a href="#ref-for-dom-mediastreamtrack-applyconstraints-6">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrack-applyconstraints-7">11.1 Interface Definition</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamtrackstate-ended">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamtrackstate-ended">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamtrackstate-ended-1">4.3.1 Life-cycle and Media Flow</a> <a href="#ref-for-dom-mediastreamtrackstate-ended-2">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrackstate-ended-3">Methods</a> <a href="#ref-for-dom-mediastreamtrackstate-ended-4">(2)</a> <a href="#ref-for-dom-mediastreamtrackstate-ended-5">(3)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamtrackstate">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamtrackstate">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-297015978">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamtrackstate-1">4.3.3 Interface Definition</a> <a href="#ref-for-dom-mediastreamtrackstate-3">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrackstate-2">Attributes</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrackstate-4">16.1 Defining a new media type (beyond the existing Audio and Video types)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-idl-def-MediaStreamTrackState.live">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#idl-def-MediaStreamTrackState.live">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-297015978">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-idl-def-MediaStreamTrackState.live-1">4.3.1 Life-cycle and Media Flow</a> <a href="#ref-for-idl-def-MediaStreamTrackState.live-2">(2)</a> 
  </li><li>
    <a href="#ref-for-idl-def-MediaStreamTrackState.live-3">4.3.3 Interface Definition</a> <a href="#ref-for-idl-def-MediaStreamTrackState.live-4">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-idl-def-MediaStreamTrackState.ended">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#idl-def-MediaStreamTrackState.ended">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-idl-def-MediaStreamTrackState.ended-1">4.3.1 Life-cycle and Media Flow</a> 
  </li><li>
    <a href="#ref-for-idl-def-MediaStreamTrackState.ended-2">Attributes</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksupportedconstraints">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksupportedconstraints">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1918094735">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksupportedconstraints-1">4.3.4 MediaTrackSupportedConstraints</a> <a href="#ref-for-dom-mediatracksupportedconstraints-2">(2)</a> <a href="#ref-for-dom-mediatracksupportedconstraints-3">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-mediatracksupportedconstraints-4">Dictionary MediaTrackSupportedConstraints Members</a> 
  </li><li>
    <a href="#ref-for-dom-mediatracksupportedconstraints-5">10.2 MediaDevices Interface Extensions</a> 
  </li><li>
    <a href="#ref-for-dom-mediatracksupportedconstraints-6">16.2 Defining a new constrainable property</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksupportedconstraints-width">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksupportedconstraints-width">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1918094735">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksupportedconstraints-width-1">4.3.4 MediaTrackSupportedConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksupportedconstraints-height">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksupportedconstraints-height">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1918094735">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksupportedconstraints-height-1">4.3.4 MediaTrackSupportedConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksupportedconstraints-aspectratio">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksupportedconstraints-aspectratio">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1918094735">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksupportedconstraints-aspectratio-1">4.3.4 MediaTrackSupportedConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksupportedconstraints-framerate">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksupportedconstraints-framerate">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1918094735">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksupportedconstraints-framerate-1">4.3.4 MediaTrackSupportedConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksupportedconstraints-facingmode">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksupportedconstraints-facingmode">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1918094735">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksupportedconstraints-facingmode-1">4.3.4 MediaTrackSupportedConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksupportedconstraints-resizemode">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksupportedconstraints-resizemode">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1918094735">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksupportedconstraints-resizemode-1">4.3.4 MediaTrackSupportedConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksupportedconstraints-samplerate">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksupportedconstraints-samplerate">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1918094735">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksupportedconstraints-samplerate-1">4.3.4 MediaTrackSupportedConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksupportedconstraints-samplesize">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksupportedconstraints-samplesize">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1918094735">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksupportedconstraints-samplesize-1">4.3.4 MediaTrackSupportedConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksupportedconstraints-echocancellation">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksupportedconstraints-echocancellation">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1918094735">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksupportedconstraints-echocancellation-1">4.3.4 MediaTrackSupportedConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksupportedconstraints-autogaincontrol">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksupportedconstraints-autogaincontrol">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1918094735">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksupportedconstraints-autogaincontrol-1">4.3.4 MediaTrackSupportedConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksupportedconstraints-noisesuppression">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksupportedconstraints-noisesuppression">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1918094735">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksupportedconstraints-noisesuppression-1">4.3.4 MediaTrackSupportedConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksupportedconstraints-latency">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksupportedconstraints-latency">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1918094735">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksupportedconstraints-latency-1">4.3.4 MediaTrackSupportedConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksupportedconstraints-channelcount">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksupportedconstraints-channelcount">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1918094735">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksupportedconstraints-channelcount-1">4.3.4 MediaTrackSupportedConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksupportedconstraints-deviceid">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksupportedconstraints-deviceid">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1918094735">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksupportedconstraints-deviceid-1">4.3.4 MediaTrackSupportedConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksupportedconstraints-groupid">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksupportedconstraints-groupid">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1918094735">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksupportedconstraints-groupid-1">4.3.4 MediaTrackSupportedConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackcapabilities">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackcapabilities">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1135231111">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackcapabilities-1">4.3.3 Interface Definition</a> 
  </li><li>
    <a href="#ref-for-dom-mediatrackcapabilities-2">4.3.5 MediaTrackCapabilities</a> <a href="#ref-for-dom-mediatrackcapabilities-3">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediatrackcapabilities-4">Dictionary MediaTrackCapabilities Members</a> 
  </li><li>
    <a href="#ref-for-dom-mediatrackcapabilities-5">9.4 Input-specific Device Info</a> 
  </li><li>
    <a href="#ref-for-dom-mediatrackcapabilities-6">Methods</a> 
  </li><li>
    <a href="#ref-for-dom-mediatrackcapabilities-7">11.3 Capabilities</a> 
  </li><li>
    <a href="#ref-for-dom-mediatrackcapabilities-8">16.2 Defining a new constrainable property</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackcapabilities-width">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackcapabilities-width">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1135231111">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackcapabilities-width-1">4.3.5 MediaTrackCapabilities</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackcapabilities-height">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackcapabilities-height">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1135231111">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackcapabilities-height-1">4.3.5 MediaTrackCapabilities</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackcapabilities-aspectratio">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackcapabilities-aspectratio">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1135231111">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackcapabilities-aspectratio-1">4.3.5 MediaTrackCapabilities</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackcapabilities-framerate">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackcapabilities-framerate">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1135231111">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackcapabilities-framerate-1">4.3.5 MediaTrackCapabilities</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackcapabilities-facingmode">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackcapabilities-facingmode">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1135231111">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackcapabilities-facingmode-1">4.3.5 MediaTrackCapabilities</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackcapabilities-resizemode">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackcapabilities-resizemode">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1135231111">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackcapabilities-resizemode-1">4.3.5 MediaTrackCapabilities</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackcapabilities-samplerate">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackcapabilities-samplerate">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1135231111">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackcapabilities-samplerate-1">4.3.5 MediaTrackCapabilities</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackcapabilities-samplesize">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackcapabilities-samplesize">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1135231111">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackcapabilities-samplesize-1">4.3.5 MediaTrackCapabilities</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackcapabilities-echocancellation">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackcapabilities-echocancellation">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1135231111">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackcapabilities-echocancellation-1">4.3.5 MediaTrackCapabilities</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackcapabilities-autogaincontrol">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackcapabilities-autogaincontrol">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1135231111">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackcapabilities-autogaincontrol-1">4.3.5 MediaTrackCapabilities</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackcapabilities-noisesuppression">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackcapabilities-noisesuppression">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1135231111">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackcapabilities-noisesuppression-1">4.3.5 MediaTrackCapabilities</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackcapabilities-latency">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackcapabilities-latency">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1135231111">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackcapabilities-latency-1">4.3.5 MediaTrackCapabilities</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackcapabilities-channelcount">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackcapabilities-channelcount">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1135231111">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackcapabilities-channelcount-1">4.3.5 MediaTrackCapabilities</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackcapabilities-deviceid">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackcapabilities-deviceid">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1135231111">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackcapabilities-deviceid-1">4.3.5 MediaTrackCapabilities</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackcapabilities-groupid">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackcapabilities-groupid">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1135231111">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackcapabilities-groupid-1">4.3.5 MediaTrackCapabilities</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackconstraints">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackconstraints">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1990788238">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackconstraints-1">4.3.3 Interface Definition</a> <a href="#ref-for-dom-mediatrackconstraints-2">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediatrackconstraints-3">4.3.6 MediaTrackConstraints</a> 
  </li><li>
    <a href="#ref-for-dom-mediatrackconstraints-4">Dictionary MediaTrackConstraints Members</a> 
  </li><li>
    <a href="#ref-for-dom-mediatrackconstraints-5">10.3 MediaStreamConstraints</a> <a href="#ref-for-dom-mediatrackconstraints-6">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediatrackconstraints-7">Dictionary MediaStreamConstraints Members</a> <a href="#ref-for-dom-mediatrackconstraints-8">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediatrackconstraints-9">16.2 Defining a new constrainable property</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackconstraints-advanced">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackconstraints-advanced">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1990788238">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackconstraints-advanced-1">4.3.6 MediaTrackConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackconstraintset">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackconstraintset">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1321993046">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackconstraintset-1">4.3.6 MediaTrackConstraints</a> <a href="#ref-for-dom-mediatrackconstraintset-2">(2)</a> <a href="#ref-for-dom-mediatrackconstraintset-4">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-mediatrackconstraintset-3">Dictionary MediaTrackConstraints Members</a> 
  </li><li>
    <a href="#ref-for-dom-mediatrackconstraintset-5">Dictionary MediaTrackConstraintSet Members</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackconstraintset-width">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackconstraintset-width">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1321993046">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackconstraintset-width-1">4.3.6 MediaTrackConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackconstraintset-height">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackconstraintset-height">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1321993046">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackconstraintset-height-1">4.3.6 MediaTrackConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackconstraintset-aspectratio">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackconstraintset-aspectratio">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1321993046">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackconstraintset-aspectratio-1">4.3.6 MediaTrackConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackconstraintset-framerate">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackconstraintset-framerate">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1321993046">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackconstraintset-framerate-1">4.3.6 MediaTrackConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackconstraintset-facingmode">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackconstraintset-facingmode">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1321993046">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackconstraintset-facingmode-1">4.3.6 MediaTrackConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackconstraintset-resizemode">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackconstraintset-resizemode">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1321993046">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackconstraintset-resizemode-1">4.3.6 MediaTrackConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackconstraintset-samplerate">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackconstraintset-samplerate">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1321993046">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackconstraintset-samplerate-1">4.3.6 MediaTrackConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackconstraintset-samplesize">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackconstraintset-samplesize">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1321993046">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackconstraintset-samplesize-1">4.3.6 MediaTrackConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackconstraintset-echocancellation">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackconstraintset-echocancellation">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1321993046">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackconstraintset-echocancellation-1">4.3.6 MediaTrackConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackconstraintset-autogaincontrol">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackconstraintset-autogaincontrol">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1321993046">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackconstraintset-autogaincontrol-1">4.3.6 MediaTrackConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackconstraintset-noisesuppression">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackconstraintset-noisesuppression">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1321993046">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackconstraintset-noisesuppression-1">4.3.6 MediaTrackConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackconstraintset-latency">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackconstraintset-latency">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1321993046">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackconstraintset-latency-1">4.3.6 MediaTrackConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackconstraintset-channelcount">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackconstraintset-channelcount">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1321993046">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackconstraintset-channelcount-1">4.3.6 MediaTrackConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackconstraintset-deviceid">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackconstraintset-deviceid">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1321993046">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackconstraintset-deviceid-1">4.3.6 MediaTrackConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatrackconstraintset-groupid">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatrackconstraintset-groupid">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1321993046">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatrackconstraintset-groupid-1">4.3.6 MediaTrackConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksettings">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksettings">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1407576612">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksettings-1">4.3.3 Interface Definition</a> 
  </li><li>
    <a href="#ref-for-dom-mediatracksettings-2">Methods</a> <a href="#ref-for-dom-mediatracksettings-3">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediatracksettings-4">4.3.7 MediaTrackSettings</a> <a href="#ref-for-dom-mediatracksettings-5">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediatracksettings-6">Dictionary MediaTrackSettings Members</a> 
  </li><li>
    <a href="#ref-for-dom-mediatracksettings-7">11.4 Settings</a> 
  </li><li>
    <a href="#ref-for-dom-mediatracksettings-8">16.2 Defining a new constrainable property</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksettings-width">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksettings-width">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1407576612">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksettings-width-1">4.3.7 MediaTrackSettings</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksettings-height">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksettings-height">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1407576612">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksettings-height-1">4.3.7 MediaTrackSettings</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksettings-aspectratio">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksettings-aspectratio">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1407576612">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksettings-aspectratio-1">4.3.7 MediaTrackSettings</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksettings-framerate">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksettings-framerate">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1407576612">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksettings-framerate-1">4.3.7 MediaTrackSettings</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksettings-facingmode">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksettings-facingmode">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1407576612">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksettings-facingmode-1">4.3.7 MediaTrackSettings</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksettings-resizemode">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksettings-resizemode">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1407576612">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksettings-resizemode-1">4.3.7 MediaTrackSettings</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksettings-samplerate">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksettings-samplerate">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1407576612">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksettings-samplerate-1">4.3.7 MediaTrackSettings</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksettings-samplesize">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksettings-samplesize">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1407576612">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksettings-samplesize-1">4.3.7 MediaTrackSettings</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksettings-echocancellation">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksettings-echocancellation">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1407576612">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksettings-echocancellation-1">4.3.7 MediaTrackSettings</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksettings-autogaincontrol">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksettings-autogaincontrol">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1407576612">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksettings-autogaincontrol-1">4.3.7 MediaTrackSettings</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksettings-noisesuppression">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksettings-noisesuppression">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1407576612">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksettings-noisesuppression-1">4.3.7 MediaTrackSettings</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksettings-latency">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksettings-latency">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1407576612">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksettings-latency-1">4.3.7 MediaTrackSettings</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksettings-channelcount">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksettings-channelcount">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1407576612">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksettings-channelcount-1">4.3.7 MediaTrackSettings</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksettings-deviceid">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksettings-deviceid">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1407576612">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksettings-deviceid-1">4.3.7 MediaTrackSettings</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediatracksettings-groupid">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediatracksettings-groupid">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1407576612">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediatracksettings-groupid-1">4.3.7 MediaTrackSettings</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-deviceid">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-deviceid">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-deviceid-1">4.3.1 Life-cycle and Media Flow</a> 
  </li><li>
    <a href="#ref-for-dfn-deviceid-2">5. The model: sources, sinks, constraints, and settings</a> <a href="#ref-for-dfn-deviceid-3">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-deviceid-4">10.2 MediaDevices Interface Extensions</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-groupid">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-groupid">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-groupid-1">10.2 MediaDevices Interface Extensions</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-width">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-width">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-width-1">10.2 MediaDevices Interface Extensions</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-height">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-height">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-height-1">10.2 MediaDevices Interface Extensions</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-framerate">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-framerate">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-framerate-1">10.2 MediaDevices Interface Extensions</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-aspectratio">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-aspectratio">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-aspectratio-1">10.2 MediaDevices Interface Extensions</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-facingmode">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-facingmode">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-facingmode-1">10.2 MediaDevices Interface Extensions</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-resizemode">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-resizemode">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-resizemode-1">10.2 MediaDevices Interface Extensions</a> 
  </li><li>
    <a href="#ref-for-dfn-resizemode-2">Methods</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-videofacingmodeenum">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-videofacingmodeenum">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1048699732">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-videofacingmodeenum-1">4.3.8 Constrainable Properties</a> <a href="#ref-for-dom-videofacingmodeenum-2">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-videofacingmodeenum-user">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-videofacingmodeenum-user">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1048699732">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-videofacingmodeenum-user-1">Dictionary MediaTrackCapabilities Members</a> 
  </li><li>
    <a href="#ref-for-dom-videofacingmodeenum-user-2">4.3.8 Constrainable Properties</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-videofacingmodeenum-environment">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-videofacingmodeenum-environment">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1048699732">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-videofacingmodeenum-environment-1">4.3.8 Constrainable Properties</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-videofacingmodeenum-left">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-videofacingmodeenum-left">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1048699732">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-videofacingmodeenum-left-1">Dictionary MediaTrackCapabilities Members</a> 
  </li><li>
    <a href="#ref-for-dom-videofacingmodeenum-left-2">4.3.8 Constrainable Properties</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-videofacingmodeenum-right">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-videofacingmodeenum-right">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1048699732">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-videofacingmodeenum-right-1">4.3.8 Constrainable Properties</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-videoresizemodeenum">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-videoresizemodeenum">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1960342920">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-videoresizemodeenum-1">4.3.8 Constrainable Properties</a> <a href="#ref-for-dom-videoresizemodeenum-2">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-idl-def-VideoResizeModeEnum.user">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#idl-def-VideoResizeModeEnum.user">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1960342920">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-idl-def-VideoResizeModeEnum.user-1">Dictionary MediaTrackCapabilities Members</a> 
  </li><li>
    <a href="#ref-for-idl-def-VideoResizeModeEnum.user-2">4.3.8 Constrainable Properties</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-idl-def-VideoResizeModeEnum.right">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#idl-def-VideoResizeModeEnum.right">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1960342920">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-idl-def-VideoResizeModeEnum.right-1">4.3.8 Constrainable Properties</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-samplerate">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-samplerate">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-samplerate-1">10.2 MediaDevices Interface Extensions</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-samplesize">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-samplesize">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-samplesize-1">10.2 MediaDevices Interface Extensions</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-echocancellation">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-echocancellation">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-echocancellation-1">10.2 MediaDevices Interface Extensions</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-autogaincontrol">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-autogaincontrol">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-autogaincontrol-1">10.2 MediaDevices Interface Extensions</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-noisesuppression">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-noisesuppression">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-noisesuppression-1">10.2 MediaDevices Interface Extensions</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-latency">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-latency">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-latency-1">10.2 MediaDevices Interface Extensions</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-channelcount">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-channelcount">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-channelcount-1">10.2 MediaDevices Interface Extensions</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-fire-a-track-event">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-fire-a-track-event">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamtrackevent">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamtrackevent">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamtrackevent-1">4.4 MediaStreamTrackEvent</a> <a href="#ref-for-dom-mediastreamtrackevent-2">(2)</a> <a href="#ref-for-dom-mediastreamtrackevent-3">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrackevent-4">Constructors</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrackevent-5">8. Event summary</a> <a href="#ref-for-dom-mediastreamtrackevent-6">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamtrackevent-constructor">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamtrackevent-constructor">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1754772952">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamtrackevent-constructor-1">4.4 MediaStreamTrackEvent</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamtrackevent-track">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamtrackevent-track">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1754772952">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamtrackevent-track-1">4.4 MediaStreamTrackEvent</a> <a href="#ref-for-dom-mediastreamtrackevent-track-2">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamtrackevent-track-3">Attributes</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamtrackeventinit">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamtrackeventinit">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1488799090">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamtrackeventinit-1">4.4 MediaStreamTrackEvent</a> <a href="#ref-for-dom-mediastreamtrackeventinit-2">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamtrackeventinit-track">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamtrackeventinit-track">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1488799090">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamtrackeventinit-track-1">4.4 MediaStreamTrackEvent</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-ended-video-playback">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-ended-video-playback">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-ended-audio-playback">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-ended-audio-playback">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-overconstrainederror-constructor">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-overconstrainederror-constructor">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <b>Referenced in:</b>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-overconstrainederror">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-overconstrainederror">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-425844780">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-overconstrainederror-1">7.1 OverconstrainedError Interface</a> 
  </li><li>
    <a href="#ref-for-dom-overconstrainederror-2">7.1.1 Constructors</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-overconstrainederror-constraint">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-overconstrainederror-constraint">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-425844780">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-overconstrainederror-constraint-1">7.1 OverconstrainedError Interface</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-event-mediastream-addtrack">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#event-mediastream-addtrack">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-event-mediastream-addtrack-1">4.2 MediaStream</a> 
  </li><li>
    <a href="#ref-for-event-mediastream-addtrack-2">4.4 MediaStreamTrackEvent</a> <a href="#ref-for-event-mediastream-addtrack-3">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-event-mediastream-removetrack">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#event-mediastream-removetrack">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-event-mediastream-removetrack-1">4.2 MediaStream</a> 
  </li><li>
    <a href="#ref-for-event-mediastream-removetrack-2">4.4 MediaStreamTrackEvent</a> <a href="#ref-for-event-mediastream-removetrack-3">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-event-mediastreamtrack-mute">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#event-mediastreamtrack-mute">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-event-mediastreamtrack-mute-1">4.3.1 Life-cycle and Media Flow</a> <a href="#ref-for-event-mediastreamtrack-mute-2">(2)</a> 
  </li><li>
    <a href="#ref-for-event-mediastreamtrack-mute-3">Attributes</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-event-mediastreamtrack-unmute">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#event-mediastreamtrack-unmute">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-event-mediastreamtrack-unmute-1">4.3.1 Life-cycle and Media Flow</a> <a href="#ref-for-event-mediastreamtrack-unmute-2">(2)</a> 
  </li><li>
    <a href="#ref-for-event-mediastreamtrack-unmute-3">Attributes</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-event-mediadevices-devicechange">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#event-mediadevices-devicechange">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-event-mediadevices-devicechange-1">9.2 MediaDevices</a> <a href="#ref-for-event-mediadevices-devicechange-2">(2)</a> 
  </li><li>
    <a href="#ref-for-event-mediadevices-devicechange-3">Attributes</a> 
  </li><li>
    <a href="#ref-for-event-mediadevices-devicechange-4">15. Privacy and Security Considerations</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-navigator">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-navigator">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-navigator-1">9.1 Navigator Interface Extensions</a> 
  </li><li>
    <a href="#ref-for-dom-navigator-2">Attributes</a> 
  </li><li>
    <a href="#ref-for-dom-navigator-3">10. Obtaining local multimedia content</a> 
  </li><li>
    <a href="#ref-for-dom-navigator-4">10.1 Legacy Interface Extensions</a> 
  </li><li>
    <a href="#ref-for-dom-navigator-5">10.2 MediaDevices Interface Extensions</a> <a href="#ref-for-dom-navigator-6">(2)</a> <a href="#ref-for-dom-navigator-7">(3)</a> <a href="#ref-for-dom-navigator-8">(4)</a> 
  </li><li>
    <a href="#ref-for-dom-navigator-9">Callback NavigatorUserMediaSuccessCallback Parameters</a> 
  </li><li>
    <a href="#ref-for-dom-navigator-10">Callback NavigatorUserMediaErrorCallback Parameters</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-navigator-mediadevices">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-navigator-mediadevices">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1483683772">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-navigator-mediadevices-1">9.1 Navigator Interface Extensions</a> 
  </li><li>
    <a href="#ref-for-dom-navigator-mediadevices-2">Attributes</a> <a href="#ref-for-dom-navigator-mediadevices-3">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-navigator-mediadevices-4">Methods</a> <a href="#ref-for-dom-navigator-mediadevices-5">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediadevices">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediadevices">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2019836602">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediadevices-1">8. Event summary</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevices-2">9.1 Navigator Interface Extensions</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevices-3">9.2 MediaDevices</a> <a href="#ref-for-dom-mediadevices-4">(2)</a> <a href="#ref-for-dom-mediadevices-5">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevices-6">10. Obtaining local multimedia content</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevices-7">10.1 Legacy Interface Extensions</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevices-8">10.2 MediaDevices Interface Extensions</a> <a href="#ref-for-dom-mediadevices-9">(2)</a> <a href="#ref-for-dom-mediadevices-10">(3)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-deviceslivemap">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-deviceslivemap">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-deviceslivemap-1">4.3 MediaStreamTrack</a> 
  </li><li>
    <a href="#ref-for-dfn-deviceslivemap-2">4.3.1 Life-cycle and Media Flow</a> 
  </li><li>
    <a href="#ref-for-dfn-deviceslivemap-3">9.2 MediaDevices</a> 
  </li><li>
    <a href="#ref-for-dfn-deviceslivemap-4">Methods</a> 
  </li><li>
    <a href="#ref-for-dfn-deviceslivemap-5">14. Privacy Indicator Requirements</a> <a href="#ref-for-dfn-deviceslivemap-6">(2)</a> <a href="#ref-for-dfn-deviceslivemap-7">(3)</a> <a href="#ref-for-dfn-deviceslivemap-8">(4)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-devicesaccessiblemap">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-devicesaccessiblemap">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-devicesaccessiblemap-1">4.3 MediaStreamTrack</a> 
  </li><li>
    <a href="#ref-for-dfn-devicesaccessiblemap-2">9.2 MediaDevices</a> <a href="#ref-for-dfn-devicesaccessiblemap-3">(2)</a> <a href="#ref-for-dfn-devicesaccessiblemap-4">(3)</a> 
  </li><li>
    <a href="#ref-for-dfn-devicesaccessiblemap-5">Methods</a> 
  </li><li>
    <a href="#ref-for-dfn-devicesaccessiblemap-6">14. Privacy Indicator Requirements</a> <a href="#ref-for-dfn-devicesaccessiblemap-7">(2)</a> <a href="#ref-for-dfn-devicesaccessiblemap-8">(3)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-kindsaccessiblemap">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-kindsaccessiblemap">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-kindsaccessiblemap-1">9.2 MediaDevices</a> <a href="#ref-for-dfn-kindsaccessiblemap-2">(2)</a> <a href="#ref-for-dfn-kindsaccessiblemap-3">(3)</a> 
  </li><li>
    <a href="#ref-for-dfn-kindsaccessiblemap-4">14. Privacy Indicator Requirements</a> <a href="#ref-for-dfn-kindsaccessiblemap-5">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-storeddevicelist">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-storeddevicelist">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-storeddevicelist-1">9.2 MediaDevices</a> <a href="#ref-for-dfn-storeddevicelist-2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-storeddevicelist-3">Methods</a> <a href="#ref-for-dfn-storeddevicelist-4">(2)</a> <a href="#ref-for-dfn-storeddevicelist-5">(3)</a> 
  </li><li>
    <a href="#ref-for-dfn-storeddevicelist-6">9.2.3 Set device information exposure</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-canexposedeviceinfo">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-canexposedeviceinfo">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-canexposedeviceinfo-1">9.2.2 Device information exposure</a> 
  </li><li>
    <a href="#ref-for-dfn-canexposedeviceinfo-2">9.2.3 Set device information exposure</a> <a href="#ref-for-dfn-canexposedeviceinfo-3">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-device-change-notification-steps">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-device-change-notification-steps">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-device-change-notification-steps-1">9.2 MediaDevices</a> <a href="#ref-for-dfn-device-change-notification-steps-2">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediadevices-ondevicechange">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediadevices-ondevicechange">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2019836602">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediadevices-ondevicechange-1">9.2 MediaDevices</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediadevices-enumeratedevices">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediadevices-enumeratedevices">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2019836602">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediadevices-enumeratedevices-1">8. Event summary</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevices-enumeratedevices-2">9.2 MediaDevices</a> <a href="#ref-for-dom-mediadevices-enumeratedevices-3">(2)</a> <a href="#ref-for-dom-mediadevices-enumeratedevices-4">(3)</a> <a href="#ref-for-dom-mediadevices-enumeratedevices-5">(4)</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevices-enumeratedevices-6">Methods</a> <a href="#ref-for-dom-mediadevices-enumeratedevices-9">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevices-enumeratedevices-7">9.2.1 Access control model</a> <a href="#ref-for-dom-mediadevices-enumeratedevices-8">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevices-enumeratedevices-10">13. Permissions Policy Integration</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediadeviceinfo">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediadeviceinfo">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1099534138">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediadeviceinfo-1">4.3.8 Constrainable Properties</a> <a href="#ref-for-dom-mediadeviceinfo-2">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediadeviceinfo-3">9.2 MediaDevices</a> 
  </li><li>
    <a href="#ref-for-dom-mediadeviceinfo-4">Methods</a> <a href="#ref-for-dom-mediadeviceinfo-5">(2)</a> <a href="#ref-for-dom-mediadeviceinfo-6">(3)</a> <a href="#ref-for-dom-mediadeviceinfo-7">(4)</a> <a href="#ref-for-dom-mediadeviceinfo-13">(5)</a> 
  </li><li>
    <a href="#ref-for-dom-mediadeviceinfo-8">9.2.1 Access control model</a> <a href="#ref-for-dom-mediadeviceinfo-9">(2)</a> <a href="#ref-for-dom-mediadeviceinfo-10">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-mediadeviceinfo-11">9.3 Device Info</a> 
  </li><li>
    <a href="#ref-for-dom-mediadeviceinfo-12">9.4 Input-specific Device Info</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-creating-a-device-info-object">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#creating-a-device-info-object">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-creating-a-device-info-object-1">Methods</a> <a href="#ref-for-creating-a-device-info-object-2">(2)</a> <a href="#ref-for-creating-a-device-info-object-3">(3)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-device-enumeration-can-proceed">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#device-enumeration-can-proceed">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-device-enumeration-can-proceed-1">9.2 MediaDevices</a> <a href="#ref-for-device-enumeration-can-proceed-2">(2)</a> <a href="#ref-for-device-enumeration-can-proceed-3">(3)</a> 
  </li><li>
    <a href="#ref-for-device-enumeration-can-proceed-4">Methods</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-device-information-can-be-exposed">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#device-information-can-be-exposed">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-device-information-can-be-exposed-1">9.2 MediaDevices</a> <a href="#ref-for-device-information-can-be-exposed-2">(2)</a> 
  </li><li>
    <a href="#ref-for-device-information-can-be-exposed-3">Methods</a> <a href="#ref-for-device-information-can-be-exposed-6">(2)</a> 
  </li><li>
    <a href="#ref-for-device-information-can-be-exposed-4">9.2.1 Access control model</a> 
  </li><li>
    <a href="#ref-for-device-information-can-be-exposed-5">9.2.2 Device information exposure</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-set-device-information-exposure">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#set-device-information-exposure">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-set-device-information-exposure-1">Methods</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-device-exposure-decision-non-camera-microphone">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#device-exposure-decision-non-camera-microphone">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-device-exposure-decision-non-camera-microphone-1">Methods</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediadeviceinfo-deviceid">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediadeviceinfo-deviceid">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1099534138">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediadeviceinfo-deviceid-1">4.3 MediaStreamTrack</a> 
  </li><li>
    <a href="#ref-for-dom-mediadeviceinfo-deviceid-2">4.3.1 Life-cycle and Media Flow</a> 
  </li><li>
    <a href="#ref-for-dom-mediadeviceinfo-deviceid-3">4.3.8 Constrainable Properties</a> 
  </li><li>
    <a href="#ref-for-dom-mediadeviceinfo-deviceid-4">9.2.1 Access control model</a> <a href="#ref-for-dom-mediadeviceinfo-deviceid-5">(2)</a> <a href="#ref-for-dom-mediadeviceinfo-deviceid-6">(3)</a> <a href="#ref-for-dom-mediadeviceinfo-deviceid-7">(4)</a> <a href="#ref-for-dom-mediadeviceinfo-deviceid-8">(5)</a> <a href="#ref-for-dom-mediadeviceinfo-deviceid-9">(6)</a> 
  </li><li>
    <a href="#ref-for-dom-mediadeviceinfo-deviceid-10">9.3 Device Info</a> 
  </li><li>
    <a href="#ref-for-dom-mediadeviceinfo-deviceid-11">Attributes</a> <a href="#ref-for-dom-mediadeviceinfo-deviceid-12">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediadeviceinfo-deviceid-13">Methods</a> 
  </li><li>
    <a href="#ref-for-dom-mediadeviceinfo-deviceid-14">10.6 Implementation Suggestions</a> 
  </li><li>
    <a href="#ref-for-dom-mediadeviceinfo-deviceid-15">15. Privacy and Security Considerations</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediadeviceinfo-kind">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediadeviceinfo-kind">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1099534138">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediadeviceinfo-kind-1">9.2.1 Access control model</a> <a href="#ref-for-dom-mediadeviceinfo-kind-2">(2)</a> <a href="#ref-for-dom-mediadeviceinfo-kind-3">(3)</a> <a href="#ref-for-dom-mediadeviceinfo-kind-4">(4)</a> <a href="#ref-for-dom-mediadeviceinfo-kind-5">(5)</a> 
  </li><li>
    <a href="#ref-for-dom-mediadeviceinfo-kind-6">9.3 Device Info</a> 
  </li><li>
    <a href="#ref-for-dom-mediadeviceinfo-kind-7">Attributes</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediadeviceinfo-label">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediadeviceinfo-label">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1099534138">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediadeviceinfo-label-1">9.2.1 Access control model</a> <a href="#ref-for-dom-mediadeviceinfo-label-2">(2)</a> <a href="#ref-for-dom-mediadeviceinfo-label-3">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-mediadeviceinfo-label-4">9.3 Device Info</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediadeviceinfo-groupid">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediadeviceinfo-groupid">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1099534138">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediadeviceinfo-groupid-1">4.3.8 Constrainable Properties</a> 
  </li><li>
    <a href="#ref-for-dom-mediadeviceinfo-groupid-2">9.2.1 Access control model</a> <a href="#ref-for-dom-mediadeviceinfo-groupid-3">(2)</a> <a href="#ref-for-dom-mediadeviceinfo-groupid-4">(3)</a> <a href="#ref-for-dom-mediadeviceinfo-groupid-5">(4)</a> <a href="#ref-for-dom-mediadeviceinfo-groupid-6">(5)</a> <a href="#ref-for-dom-mediadeviceinfo-groupid-7">(6)</a> 
  </li><li>
    <a href="#ref-for-dom-mediadeviceinfo-groupid-8">9.3 Device Info</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediadeviceinfo-tojson">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediadeviceinfo-tojson">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1099534138">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediadeviceinfo-tojson-1">9.3 Device Info</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediadevicekind">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediadevicekind">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-512153022">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediadevicekind-1">9.2 MediaDevices</a> <a href="#ref-for-dom-mediadevicekind-2">(2)</a> <a href="#ref-for-dom-mediadevicekind-3">(3)</a> <a href="#ref-for-dom-mediadevicekind-4">(4)</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevicekind-5">9.3 Device Info</a> <a href="#ref-for-dom-mediadevicekind-7">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevicekind-6">Attributes</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevicekind-8">16.1 Defining a new media type (beyond the existing Audio and Video types)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-idl-def-MediaDeviceKind.audioinput">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#idl-def-MediaDeviceKind.audioinput">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-512153022">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-idl-def-MediaDeviceKind.audioinput-1">9.3 Device Info</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-idl-def-MediaDeviceKind.audiooutput">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#idl-def-MediaDeviceKind.audiooutput">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-512153022">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-idl-def-MediaDeviceKind.audiooutput-1">9.3 Device Info</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-idl-def-MediaDeviceKind.videoinput">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#idl-def-MediaDeviceKind.videoinput">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-512153022">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-idl-def-MediaDeviceKind.videoinput-1">9.3 Device Info</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-inputdeviceinfo">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-inputdeviceinfo">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-516297588">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-inputdeviceinfo-1">Methods</a> <a href="#ref-for-dom-inputdeviceinfo-3">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-inputdeviceinfo-2">9.4 Input-specific Device Info</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-inputdeviceinfo-getcapabilities">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-inputdeviceinfo-getcapabilities">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-516297588">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-inputdeviceinfo-getcapabilities-1">9.4 Input-specific Device Info</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-navigator-getusermedia">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-navigator-getusermedia">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-453757607">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-navigator-getusermedia-1">10.1 Legacy Interface Extensions</a> 
  </li><li>
    <a href="#ref-for-dom-navigator-getusermedia-2">Methods</a> 
  </li><li>
    <a href="#ref-for-dom-navigator-getusermedia-3">10.2 MediaDevices Interface Extensions</a> <a href="#ref-for-dom-navigator-getusermedia-4">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-navigator-getusermedia-5">Callback NavigatorUserMediaSuccessCallback Parameters</a> 
  </li><li>
    <a href="#ref-for-dom-navigator-getusermedia-6">Callback NavigatorUserMediaErrorCallback Parameters</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediadevices-getsupportedconstraints">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediadevices-getsupportedconstraints">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-823932458">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediadevices-getsupportedconstraints-1">10.2 MediaDevices Interface Extensions</a> <a href="#ref-for-dom-mediadevices-getsupportedconstraints-2">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevices-getsupportedconstraints-3">Methods</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediadevices-getusermedia">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediadevices-getusermedia">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-823932458">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediadevices-getusermedia-1">3. Terminology</a> <a href="#ref-for-dom-mediadevices-getusermedia-2">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevices-getusermedia-3">4.1 Introduction</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevices-getusermedia-4">4.3 MediaStreamTrack</a> <a href="#ref-for-dom-mediadevices-getusermedia-5">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevices-getusermedia-6">4.3.1 Life-cycle and Media Flow</a> <a href="#ref-for-dom-mediadevices-getusermedia-7">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevices-getusermedia-8">4.3.4 MediaTrackSupportedConstraints</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevices-getusermedia-9">4.3.8 Constrainable Properties</a> <a href="#ref-for-dom-mediadevices-getusermedia-10">(2)</a> <a href="#ref-for-dom-mediadevices-getusermedia-11">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevices-getusermedia-12">9.2 MediaDevices</a> <a href="#ref-for-dom-mediadevices-getusermedia-13">(2)</a> <a href="#ref-for-dom-mediadevices-getusermedia-14">(3)</a> <a href="#ref-for-dom-mediadevices-getusermedia-15">(4)</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevices-getusermedia-16">9.2.1 Access control model</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevices-getusermedia-17">Methods</a> <a href="#ref-for-dom-mediadevices-getusermedia-18">(2)</a> <a href="#ref-for-dom-mediadevices-getusermedia-19">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevices-getusermedia-20">10.2 MediaDevices Interface Extensions</a> <a href="#ref-for-dom-mediadevices-getusermedia-21">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevices-getusermedia-22">10.3 MediaStreamConstraints</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevices-getusermedia-23">10.6 Implementation Suggestions</a> <a href="#ref-for-dom-mediadevices-getusermedia-24">(2)</a> <a href="#ref-for-dom-mediadevices-getusermedia-25">(3)</a> <a href="#ref-for-dom-mediadevices-getusermedia-26">(4)</a> <a href="#ref-for-dom-mediadevices-getusermedia-27">(5)</a> <a href="#ref-for-dom-mediadevices-getusermedia-28">(6)</a> <a href="#ref-for-dom-mediadevices-getusermedia-29">(7)</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevices-getusermedia-30">13. Permissions Policy Integration</a> <a href="#ref-for-dom-mediadevices-getusermedia-31">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevices-getusermedia-32">14. Privacy Indicator Requirements</a> 
  </li><li>
    <a href="#ref-for-dom-mediadevices-getusermedia-33">16.1 Defining a new media type (beyond the existing Audio and Video types)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-same-permission">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-same-permission">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-same-permission-1">Methods</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-allowed-required-constraints-for-device-selection">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-allowed-required-constraints-for-device-selection">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-allowed-required-constraints-for-device-selection-1">Methods</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamconstraints">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamconstraints">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2044375472">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamconstraints-1">10.1 Legacy Interface Extensions</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamconstraints-2">Methods</a> <a href="#ref-for-dom-mediastreamconstraints-4">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamconstraints-3">10.2 MediaDevices Interface Extensions</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamconstraints-5">10.3 MediaStreamConstraints</a> <a href="#ref-for-dom-mediastreamconstraints-6">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamconstraints-7">Dictionary MediaStreamConstraints Members</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamconstraints-8">16.1 Defining a new media type (beyond the existing Audio and Video types)</a> 
  </li><li>
    <a href="#ref-for-dom-mediastreamconstraints-9">16.2 Defining a new constrainable property</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamconstraints-video">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamconstraints-video">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2044375472">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamconstraints-video-1">10.3 MediaStreamConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-mediastreamconstraints-audio">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-mediastreamconstraints-audio">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2044375472">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-mediastreamconstraints-audio-1">10.3 MediaStreamConstraints</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-navigatorusermediasuccesscallback">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-navigatorusermediasuccesscallback">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1645394190">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-navigatorusermediasuccesscallback-1">10.1 Legacy Interface Extensions</a> 
  </li><li>
    <a href="#ref-for-dom-navigatorusermediasuccesscallback-2">10.4 NavigatorUserMediaSuccessCallback</a> 
  </li><li>
    <a href="#ref-for-dom-navigatorusermediasuccesscallback-3">Callback NavigatorUserMediaSuccessCallback Parameters</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-navigatorusermediaerrorcallback">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-navigatorusermediaerrorcallback">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1436108300">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-navigatorusermediaerrorcallback-1">10.1 Legacy Interface Extensions</a> 
  </li><li>
    <a href="#ref-for-dom-navigatorusermediaerrorcallback-2">10.5 NavigatorUserMediaErrorCallback</a> 
  </li><li>
    <a href="#ref-for-dom-navigatorusermediaerrorcallback-3">Callback NavigatorUserMediaErrorCallback Parameters</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-stored-permissions">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#stored-permissions">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-stored-permissions-1">Attributes</a> <a href="#ref-for-stored-permissions-2">(2)</a> 
  </li><li>
    <a href="#ref-for-stored-permissions-3">10.6 Implementation Suggestions</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-constrainable-object">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-constrainable-object">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-constrainable-object-1">4.3.2 Tracks and Constraints</a> 
  </li><li>
    <a href="#ref-for-dfn-constrainable-object-2">Methods</a> 
  </li><li>
    <a href="#ref-for-dfn-constrainable-object-3">11.1 Interface Definition</a> 
  </li><li>
    <a href="#ref-for-dfn-constrainable-object-4">11.3 Capabilities</a> <a href="#ref-for-dfn-constrainable-object-5">(2)</a> <a href="#ref-for-dfn-constrainable-object-6">(3)</a> <a href="#ref-for-dfn-constrainable-object-7">(4)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-constrainablepattern">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-constrainablepattern">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-396517552">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-constrainablepattern-1">3. Terminology</a> <a href="#ref-for-dom-constrainablepattern-2">(2)</a> <a href="#ref-for-dom-constrainablepattern-3">(3)</a> <a href="#ref-for-dom-constrainablepattern-4">(4)</a> 
  </li><li>
    <a href="#ref-for-dom-constrainablepattern-5">4.3.2 Tracks and Constraints</a> 
  </li><li>
    <a href="#ref-for-dom-constrainablepattern-6">11.1 Interface Definition</a> 
  </li><li>
    <a href="#ref-for-dom-constrainablepattern-7">Methods</a> <a href="#ref-for-dom-constrainablepattern-8">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-capabilities-0">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-capabilities-0">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-capabilities-0-1">Methods</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-constraints">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-constraints">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-constraints-1">Methods</a> <a href="#ref-for-dfn-constraints-2">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-settings-0">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-settings-0">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-settings-0-1">Methods</a> <a href="#ref-for-dfn-settings-0-2">(2)</a> <a href="#ref-for-dfn-settings-0-3">(3)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-constrainablepattern-applyconstraints">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-constrainablepattern-applyconstraints">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <b>Referenced in:</b>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-constrainablepattern-getcapabilities">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-constrainablepattern-getcapabilities">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-396517552">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-constrainablepattern-getcapabilities-1">11.1 Interface Definition</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-constrainablepattern-getconstraints">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-constrainablepattern-getconstraints">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-396517552">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-constrainablepattern-getconstraints-1">4.3.8 Constrainable Properties</a> <a href="#ref-for-dom-constrainablepattern-getconstraints-2">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-constrainablepattern-getconstraints-3">11.1 Interface Definition</a> 
  </li><li>
    <a href="#ref-for-dom-constrainablepattern-getconstraints-4">Methods</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-constrainablepattern-getsettings">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-constrainablepattern-getsettings">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-396517552">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-constrainablepattern-getsettings-1">11.1 Interface Definition</a> 
  </li><li>
    <a href="#ref-for-dom-constrainablepattern-getsettings-2">Methods</a> <a href="#ref-for-dom-constrainablepattern-getsettings-3">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-applyconstraints-template-method">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-applyconstraints-template-method">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-applyconstraints-template-method-1">Methods</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-settings-dictionary">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-settings-dictionary">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-settings-dictionary-1">Methods</a> <a href="#ref-for-dfn-settings-dictionary-2">(2)</a> <a href="#ref-for-dfn-settings-dictionary-3">(3)</a> <a href="#ref-for-dfn-settings-dictionary-4">(4)</a> <a href="#ref-for-dfn-settings-dictionary-5">(5)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-fitness-distance">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-fitness-distance">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-fitness-distance-1">Methods</a> <a href="#ref-for-dfn-fitness-distance-2">(2)</a> <a href="#ref-for-dfn-fitness-distance-3">(3)</a> <a href="#ref-for-dfn-fitness-distance-4">(4)</a> <a href="#ref-for-dfn-fitness-distance-5">(5)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-required">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-required">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-required-1">3. Terminology</a> 
  </li><li>
    <a href="#ref-for-dfn-required-2">Methods</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-selectsettings">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-selectsettings">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-selectsettings-1">Methods</a> <a href="#ref-for-dfn-selectsettings-2">(2)</a> <a href="#ref-for-dfn-selectsettings-3">(3)</a> <a href="#ref-for-dfn-selectsettings-4">(4)</a> <a href="#ref-for-dfn-selectsettings-5">(5)</a> <a href="#ref-for-dfn-selectsettings-6">(6)</a> <a href="#ref-for-dfn-selectsettings-7">(7)</a> <a href="#ref-for-dfn-selectsettings-8">(8)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-applyconstraints-algorithm">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-applyconstraints-algorithm">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-applyconstraints-algorithm-1">Methods</a> <a href="#ref-for-dfn-applyconstraints-algorithm-2">(2)</a> <a href="#ref-for-dfn-applyconstraints-algorithm-3">(3)</a> <a href="#ref-for-dfn-applyconstraints-algorithm-4">(4)</a> <a href="#ref-for-dfn-applyconstraints-algorithm-5">(5)</a> <a href="#ref-for-dfn-applyconstraints-algorithm-6">(6)</a> <a href="#ref-for-dfn-applyconstraints-algorithm-7">(7)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-doublerange">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-doublerange">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1305047395">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-doublerange-1">4.3.5 MediaTrackCapabilities</a> <a href="#ref-for-dom-doublerange-2">(2)</a> <a href="#ref-for-dom-doublerange-3">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-doublerange-4">Dictionary MediaTrackCapabilities Members</a> <a href="#ref-for-dom-doublerange-5">(2)</a> <a href="#ref-for-dom-doublerange-6">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-doublerange-7">11.2 Types for Constrainable Properties</a> <a href="#ref-for-dom-doublerange-8">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-doublerange-max">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-doublerange-max">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1305047395">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-doublerange-max-1">11.2 Types for Constrainable Properties</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-doublerange-min">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-doublerange-min">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1305047395">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-doublerange-min-1">11.2 Types for Constrainable Properties</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-constraindoublerange">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-constraindoublerange">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2000666622">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-constraindoublerange-1">11.2 Types for Constrainable Properties</a> <a href="#ref-for-dom-constraindoublerange-2">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-constraindoublerange-exact">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-constraindoublerange-exact">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2000666622">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-constraindoublerange-exact-1">11.2 Types for Constrainable Properties</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-constraindoublerange-ideal">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-constraindoublerange-ideal">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2000666622">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-constraindoublerange-ideal-1">11.2 Types for Constrainable Properties</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-ulongrange">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-ulongrange">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1217868165">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-ulongrange-1">4.3.5 MediaTrackCapabilities</a> <a href="#ref-for-dom-ulongrange-2">(2)</a> <a href="#ref-for-dom-ulongrange-3">(3)</a> <a href="#ref-for-dom-ulongrange-4">(4)</a> <a href="#ref-for-dom-ulongrange-5">(5)</a> 
  </li><li>
    <a href="#ref-for-dom-ulongrange-6">Dictionary MediaTrackCapabilities Members</a> <a href="#ref-for-dom-ulongrange-7">(2)</a> <a href="#ref-for-dom-ulongrange-8">(3)</a> <a href="#ref-for-dom-ulongrange-9">(4)</a> <a href="#ref-for-dom-ulongrange-10">(5)</a> 
  </li><li>
    <a href="#ref-for-dom-ulongrange-11">11.2 Types for Constrainable Properties</a> <a href="#ref-for-dom-ulongrange-12">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-ulongrange-max">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-ulongrange-max">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1217868165">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-ulongrange-max-1">11.2 Types for Constrainable Properties</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-ulongrange-min">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-ulongrange-min">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1217868165">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-ulongrange-min-1">11.2 Types for Constrainable Properties</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-constrainulongrange">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-constrainulongrange">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1319739680">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-constrainulongrange-1">11.2 Types for Constrainable Properties</a> <a href="#ref-for-dom-constrainulongrange-2">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-constrainulongrange-exact">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-constrainulongrange-exact">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1319739680">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-constrainulongrange-exact-1">11.2 Types for Constrainable Properties</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-constrainulongrange-ideal">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-constrainulongrange-ideal">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1319739680">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-constrainulongrange-ideal-1">11.2 Types for Constrainable Properties</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-constrainbooleanparameters">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-constrainbooleanparameters">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-630267860">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-constrainbooleanparameters-1">11.2 Types for Constrainable Properties</a> <a href="#ref-for-dom-constrainbooleanparameters-2">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-constrainbooleanparameters-exact">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-constrainbooleanparameters-exact">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-630267860">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-constrainbooleanparameters-exact-1">11.2 Types for Constrainable Properties</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-constrainbooleanparameters-ideal">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-constrainbooleanparameters-ideal">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-630267860">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-constrainbooleanparameters-ideal-1">11.2 Types for Constrainable Properties</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-constraindomstringparameters">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-constraindomstringparameters">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2128815303">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-constraindomstringparameters-1">11.2 Types for Constrainable Properties</a> <a href="#ref-for-dom-constraindomstringparameters-2">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-constraindomstringparameters-exact">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-constraindomstringparameters-exact">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2128815303">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-constraindomstringparameters-exact-1">11.2 Types for Constrainable Properties</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-constraindomstringparameters-ideal">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-constraindomstringparameters-ideal">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2128815303">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-constraindomstringparameters-ideal-1">11.2 Types for Constrainable Properties</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-constrainulong">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-constrainulong">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-14693557">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-constrainulong-1">4.3.6 MediaTrackConstraints</a> <a href="#ref-for-dom-constrainulong-2">(2)</a> <a href="#ref-for-dom-constrainulong-3">(3)</a> <a href="#ref-for-dom-constrainulong-4">(4)</a> <a href="#ref-for-dom-constrainulong-5">(5)</a> 
  </li><li>
    <a href="#ref-for-dom-constrainulong-6">Dictionary MediaTrackConstraintSet Members</a> <a href="#ref-for-dom-constrainulong-7">(2)</a> <a href="#ref-for-dom-constrainulong-8">(3)</a> <a href="#ref-for-dom-constrainulong-9">(4)</a> <a href="#ref-for-dom-constrainulong-10">(5)</a> 
  </li><li>
    <a href="#ref-for-dom-constrainulong-11">4.3.8 Constrainable Properties</a> <a href="#ref-for-dom-constrainulong-12">(2)</a> <a href="#ref-for-dom-constrainulong-13">(3)</a> <a href="#ref-for-dom-constrainulong-14">(4)</a> <a href="#ref-for-dom-constrainulong-15">(5)</a> 
  </li><li>
    <a href="#ref-for-dom-constrainulong-16">11.2 Types for Constrainable Properties</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-constraindouble">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-constraindouble">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-206140352">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-constraindouble-1">4.3.6 MediaTrackConstraints</a> <a href="#ref-for-dom-constraindouble-2">(2)</a> <a href="#ref-for-dom-constraindouble-3">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-constraindouble-4">Dictionary MediaTrackConstraintSet Members</a> <a href="#ref-for-dom-constraindouble-5">(2)</a> <a href="#ref-for-dom-constraindouble-6">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-constraindouble-7">4.3.8 Constrainable Properties</a> <a href="#ref-for-dom-constraindouble-8">(2)</a> <a href="#ref-for-dom-constraindouble-9">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-constraindouble-10">11.2 Types for Constrainable Properties</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-constrainboolean">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-constrainboolean">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-550440922">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-constrainboolean-1">4.3.6 MediaTrackConstraints</a> <a href="#ref-for-dom-constrainboolean-2">(2)</a> <a href="#ref-for-dom-constrainboolean-3">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-constrainboolean-4">Dictionary MediaTrackConstraintSet Members</a> <a href="#ref-for-dom-constrainboolean-5">(2)</a> <a href="#ref-for-dom-constrainboolean-6">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-constrainboolean-7">4.3.8 Constrainable Properties</a> <a href="#ref-for-dom-constrainboolean-8">(2)</a> <a href="#ref-for-dom-constrainboolean-9">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-constrainboolean-10">11.2 Types for Constrainable Properties</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-constraindomstring">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-constraindomstring">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1617827164">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-constraindomstring-1">4.3.6 MediaTrackConstraints</a> <a href="#ref-for-dom-constraindomstring-2">(2)</a> <a href="#ref-for-dom-constraindomstring-3">(3)</a> <a href="#ref-for-dom-constraindomstring-4">(4)</a> 
  </li><li>
    <a href="#ref-for-dom-constraindomstring-5">Dictionary MediaTrackConstraintSet Members</a> <a href="#ref-for-dom-constraindomstring-6">(2)</a> <a href="#ref-for-dom-constraindomstring-7">(3)</a> <a href="#ref-for-dom-constraindomstring-8">(4)</a> 
  </li><li>
    <a href="#ref-for-dom-constraindomstring-9">4.3.8 Constrainable Properties</a> <a href="#ref-for-dom-constraindomstring-10">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-constraindomstring-11">11.2 Types for Constrainable Properties</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-capabilities">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-capabilities">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1716666343">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-capabilities-1">11.1 Interface Definition</a> 
  </li><li>
    <a href="#ref-for-dom-capabilities-2">11.3 Capabilities</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-settings">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-settings">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1939026694">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-settings-1">11.1 Interface Definition</a> 
  </li><li>
    <a href="#ref-for-dom-settings-2">11.4 Settings</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-constraints-and-constraintset">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-constraints-and-constraintset">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-constraintset">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-constraintset">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-168034668">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-constraintset-1">4.3.8 Constrainable Properties</a> <a href="#ref-for-dom-constraintset-2">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-constraintset-3">11.5 Constraints and ConstraintSet</a> <a href="#ref-for-dom-constraintset-4">(2)</a> <a href="#ref-for-dom-constraintset-5">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-constraintset-6">Dictionary Constraints Members</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-constraints">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-constraints">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-26239275">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-constraints-1">4.3.2 Tracks and Constraints</a> 
  </li><li>
    <a href="#ref-for-dom-constraints-2">5. The model: sources, sinks, constraints, and settings</a> <a href="#ref-for-dom-constraints-3">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-constraints-4">Dictionary MediaStreamConstraints Members</a> <a href="#ref-for-dom-constraints-5">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-constraints-6">11.1 Interface Definition</a> <a href="#ref-for-dom-constraints-7">(2)</a> <a href="#ref-for-dom-constraints-8">(3)</a> 
  </li><li>
    <a href="#ref-for-dom-constraints-9">11.2 Types for Constrainable Properties</a> 
  </li><li>
    <a href="#ref-for-dom-constraints-10">11.5 Constraints and ConstraintSet</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dom-constraints-advanced">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-constraints-advanced">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-26239275">IDL</a>
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dom-constraints-advanced-1">3. Terminology</a> 
  </li><li>
    <a href="#ref-for-dom-constraints-advanced-2">11. Constrainable Pattern</a> 
  </li><li>
    <a href="#ref-for-dom-constraints-advanced-3">11.5 Constraints and ConstraintSet</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-camera">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-camera">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-camera-1">Methods</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" hidden="" id="dfn-panel-for-dfn-microphone">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-microphone">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-microphone-1">Methods</a> 
  </li>
  </ul>
    </aside><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(dfnPanel);
} else {
  dfnPanel();
}

function dfnPanel() {
  /** @type {HTMLElement} */
  let panel;
  document.body.addEventListener("click", event => {
    if (!(event.target instanceof HTMLElement)) return;

    /** @type {HTMLElement} */
    const el = event.target;

    const action = deriveAction(el);
    switch (action) {
      case "show": {
        if (panel) hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = el.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        displayPanel(dfn, panel, { x: event.clientX, y: event.clientY });
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        break;
      }
    }
  });
}

/** @param {HTMLElement} clickTarget */
function deriveAction(clickTarget) {
  const hitALink = !!clickTarget.closest("a");
  if (clickTarget.closest("dfn, .index-term")) {
    return hitALink ? null : "show";
  }
  if (clickTarget.closest(".dfn-panel")) {
    if (hitALink) {
      const clickedSelfLink = clickTarget.classList.contains("self-link");
      return clickedSelfLink ? "hide" : "dock";
    }
    const panel = clickTarget.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : null;
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return null;
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script></body></html>
